(function(e){function t(a){if(o[a])return o[a].exports;var n=o[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,a){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var o=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(o,'a',o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=145)})([function(e,t){'use strict';var o={};o.ASSUME_TOUCH=!1,o.DEFAULT_MAX_ZOOM=42,o.DEFAULT_MIN_ZOOM=0,o.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD=0.5,o.DEFAULT_TILE_SIZE=256,o.DEFAULT_WMS_VERSION='1.3.0',o.ENABLE_CANVAS=!0,o.ENABLE_PROJ4JS=!0,o.ENABLE_RASTER_REPROJECTION=!0,o.ENABLE_WEBGL=!0,o.DEBUG_WEBGL=!0,o.INITIAL_ATLAS_SIZE=256,o.MAX_ATLAS_SIZE=-1,o.MOUSEWHEELZOOM_MAXDELTA=1,o.OVERVIEWMAP_MAX_RATIO=0.75,o.OVERVIEWMAP_MIN_RATIO=0.1,o.RASTER_REPROJECTION_MAX_SOURCE_TILES=100,o.RASTER_REPROJECTION_MAX_SUBDIVISION=10,o.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH=0.25,o.SIMPLIFY_TOLERANCE=0.5,o.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK=1024,o.VERSION='v4.3.1',o.WEBGL_MAX_TEXTURE_SIZE,o.WEBGL_EXTENSIONS,o.inherits=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},o.nullFunction=function(){},o.getUid=function(e){return e.ol_uid||(e.ol_uid=++o.uidCounter_)},o.uidCounter_=0,t.a=o},function(e,t,o){'use strict';var a=Math.max,n=Math.min,i=o(7),r=o(100),l=o(101),s={};s.boundingExtent=function(e){for(var t=s.createEmpty(),o=0,a=e.length;o<a;++o)s.extendCoordinate(t,e[o]);return t},s.boundingExtentXYs_=function(e,t,o){var i=n.apply(null,e),r=n.apply(null,t),l=a.apply(null,e),d=a.apply(null,t);return s.createOrUpdate(i,r,l,d,o)},s.buffer=function(e,t,o){return o?(o[0]=e[0]-t,o[1]=e[1]-t,o[2]=e[2]+t,o[3]=e[3]+t,o):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]},s.clone=function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()},s.closestSquaredDistanceXY=function(e,t,o){var a,n;return a=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,n=o<e[1]?e[1]-o:e[3]<o?o-e[3]:0,a*a+n*n},s.containsCoordinate=function(e,t){return s.containsXY(e,t[0],t[1])},s.containsExtent=function(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]},s.containsXY=function(e,t,o){return e[0]<=t&&t<=e[2]&&e[1]<=o&&o<=e[3]},s.coordinateRelationship=function(e,t){var o=e[0],a=e[1],n=e[2],i=e[3],r=t[0],s=t[1],d=l.a.UNKNOWN;return r<o?d|=l.a.LEFT:r>n&&(d|=l.a.RIGHT),s<a?d|=l.a.BELOW:s>i&&(d|=l.a.ABOVE),d===l.a.UNKNOWN&&(d=l.a.INTERSECTING),d},s.createEmpty=function(){return[Infinity,Infinity,-Infinity,-Infinity]},s.createOrUpdate=function(e,t,o,a,n){return n?(n[0]=e,n[1]=t,n[2]=o,n[3]=a,n):[e,t,o,a]},s.createOrUpdateEmpty=function(e){return s.createOrUpdate(Infinity,Infinity,-Infinity,-Infinity,e)},s.createOrUpdateFromCoordinate=function(e,t){var o=e[0],a=e[1];return s.createOrUpdate(o,a,o,a,t)},s.createOrUpdateFromCoordinates=function(e,t){var o=s.createOrUpdateEmpty(t);return s.extendCoordinates(o,e)},s.createOrUpdateFromFlatCoordinates=function(e,t,o,a,n){var i=s.createOrUpdateEmpty(n);return s.extendFlatCoordinates(i,e,t,o,a)},s.createOrUpdateFromRings=function(e,t){var o=s.createOrUpdateEmpty(t);return s.extendRings(o,e)},s.equals=function(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]},s.extend=function(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e},s.extendCoordinate=function(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])},s.extendCoordinates=function(e,t){var o,a;for(o=0,a=t.length;o<a;++o)s.extendCoordinate(e,t[o]);return e},s.extendFlatCoordinates=function(e,t,o,a,n){for(;o<a;o+=n)s.extendXY(e,t[o],t[o+1]);return e},s.extendRings=function(e,t){var o,a;for(o=0,a=t.length;o<a;++o)s.extendCoordinates(e,t[o]);return e},s.extendXY=function(e,t,o){e[0]=n(e[0],t),e[1]=n(e[1],o),e[2]=a(e[2],t),e[3]=a(e[3],o)},s.forEachCorner=function(e,t,o){var a;return(a=t.call(o,s.getBottomLeft(e)),a)?a:(a=t.call(o,s.getBottomRight(e)),a)?a:(a=t.call(o,s.getTopRight(e)),a)?a:(a=t.call(o,s.getTopLeft(e)),!!a&&a)},s.getArea=function(e){var t=0;return s.isEmpty(e)||(t=s.getWidth(e)*s.getHeight(e)),t},s.getBottomLeft=function(e){return[e[0],e[1]]},s.getBottomRight=function(e){return[e[2],e[1]]},s.getCenter=function(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]},s.getCorner=function(e,t){var o;return t===r.a.BOTTOM_LEFT?o=s.getBottomLeft(e):t===r.a.BOTTOM_RIGHT?o=s.getBottomRight(e):t===r.a.TOP_LEFT?o=s.getTopLeft(e):t===r.a.TOP_RIGHT?o=s.getTopRight(e):i.a.assert(!1,13),o},s.getEnlargedArea=function(e,t){var o=n(e[0],t[0]),i=n(e[1],t[1]),r=a(e[2],t[2]),l=a(e[3],t[3]);return(r-o)*(l-i)},s.getForViewAndSize=function(e,t,o,i,r){var l=t*i[0]/2,d=t*i[1]/2,p=Math.cos(o),g=Math.sin(o),c=l*p,u=l*g,_=d*p,h=d*g,m=e[0],f=e[1],y=m-c+h,E=m-c-h,T=m+c-h,S=m+c+h,x=f-u-_,C=f-u+_,R=f+u+_,I=f+u-_;return s.createOrUpdate(n(y,E,T,S),n(x,C,R,I),a(y,E,T,S),a(x,C,R,I),r)},s.getHeight=function(e){return e[3]-e[1]},s.getIntersectionArea=function(e,t){var o=s.getIntersection(e,t);return s.getArea(o)},s.getIntersection=function(e,t,o){var a=o?o:s.createEmpty();return s.intersects(e,t)&&(a[0]=e[0]>t[0]?e[0]:t[0],a[1]=e[1]>t[1]?e[1]:t[1],a[2]=e[2]<t[2]?e[2]:t[2],a[3]=e[3]<t[3]?e[3]:t[3]),a},s.getMargin=function(e){return s.getWidth(e)+s.getHeight(e)},s.getSize=function(e){return[e[2]-e[0],e[3]-e[1]]},s.getTopLeft=function(e){return[e[0],e[3]]},s.getTopRight=function(e){return[e[2],e[3]]},s.getWidth=function(e){return e[2]-e[0]},s.intersects=function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]},s.isEmpty=function(e){return e[2]<e[0]||e[3]<e[1]},s.returnOrUpdate=function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e},s.scaleFromCenter=function(e,t){var o=(e[2]-e[0])/2*(t-1),a=(e[3]-e[1])/2*(t-1);e[0]-=o,e[2]+=o,e[1]-=a,e[3]+=a},s.intersectsSegment=function(e,t,o){var a=!1,n=s.coordinateRelationship(e,t),i=s.coordinateRelationship(e,o);if(n===l.a.INTERSECTING||i===l.a.INTERSECTING)a=!0;else{var r=e[0],d=e[1],p=e[2],g=e[3],c=t[0],u=t[1],_=o[0],h=o[1],m=(h-u)/(_-c),f,E;!(i&l.a.ABOVE)||n&l.a.ABOVE||(f=_-(h-g)/m,a=f>=r&&f<=p),a||!(i&l.a.RIGHT)||n&l.a.RIGHT||(E=h-(_-p)*m,a=E>=d&&E<=g),a||!(i&l.a.BELOW)||n&l.a.BELOW||(f=_-(h-d)/m,a=f>=r&&f<=p),a||!(i&l.a.LEFT)||n&l.a.LEFT||(E=h-(_-r)*m,a=E>=d&&E<=g)}return a},s.applyTransform=function(e,t,o){var a=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];t(a,a,2);var n=[a[0],a[2],a[4],a[6]],i=[a[1],a[3],a[5],a[7]];return s.boundingExtentXYs_(n,i,o)},t.a=s},function(e,t){'use strict';var o={};o.assign='function'==typeof Object.assign?Object.assign:function(e){if(e===void 0||null===e)throw new TypeError('Cannot convert undefined or null to object');for(var t=Object(e),o=1,a=arguments.length,n;o<a;++o)if(n=arguments[o],void 0!==n&&null!==n)for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t},o.clear=function(e){for(var t in e)delete e[t]},o.getValues=function(e){var t=[];for(var o in e)t.push(e[o]);return t},o.isEmpty=function(e){for(var t in e)return!1;return!t},t.a=o},function(e,t){'use strict';var o={};o.binarySearch=function(e,t,a){for(var n=a||o.numberSafeCompareFunction,i=0,r=e.length,l=!1,s,d;i<r;)s=i+(r-i>>1),d=+n(e[s],t),0>d?i=s+1:(r=s,l=!d);return l?i:~i},o.numberSafeCompareFunction=function(e,t){return e>t?1:e<t?-1:0},o.includes=function(e,t){return 0<=e.indexOf(t)},o.linearFindNearest=function(e,t,o){var a=e.length;if(e[0]<=t)return 0;if(t<=e[a-1])return a-1;var n;if(0<o){for(n=1;n<a;++n)if(e[n]<t)return n-1;}else if(0>o){for(n=1;n<a;++n)if(e[n]<=t)return n;}else for(n=1;n<a;++n){if(e[n]==t)return n;if(e[n]<t)return e[n-1]-t<t-e[n]?n-1:n}return a-1},o.reverseSubArray=function(e,t,o){for(;t<o;){var a=e[t];e[t]=e[o],e[o]=a,++t,--o}},o.extend=function(e,t){var o=Array.isArray(t)?t:[t],a=o.length,n;for(n=0;n<a;n++)e[e.length]=o[n]},o.remove=function(e,t){var o=e.indexOf(t),a=-1<o;return a&&e.splice(o,1),a},o.find=function(e,t){for(var o=e.length>>>0,a=0,n;a<o;a++)if(n=e[a],t(n,a,e))return n;return null},o.equals=function(e,t){var o=e.length;if(o!==t.length)return!1;for(var a=0;a<o;a++)if(e[a]!==t[a])return!1;return!0},o.stableSort=function(e,t){var o=e.length,a=Array(e.length),n;for(n=0;n<o;n++)a[n]={index:n,value:e[n]};for(a.sort(function(e,o){return t(e.value,o.value)||e.index-o.index}),n=0;n<e.length;n++)e[n]=a[n].value},o.findIndex=function(e,t){var o=!e.every(function(o,n){return a=n,!t(o,n,e)}),a;return o?a:-1},o.isSorted=function(e,t,a){var n=t||o.numberSafeCompareFunction;return e.every(function(t,o){if(0===o)return!0;var i=n(e[o-1],t);return!(0<i||a&&0===i)})},t.a=o},function(e,t,o){'use strict';var a=o(2),n={};n.bindListener_=function(e){var t=function(t){var o=e.listener,a=e.bindTo||e.target;return e.callOnce&&n.unlistenByKey(e),o.call(a,t)};return e.boundListener=t,t},n.findListener_=function(e,t,o,a){for(var n=0,i=e.length,r;n<i;++n)if(r=e[n],r.listener===t&&r.bindTo===o)return a&&(r.deleteIndex=n),r},n.getListeners=function(e,t){var o=e.ol_lm;return o?o[t]:void 0},n.getListenerMap_=function(e){var t=e.ol_lm;return t||(t=e.ol_lm={}),t},n.removeListeners_=function(e,t){var o=n.getListeners(e,t);if(o){for(var r=0,i=o.length;r<i;++r)e.removeEventListener(t,o[r].boundListener),a.a.clear(o[r]);o.length=0;var l=e.ol_lm;l&&(delete l[t],0===Object.keys(l).length&&delete e.ol_lm)}},n.listen=function(e,t,o,a,i){var r=n.getListenerMap_(e),l=r[t];l||(l=r[t]=[]);var s=n.findListener_(l,o,a,!1);return s?!i&&(s.callOnce=!1):(s={bindTo:a,callOnce:!!i,listener:o,target:e,type:t},e.addEventListener(t,n.bindListener_(s)),l.push(s)),s},n.listenOnce=function(e,t,o,a){return n.listen(e,t,o,a,!0)},n.unlisten=function(e,t,o,a){var i=n.getListeners(e,t);if(i){var r=n.findListener_(i,o,a,!0);r&&n.unlistenByKey(r)}},n.unlistenByKey=function(e){if(e&&e.target){e.target.removeEventListener(e.type,e.boundListener);var t=n.getListeners(e.target,e.type);if(t){var o='deleteIndex'in e?e.deleteIndex:t.indexOf(e);-1!==o&&t.splice(o,1),0===t.length&&n.removeListeners_(e.target,e.type)}a.a.clear(e)}},n.unlistenAll=function(e){var t=n.getListenerMap_(e);for(var o in t)n.removeListeners_(e,o)},t.a=n},function(e,t){'use strict';t.a={CHANGE:'change',CLICK:'click',DBLCLICK:'dblclick',DRAGENTER:'dragenter',DRAGOVER:'dragover',DROP:'drop',ERROR:'error',KEYDOWN:'keydown',KEYPRESS:'keypress',LOAD:'load',MOUSEDOWN:'mousedown',MOUSEMOVE:'mousemove',MOUSEOUT:'mouseout',MOUSEUP:'mouseup',MOUSEWHEEL:'mousewheel',MSPOINTERDOWN:'MSPointerDown',RESIZE:'resize',TOUCHSTART:'touchstart',TOUCHMOVE:'touchmove',TOUCHEND:'touchend',WHEEL:'wheel'}},function(e,t,o){'use strict';var a=Math.PI,l=Math.abs,n=o(7),i={};i.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},i.cosh=function(){var e;return e='cosh'in Math?Math.cosh:function(e){var t=Math.exp(e);return(t+1/t)/2},e}(),i.roundUpToPowerOfTwo=function(e){return n.a.assert(0<e,29),Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},i.squaredSegmentDistance=function(e,o,a,n,r,l){var s=r-a,d=l-n;if(0!=s||0!=d){var p=((e-a)*s+(o-n)*d)/(s*s+d*d);1<p?(a=r,n=l):0<p&&(a+=s*p,n+=d*p)}return i.squaredDistance(e,o,a,n)},i.squaredDistance=function(e,t,o,a){var n=o-e,i=a-t;return n*n+i*i},i.solveLinearSystem=function(e){for(var t=e.length,o=0;o<t;o++){for(var a=o,n=l(e[o][o]),i=o+1,r;i<t;i++)r=l(e[i][o]),r>n&&(n=r,a=i);if(0===n)return null;var s=e[a];e[a]=e[o],e[o]=s;for(var d=o+1,p;d<t;d++){p=-e[d][o]/e[o][o];for(var g=o;g<t+1;g++)o==g?e[d][g]=0:e[d][g]+=p*e[o][g]}}for(var c=Array(t),u=t-1;0<=u;u--){c[u]=e[u][t]/e[u][u];for(var _=u-1;0<=_;_--)e[_][t]-=e[_][u]*c[u]}return c},i.toDegrees=function(e){return 180*e/a},i.toRadians=function(e){return e*a/180},i.modulo=function(e,t){var o=e%t;return 0>o*t?o+t:o},i.lerp=function(e,t,o){return e+o*(t-e)},t.a=i},function(e,t,o){'use strict';var a=o(93),n={};n.assert=function(e,t){if(!e)throw new a.a(t)},t.a=n},function(e,t){'use strict';var o={};o.createCanvasContext2D=function(e,t){var o=document.createElement('CANVAS');return e&&(o.width=e),t&&(o.height=t),o.getContext('2d')},o.outerWidth=function(e){var t=e.offsetWidth,o=getComputedStyle(e);return t+=parseInt(o.marginLeft,10)+parseInt(o.marginRight,10),t},o.outerHeight=function(e){var t=e.offsetHeight,o=getComputedStyle(e);return t+=parseInt(o.marginTop,10)+parseInt(o.marginBottom,10),t},o.replaceNode=function(e,t){var o=t.parentNode;o&&o.replaceChild(e,t)},o.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},o.removeChildren=function(e){for(;e.lastChild;)e.removeChild(e.lastChild)},t.a=o},function(e,t){'use strict';t.a={POINT:'Point',LINE_STRING:'LineString',LINEAR_RING:'LinearRing',POLYGON:'Polygon',MULTI_POINT:'MultiPoint',MULTI_LINE_STRING:'MultiLineString',MULTI_POLYGON:'MultiPolygon',GEOMETRY_COLLECTION:'GeometryCollection',CIRCLE:'Circle'}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(0),n=o(162),i=o(1),r=o(163),l=o(164),s=o(59),d=o(22),p=o(102),g=o(165),c=o(166),u={};u.METERS_PER_UNIT=d.a.METERS_PER_UNIT,u.SPHERE_=new n.a(n.a.DEFAULT_RADIUS),a.a.ENABLE_PROJ4JS&&(u.setProj4=function(e){p.a.set(e)}),u.getPointResolution=function(e,t,o,a){e=u.get(e);var n=e.getPointResolutionFunc(),i;if(n)i=n(t,o);else{var r=e.getUnits();if(r==d.a.DEGREES&&!a||a==d.a.DEGREES)i=t;else{var l=u.getTransformFromProjections(e,u.get('EPSG:4326')),s=[o[0]-t/2,o[1],o[0]+t/2,o[1],o[0],o[1]-t/2,o[0],o[1]+t/2];s=l(s,s,2);var p=u.SPHERE_.haversineDistance(s.slice(0,2),s.slice(2,4)),g=u.SPHERE_.haversineDistance(s.slice(4,6),s.slice(6,8));i=(p+g)/2;var c=a?d.a.METERS_PER_UNIT[a]:e.getMetersPerUnit();c!==void 0&&(i/=c)}}return i},u.addEquivalentProjections=function(e){u.addProjections(e),e.forEach(function(t){e.forEach(function(e){t!==e&&c.a.add(t,e,u.cloneTransform)})})},u.addEquivalentTransforms=function(e,t,o,a){e.forEach(function(e){t.forEach(function(t){c.a.add(e,t,o),c.a.add(t,e,a)})})},u.addProjection=function(e){g.a.add(e.getCode(),e),c.a.add(e,e,u.cloneTransform)},u.addProjections=function(e){e.forEach(u.addProjection)},u.clearAllProjections=function(){g.a.clear(),c.a.clear()},u.createProjection=function(e,t){return e?'string'==typeof e?u.get(e):e:u.get(t)},u.addCoordinateTransforms=function(e,t,o,a){var n=u.get(e),i=u.get(t);c.a.add(n,i,u.createTransformFromCoordinateTransform(o)),c.a.add(i,n,u.createTransformFromCoordinateTransform(a))},u.createTransformFromCoordinateTransform=function(e){return function(t,o,a){var n=t.length,r=a===void 0?2:a,l=o===void 0?Array(n):o,s,d,i;for(d=0;d<n;d+=r)for(s=e([t[d],t[d+1]]),l[d]=s[0],l[d+1]=s[1],i=r-1;2<=i;--i)l[d+i]=t[d+i];return l}},u.fromLonLat=function(e,t){return u.transform(e,'EPSG:4326',t===void 0?'EPSG:3857':t)},u.toLonLat=function(e,t){return u.transform(e,t===void 0?'EPSG:3857':t,'EPSG:4326')},u.get=function(e){var t=null;if(e instanceof s.a)t=e;else if('string'==typeof e){var o=e;if(t=g.a.get(o),a.a.ENABLE_PROJ4JS&&!t){var n=p.a.get();'function'==typeof n&&void 0!==n.defs(o)&&(t=new s.a({code:o}),u.addProjection(t))}}return t},u.equivalent=function(e,t){if(e===t)return!0;var o=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode())return o;var a=u.getTransformFromProjections(e,t);return a===u.cloneTransform&&o},u.getTransform=function(e,t){var o=u.get(e),a=u.get(t);return u.getTransformFromProjections(o,a)},u.getTransformFromProjections=function(e,t){var o=e.getCode(),n=t.getCode(),i=c.a.get(o,n);if(a.a.ENABLE_PROJ4JS&&!i){var r=p.a.get();if('function'==typeof r){var l=r.defs(o),s=r.defs(n);if(void 0!==l&&void 0!==s){if(l===s)u.addEquivalentProjections([t,e]);else{var d=r(n,o);u.addCoordinateTransforms(t,e,d.forward,d.inverse)}i=c.a.get(o,n)}}}return i||(i=u.identityTransform),i},u.identityTransform=function(e,t){if(t!==void 0&&e!==t){for(var o=0,a=e.length;o<a;++o)t[o]=e[o];e=t}return e},u.cloneTransform=function(e,t){var o;if(t!==void 0){for(var a=0,n=e.length;a<n;++a)t[a]=e[a];o=t}else o=e.slice();return o},u.transform=function(e,t,o){var a=u.getTransform(t,o);return a(e,void 0,e.length)},u.transformExtent=function(e,t,o){var a=u.getTransform(t,o);return i.a.applyTransform(e,a)},u.transformWithProjections=function(e,t,o){var a=u.getTransformFromProjections(t,o);return a(e)},u.addCommon=function(){u.addEquivalentProjections(r.a.PROJECTIONS),u.addEquivalentProjections(l.a.PROJECTIONS),u.addEquivalentTransforms(l.a.PROJECTIONS,r.a.PROJECTIONS,r.a.fromEPSG4326,r.a.toEPSG4326)},u.addCommon(),t['default']=u},function(e,t){'use strict';t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(e,t){'use strict';var o={};o.TRUE=function(){return!0},o.FALSE=function(){return!1},t.a=o},function(e,t,o){'use strict';var a=Math.sin,n=Math.cos,i=o(7),r={};r.tmp_=[,,,,,,],r.create=function(){return[1,0,0,1,0,0]},r.reset=function(e){return r.set(e,1,0,0,1,0,0)},r.multiply=function(e,t){var o=e[0],a=e[1],n=e[2],i=e[3],r=e[4],l=e[5],s=t[0],d=t[1],p=t[2],g=t[3],c=t[4],u=t[5];return e[0]=o*s+n*d,e[1]=a*s+i*d,e[2]=o*p+n*g,e[3]=a*p+i*g,e[4]=o*c+n*u+r,e[5]=a*c+i*u+l,e},r.set=function(t,o,a,n,i,r,e){return t[0]=o,t[1]=a,t[2]=n,t[3]=i,t[4]=r,t[5]=e,t},r.setFromArray=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},r.apply=function(e,t){var o=t[0],a=t[1];return t[0]=e[0]*o+e[2]*a+e[4],t[1]=e[1]*o+e[3]*a+e[5],t},r.rotate=function(e,t){var o=n(t),i=a(t);return r.multiply(e,r.set(r.tmp_,o,i,-i,o,0,0))},r.scale=function(e,t,o){return r.multiply(e,r.set(r.tmp_,t,0,0,o,0,0))},r.translate=function(e,t,o){return r.multiply(e,r.set(r.tmp_,1,0,0,1,t,o))},r.compose=function(e,t,o,i,r,l,s,d){var p=a(l),g=n(l);return e[0]=i*g,e[1]=r*p,e[2]=-i*p,e[3]=r*g,e[4]=s*i*g-d*i*p+t,e[5]=s*r*p+d*r*g+o,e},r.invert=function(t){var o=r.determinant(t);i.a.assert(0!==o,32);var n=t[0],a=t[1],l=t[2],s=t[3],d=t[4],e=t[5];return t[0]=s/o,t[1]=-a/o,t[2]=-l/o,t[3]=n/o,t[4]=(l*e-s*d)/o,t[5]=-(n*e-a*d)/o,t},r.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},t.a=r},function(e,t,o){'use strict';var a=o(0)},function(e,t,o){'use strict';var a=o(0),n=o(54),i=o(75),r=o(16),l=o(2),s=function(e){i.a.call(this),a.a.getUid(this),this.values_={},e!==void 0&&this.setProperties(e)};a.a.inherits(s,i.a),s.changeEventTypeCache_={},s.getChangeEventType=function(e){return s.changeEventTypeCache_.hasOwnProperty(e)?s.changeEventTypeCache_[e]:s.changeEventTypeCache_[e]='change:'+e},s.prototype.get=function(e){var t;return this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},s.prototype.getKeys=function(){return Object.keys(this.values_)},s.prototype.getProperties=function(){return l.a.assign({},this.values_)},s.prototype.notify=function(e,t){var o;o=s.getChangeEventType(e),this.dispatchEvent(new s.Event(o,e,t)),o=n.a.PROPERTYCHANGE,this.dispatchEvent(new s.Event(o,e,t))},s.prototype.set=function(e,t,o){if(o)this.values_[e]=t;else{var a=this.values_[e];this.values_[e]=t,a!==t&&this.notify(e,a)}},s.prototype.setProperties=function(e,t){for(var o in e)this.set(o,e[o],t)},s.prototype.unset=function(e,t){if(e in this.values_){var o=this.values_[e];delete this.values_[e],t||this.notify(e,o)}},s.Event=function(e,t,o){r.a.call(this,e),this.key=t,this.oldValue=o},a.a.inherits(s.Event,r.a),t.a=s},function(e,t){'use strict';var o=function(e){this.propagationStopped,this.type=e,this.target=null};o.prototype.preventDefault=o.prototype.stopPropagation=function(){this.propagationStopped=!0},o.stopPropagation=function(e){e.stopPropagation()},o.preventDefault=function(e){e.preventDefault()},t.a=o},function(e,t){'use strict';t.a={ANIMATING:0,INTERACTING:1}},function(e,t,o){'use strict';var a=o(0),n=o(14),i={},r='undefined'==typeof navigator?'':navigator.userAgent.toLowerCase();i.FIREFOX=-1!==r.indexOf('firefox'),i.SAFARI=-1!==r.indexOf('safari')&&-1==r.indexOf('chrom'),i.WEBKIT=-1!==r.indexOf('webkit')&&-1==r.indexOf('edge'),i.MAC=-1!==r.indexOf('macintosh'),i.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,i.CANVAS_LINE_DASH=!1,i.CANVAS=a.a.ENABLE_CANVAS&&function(){if(!('HTMLCanvasElement'in window))return!1;try{var e=document.createElement('CANVAS').getContext('2d');return!!e&&(void 0!==e.setLineDash&&(i.CANVAS_LINE_DASH=!0),!0)}catch(t){return!1}}(),i.DEVICE_ORIENTATION='DeviceOrientationEvent'in window,i.GEOLOCATION='geolocation'in navigator,i.TOUCH=a.a.ASSUME_TOUCH||'ontouchstart'in window,i.POINTER='PointerEvent'in window,i.MSPOINTER=!!navigator.msPointerEnabled,i.WEBGL,function(){}(),t.a=i},function(e,t){'use strict';t.a={XY:'XY',XYZ:'XYZ',XYM:'XYM',XYZM:'XYZM'}},function(e,t,o){'use strict';var a=o(0),n=o(12),i=o(1),r=o(58),l=o(19),s=o(27),d=o(2),p=function(){r.a.call(this),this.layout=l.a.XY,this.stride=2,this.flatCoordinates=null};a.a.inherits(p,r.a),p.getLayoutForStride_=function(e){var t;return 2==e?t=l.a.XY:3==e?t=l.a.XYZ:4==e&&(t=l.a.XYZM),t},p.getStrideForLayout=function(e){var t;return e==l.a.XY?t=2:e==l.a.XYZ||e==l.a.XYM?t=3:e==l.a.XYZM&&(t=4),t},p.prototype.containsXY=n.a.FALSE,p.prototype.computeExtent=function(e){return i.a.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},p.prototype.getCoordinates=function(){},p.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},p.prototype.getFlatCoordinates=function(){return this.flatCoordinates},p.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},p.prototype.getLayout=function(){return this.layout},p.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(d.a.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t))return this.simplifiedGeometryCache[t];var o=this.getSimplifiedGeometryInternal(e),a=o.getFlatCoordinates();return a.length<this.flatCoordinates.length?(this.simplifiedGeometryCache[t]=o,o):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},p.prototype.getSimplifiedGeometryInternal=function(){return this},p.prototype.getStride=function(){return this.stride},p.prototype.setFlatCoordinatesInternal=function(e,t){this.stride=p.getStrideForLayout(e),this.layout=e,this.flatCoordinates=t},p.prototype.setCoordinates=function(){},p.prototype.setLayout=function(e,t,o){var a;if(e)a=p.getStrideForLayout(e);else{var n;for(n=0;n<o;++n){if(0===t.length)return this.layout=l.a.XY,void(this.stride=2);t=t[0]}a=t.length,e=p.getLayoutForStride_(a)}this.layout=e,this.stride=a},p.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},p.prototype.rotate=function(e,t){var o=this.getFlatCoordinates();if(o){var a=this.getStride();s.a.rotate(o,0,o.length,a,e,t,o),this.changed()}},p.prototype.scale=function(e,t,o){var a=t;a===void 0&&(a=e);var n=o;n||(n=i.a.getCenter(this.getExtent()));var r=this.getFlatCoordinates();if(r){var l=this.getStride();s.a.scale(r,0,r.length,l,e,a,n,r),this.changed()}},p.prototype.translate=function(e,t){var o=this.getFlatCoordinates();if(o){var a=this.getStride();s.a.translate(o,0,o.length,a,e,t,o),this.changed()}},p.transform2D=function(e,t,o){var a=e.getFlatCoordinates();if(!a)return null;var n=e.getStride();return s.a.transform2D(a,0,a.length,n,t,o)},t.a=p},function(e,t){'use strict';var o={};o.defaultFont='10px sans-serif',o.defaultFillStyle=[0,0,0,1],o.defaultLineCap='round',o.defaultLineDash=[],o.defaultLineDashOffset=0,o.defaultLineJoin='round',o.defaultMiterLimit=10,o.defaultStrokeStyle=[0,0,0,1],o.defaultTextAlign='center',o.defaultTextBaseline='middle',o.defaultLineWidth=1,o.rotateAtOffset=function(e,t,o,a){0!==t&&(e.translate(o,a),e.rotate(t),e.translate(-o,-a))},t.a=o},function(e,t){'use strict';var o={DEGREES:'degrees',FEET:'ft',METERS:'m',PIXELS:'pixels',TILE_PIXELS:'tile-pixels',USFEET:'us-ft'};o.METERS_PER_UNIT={},o.METERS_PER_UNIT[o.DEGREES]=6370997*(2*Math.PI)/360,o.METERS_PER_UNIT[o.FEET]=0.3048,o.METERS_PER_UNIT[o.METERS]=1,o.METERS_PER_UNIT[o.USFEET]=1200/3937,t.a=o},function(e,t,o){'use strict';var a=o(0),n=o(15),i=o(26),r=o(175),l=function(e){n.a.call(this),this.map_=null,this.setActive(!0),this.handleEvent=e.handleEvent};a.a.inherits(l,n.a),l.prototype.getActive=function(){return this.get(r.a.ACTIVE)},l.prototype.getMap=function(){return this.map_},l.prototype.setActive=function(e){this.set(r.a.ACTIVE,e)},l.prototype.setMap=function(e){this.map_=e},l.pan=function(e,t,o){var a=e.getCenter();if(a){var n=e.constrainCenter([a[0]+t[0],a[1]+t[1]]);o?e.animate({duration:o,easing:i.a.linear,center:n}):e.setCenter(n)}},l.rotate=function(e,t,o,a){t=e.constrainRotation(t,0),l.rotateWithoutConstraints(e,t,o,a)},l.rotateWithoutConstraints=function(e,t,o,a){if(t!==void 0){var n=e.getRotation(),r=e.getCenter();n!==void 0&&r&&0<a?e.animate({rotation:t,anchor:o,duration:a,easing:i.a.easeOut}):e.rotate(t,o)}},l.zoom=function(e,t,o,a,n){t=e.constrainResolution(t,0,n),l.zoomWithoutConstraints(e,t,o,a)},l.zoomByDelta=function(e,t,o,a){var n=e.getResolution(),i=e.constrainResolution(n,t,0);if(o&&i!==void 0&&i!==n){var r=e.getCenter(),s=e.calculateCenterZoom(i,o);s=e.constrainCenter(s),o=[(i*r[0]-n*s[0])/(i-n),(i*r[1]-n*s[1])/(i-n)]}l.zoomWithoutConstraints(e,i,o,a)},l.zoomWithoutConstraints=function(e,t,o,a){if(t){var n=e.getResolution(),r=e.getCenter();if(n!==void 0&&r&&t!==n&&a)e.animate({resolution:t,anchor:o,duration:a,easing:i.a.easeOut});else{if(o){var l=e.calculateCenterZoom(t,o);e.setCenter(l)}e.setResolution(t)}}},t.a=l},function(e,t){'use strict';t.a={UNDEFINED:'undefined',LOADING:'loading',READY:'ready',ERROR:'error'}},function(e,t,o){'use strict';var i=o(7),a=o(6),l={};l.HEX_COLOR_RE_=/^#(?:[0-9a-f]{3}){1,2}$/i,l.NAMED_COLOR_RE_=/^([a-z]*)$/i,l.asArray=function(e){return Array.isArray(e)?e:l.fromString(e)},l.asString=function(e){return'string'==typeof e?e:l.toString(e)},l.fromNamed=function(e){var t=document.createElement('div');t.style.color=e,document.body.appendChild(t);var o=getComputedStyle(t).color;return document.body.removeChild(t),o},l.fromString=function(){var e={},t=0;return function(o){var a;if(e.hasOwnProperty(o))a=e[o];else{if(t>=1024){var n=0,i;for(i in e)0==(3&n++)&&(delete e[i],--t)}a=l.fromStringInternal_(o),e[o]=a,++t}return a}}(),l.fromStringInternal_=function(e){var t,o,r,s,a,p;if(l.NAMED_COLOR_RE_.exec(e)&&(e=l.fromNamed(e)),l.HEX_COLOR_RE_.exec(e)){var g=e.length-1;i.a.assert(3==g||6==g,54);var n=3==g?1:2;t=parseInt(e.substr(1+0*n,n),16),o=parseInt(e.substr(1+1*n,n),16),r=parseInt(e.substr(1+2*n,n),16),1==n&&(t=(t<<4)+t,o=(o<<4)+o,r=(r<<4)+r),s=1,a=[t,o,r,s]}else 0==e.indexOf('rgba(')?(p=e.slice(5,-1).split(',').map(Number),a=l.normalize(p)):0==e.indexOf('rgb(')?(p=e.slice(4,-1).split(',').map(Number),p.push(1),a=l.normalize(p)):i.a.assert(!1,14);return a},l.normalize=function(e,t){var o=t||[];return o[0]=a.a.clamp(0|e[0]+0.5,0,255),o[1]=a.a.clamp(0|e[1]+0.5,0,255),o[2]=a.a.clamp(0|e[2]+0.5,0,255),o[3]=a.a.clamp(e[3],0,1),o},l.toString=function(e){var t=e[0];t!=(0|t)&&(t=0|t+0.5);var o=e[1];o!=(0|o)&&(o=0|o+0.5);var n=e[2];n!=(0|n)&&(n=0|n+0.5);var i=e[3]===void 0?1:e[3];return'rgba('+t+','+o+','+n+','+i+')'},t.a=l},function(e,t){'use strict';var o={};o.easeIn=function(e){return Math.pow(e,3)},o.easeOut=function(e){return 1-o.easeIn(1-e)},o.inAndOut=function(e){return 3*e*e-2*e*e*e},o.linear=function(e){return e},o.upAndDown=function(e){return 0.5>e?o.inAndOut(2*e):1-o.inAndOut(2*(e-0.5))},t.a=o},function(e,t){'use strict';var o={};o.transform2D=function(e,t,o,a,n,r){var l=r?r:[],s=0,i;for(i=t;i<o;i+=a){var d=e[i],p=e[i+1];l[s++]=n[0]*d+n[2]*p+n[4],l[s++]=n[1]*d+n[3]*p+n[5]}return r&&l.length!=s&&(l.length=s),l},o.rotate=function(e,t,o,a,n,r,l){for(var s=l?l:[],d=Math.cos(n),p=Math.sin(n),g=r[0],c=r[1],u=0,i=t;i<o;i+=a){var _=e[i]-g,y=e[i+1]-c;s[u++]=g+_*d-y*p,s[u++]=c+_*p+y*d;for(var h=i+2;h<i+a;++h)s[u++]=e[h]}return l&&s.length!=u&&(s.length=u),s},o.scale=function(e,t,o,a,n,r,l,s){for(var d=s?s:[],p=l[0],g=l[1],c=0,i=t;i<o;i+=a){var u=e[i]-p,_=e[i+1]-g;d[c++]=p+n*u,d[c++]=g+r*_;for(var y=i+2;y<i+a;++y)d[c++]=e[y]}return s&&d.length!=c&&(d.length=c),d},o.translate=function(e,t,o,a,n,r,l){var s=l?l:[],d=0,i,p;for(i=t;i<o;i+=a)for(s[d++]=e[i]+n,s[d++]=e[i+1]+r,p=i+2;p<i+a;++p)s[d++]=e[p];return l&&s.length!=d&&(s.length=d),s},t.a=o},function(e,t){'use strict';var o={};o.coordinate=function(e,t,o){var a,n;for(a=0,n=o.length;a<n;++a)e[t++]=o[a];return t},o.coordinates=function(e,t,o,a){var n,i;for(n=0,i=o.length;n<i;++n){var r=o[n],l;for(l=0;l<a;++l)e[t++]=r[l]}return t},o.coordinatess=function(e,t,a,n,r){var l=r?r:[],s=0,i,d;for(i=0,d=a.length;i<d;++i){var p=o.coordinates(e,t,a[i],n);l[s++]=p,t=p}return l.length=s,l},o.coordinatesss=function(e,t,a,n,r){var l=r?r:[],s=0,i,d;for(i=0,d=a.length;i<d;++i){var p=o.coordinatess(e,t,a[i],n,l[s]);l[s++]=p,t=p[p.length-1]}return l.length=s,l},t.a=o},function(e,t){'use strict';var o={};o.coordinates=function(e,t,o,a,n){var r=void 0===n?[]:n,l=0,i;for(i=t;i<o;i+=a)r[l++]=e.slice(i,i+a);return r.length=l,r},o.coordinatess=function(e,t,a,n,r){var l=void 0===r?[]:r,s=0,i,d;for(i=0,d=a.length;i<d;++i){var p=a[i];l[s++]=o.coordinates(e,t,p,n,l[s]),t=p}return l.length=s,l},o.coordinatesss=function(e,t,a,n,r){var l=void 0===r?[]:r,s=0,i,d;for(i=0,d=a.length;i<d;++i){var p=a[i];l[s++]=o.coordinatess(e,t,p,n,l[s]),t=p[p.length-1]}return l.length=s,l},t.a=o},function(e,t,o){'use strict';var a=o(0),n=o(14);var i},function(e,t){'use strict';var o={};o.buffer=function(e,t,o){return void 0===o&&(o=[0,0]),o[0]=e[0]+2*t,o[1]=e[1]+2*t,o},o.hasArea=function(e){return 0<e[0]&&0<e[1]},o.scale=function(e,t,o){return void 0===o&&(o=[0,0]),o[0]=0|e[0]*t+0.5,o[1]=0|e[1]*t+0.5,o},o.toSize=function(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:t[0]=t[1]=e,t)},t.a=o},function(e,t,o){'use strict';var a=o(0),n=o(31),i=o(1),r=o(100),l=o(2),s=o(10),d=o(22),p=o(209),g={};g.getForProjection=function(e){var t=e.getDefaultTileGrid();return t||(t=g.createForProjection(e),e.setDefaultTileGrid(t)),t},g.wrapX=function(e,t,o){var a=t[0],n=e.getTileCoordCenter(t),r=g.extentFromProjection(o);if(!i.a.containsCoordinate(r,n)){var l=i.a.getWidth(r),s=Math.ceil((r[0]-n[0])/l);return n[0]+=l*s,e.getTileCoordForCoordAndZ(n,a)}return t},g.createForExtent=function(e,t,o,a){var n=a===void 0?r.a.TOP_LEFT:a,l=g.resolutionsFromExtent(e,t,o);return new p.a({extent:e,origin:i.a.getCorner(e,n),resolutions:l,tileSize:o})},g.createXYZ=function(e){var t={};return l.a.assign(t,void 0===e?{}:e),void 0===t.extent&&(t.extent=s['default'].get('EPSG:3857').getExtent()),t.resolutions=g.resolutionsFromExtent(t.extent,t.maxZoom,t.tileSize),delete t.maxZoom,new p.a(t)},g.resolutionsFromExtent=function(e,t,o){for(var r=t===void 0?a.a.DEFAULT_MAX_ZOOM:t,l=i.a.getHeight(e),s=i.a.getWidth(e),d=n.a.toSize(o===void 0?a.a.DEFAULT_TILE_SIZE:o),p=Math.max(s/d[0],l/d[1]),g=r+1,c=Array(g),u=0;u<g;++u)c[u]=p/Math.pow(2,u);return c},g.createForProjection=function(e,t,o,a){var n=g.extentFromProjection(e);return g.createForExtent(n,t,o,a)},g.extentFromProjection=function(e){e=s['default'].get(e);var t=e.getExtent();if(!t){var o=180*s['default'].METERS_PER_UNIT[d.a.DEGREES]/e.getMetersPerUnit();t=i.a.createOrUpdate(-o,-o,o,o)}return t},t.a=g},function(e,t,o){'use strict';var a=o(6),n={};n.lineString=function(e,t,o,a,i,r,l){var s=void 0===l?[]:l;return r||(o=n.radialDistance(e,t,o,a,i,s,0),e=s,t=0,a=2),s.length=n.douglasPeucker(e,t,o,a,i,s,0),s},n.douglasPeucker=function(e,t,o,r,l,s,d){var p=(o-t)/r;if(3>p){for(;t<o;t+=r)s[d++]=e[t],s[d++]=e[t+1];return d}var n=Array(p);n[0]=1,n[p-1]=1;for(var g=[t,o-r],c=0,u;0<g.length;){var i=g.pop(),_=g.pop(),h=0,m=e[_],f=e[_+1],E=e[i],T=e[i+1];for(u=_+r;u<i;u+=r){var S=e[u],x=e[u+1],y=a.a.squaredSegmentDistance(S,x,m,f,E,T);y>h&&(c=u,h=y)}h>l&&(n[(c-t)/r]=1,_+r<c&&g.push(_,c),c+r<i&&g.push(c,i))}for(u=0;u<p;++u)n[u]&&(s[d++]=e[t+u*r],s[d++]=e[t+u*r+1]);return d},n.douglasPeuckers=function(e,t,o,a,r,l,s,d){var p,i;for(p=0,i=o.length;p<i;++p){var g=o[p];s=n.douglasPeucker(e,t,g,a,r,l,s),d.push(s),t=g}return s},n.douglasPeuckerss=function(e,t,o,a,r,l,s,d){var p,i;for(p=0,i=o.length;p<i;++p){var g=o[p],c=[];s=n.douglasPeuckers(e,t,g,a,r,l,s,c),d.push(c),t=g[g.length-1]}return s},n.radialDistance=function(e,t,o,n,i,r,l){if(o<=t+n){for(;t<o;t+=n)r[l++]=e[t],r[l++]=e[t+1];return l}var s=e[t],d=e[t+1];r[l++]=s,r[l++]=d;var p=s,g=d;for(t+=n;t<o;t+=n)p=e[t],g=e[t+1],a.a.squaredDistance(s,d,p,g)>i&&(r[l++]=p,r[l++]=g,s=p,d=g);return(p!=s||g!=d)&&(r[l++]=p,r[l++]=g),l},n.snap=function(e,t){return t*Math.round(e/t)},n.quantize=function(e,t,o,a,i,r,l){if(t==o)return l;var s=n.snap(e[t],i),d=n.snap(e[t+1],i);t+=a,r[l++]=s,r[l++]=d;var p,g;do if(p=n.snap(e[t],i),g=n.snap(e[t+1],i),t+=a,t==o)return r[l++]=p,r[l++]=g,l;while(p==s&&g==d);for(;t<o;){var c,u;if(c=n.snap(e[t],i),u=n.snap(e[t+1],i),t+=a,c!=p||u!=g){var _=p-s,y=g-d,h=c-s,m=u-d;if(_*m==y*h&&(0>_&&h<_||_==h||0<_&&h>_)&&(0>y&&m<y||y==m||0<y&&m>y)){p=c,g=u;continue}r[l++]=p,r[l++]=g,s=p,d=g,p=c,g=u}}return r[l++]=p,r[l++]=g,l},n.quantizes=function(e,t,o,a,r,l,s,d){var p,i;for(p=0,i=o.length;p<i;++p){var g=o[p];s=n.quantize(e,t,g,a,r,l,s),d.push(s),t=g}return s},n.quantizess=function(e,t,o,a,r,l,s,d){var p,i;for(p=0,i=o.length;p<i;++p){var g=o[p],c=[];s=n.quantizes(e,t,g,a,r,l,s,c),d.push(c),t=g[g.length-1]}return s},t.a=n},function(e,t){'use strict';var o={};o.CLASS_HIDDEN='ol-hidden',o.CLASS_SELECTABLE='ol-selectable',o.CLASS_UNSELECTABLE='ol-unselectable',o.CLASS_UNSUPPORTED='ol-unsupported',o.CLASS_CONTROL='ol-control',t.a=o},function(e,t,o){'use strict';var a=o(43),n=o(7),i=o(12),r=o(18),l={};l.altKeyOnly=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},l.altShiftKeysOnly=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},l.always=i.a.TRUE,l.click=function(e){return e.type==a.a.CLICK},l.mouseActionButton=function(e){var t=e.originalEvent;return 0==t.button&&!(r.a.WEBKIT&&r.a.MAC&&t.ctrlKey)},l.never=i.a.FALSE,l.pointerMove=function(e){return'pointermove'==e.type},l.singleClick=function(e){return e.type==a.a.SINGLECLICK},l.doubleClick=function(e){return e.type==a.a.DBLCLICK},l.noModifierKeys=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},l.platformModifierKeyOnly=function(e){var t=e.originalEvent;return!t.altKey&&(r.a.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey},l.shiftKeyOnly=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},l.targetNotEditable=function(e){var t=e.originalEvent.target,o=t.tagName;return'INPUT'!==o&&'SELECT'!==o&&'TEXTAREA'!==o},l.mouseOnly=function(e){return n.a.assert(e.pointerEvent,56),'mouse'==e.pointerEvent.pointerType},l.primaryAction=function(e){var t=e.pointerEvent;return t.isPrimary&&0===t.button},t.a=l},function(e,t){'use strict';t.a={POSTCOMPOSE:'postcompose',PRECOMPOSE:'precompose',RENDER:'render'}},function(e,t){'use strict';t.a={CANVAS:'canvas',WEBGL:'webgl'}},function(e,t,o){'use strict';var a=o(25),n={};n.asColorLike=function(e){return n.isColorLike(e)?e:a.a.asString(e)},n.isColorLike=function(e){return'string'==typeof e||e instanceof CanvasPattern||e instanceof CanvasGradient},t.a=n},function(e,t,o){'use strict';var a=o(0),n=o(14),i=o(112);var r},function(e,t,o){'use strict';var a=o(0),n=o(14),i=o(112);var r},function(e,t,o){'use strict';var a=o(0),n=o(93),i=o(53),r=o(15),l=o(16),s=function(e,t){r.a.call(this);if(this.unique_=!!(t||{}).unique,this.array_=e?e:[],this.unique_)for(var o=0,a=this.array_.length;o<a;++o)this.assertUnique_(this.array_[o],o);this.updateLength_()};a.a.inherits(s,r.a),s.prototype.clear=function(){for(;0<this.getLength();)this.pop()},s.prototype.extend=function(e){var t,o;for(t=0,o=e.length;t<o;++t)this.push(e[t]);return this},s.prototype.forEach=function(e,t){for(var o=t?e.bind(t):e,a=this.array_,n=0,i=a.length;n<i;++n)o(a[n],n,a)},s.prototype.getArray=function(){return this.array_},s.prototype.item=function(e){return this.array_[e]},s.prototype.getLength=function(){return this.get(s.Property_.LENGTH)},s.prototype.insertAt=function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new s.Event(i.a.ADD,t))},s.prototype.pop=function(){return this.removeAt(this.getLength()-1)},s.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()},s.prototype.remove=function(e){var t=this.array_,o,a;for(o=0,a=t.length;o<a;++o)if(t[o]===e)return this.removeAt(o)},s.prototype.removeAt=function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new s.Event(i.a.REMOVE,t)),t},s.prototype.setAt=function(e,t){var o=this.getLength();if(e<o){this.unique_&&this.assertUnique_(t,e);var a=this.array_[e];this.array_[e]=t,this.dispatchEvent(new s.Event(i.a.REMOVE,a)),this.dispatchEvent(new s.Event(i.a.ADD,t))}else{var n;for(n=o;n<e;++n)this.insertAt(n,void 0);this.insertAt(e,t)}},s.prototype.updateLength_=function(){this.set(s.Property_.LENGTH,this.array_.length)},s.prototype.assertUnique_=function(e,t){for(var o=0,a=this.array_.length;o<a;++o)if(this.array_[o]===e&&o!==t)throw new n.a(58)},s.Property_={LENGTH:'length'},s.Event=function(e,t){l.a.call(this,e),this.element=t},a.a.inherits(s.Event,l.a),t.a=s},function(e,t,o){'use strict';var a=o(0),n=o(55),i=o(4),r=o(16),l=function(){n.a.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}};a.a.inherits(l,n.a),l.prototype.addEventListener=function(e,t){var o=this.listeners_[e];o||(o=this.listeners_[e]=[]),-1===o.indexOf(t)&&o.push(t)},l.prototype.dispatchEvent=function(e){var t='string'==typeof e?new r.a(e):e,o=t.type;t.target=this;var n=this.listeners_[o],l;if(n){o in this.dispatching_||(this.dispatching_[o]=0,this.pendingRemovals_[o]=0),++this.dispatching_[o];for(var s=0,i=n.length;s<i;++s)if(!1===n[s].call(this,t)||t.propagationStopped){l=!1;break}if(--this.dispatching_[o],0===this.dispatching_[o]){var d=this.pendingRemovals_[o];for(delete this.pendingRemovals_[o];d--;)this.removeEventListener(o,a.a.nullFunction);delete this.dispatching_[o]}return l}},l.prototype.disposeInternal=function(){i.a.unlistenAll(this)},l.prototype.getListeners=function(e){return this.listeners_[e]},l.prototype.hasListener=function(e){return e?e in this.listeners_:0<Object.keys(this.listeners_).length},l.prototype.removeEventListener=function(e,t){var o=this.listeners_[e];if(o){var n=o.indexOf(t);e in this.pendingRemovals_?(o[n]=a.a.nullFunction,++this.pendingRemovals_[e]):(o.splice(n,1),0===o.length&&delete this.listeners_[e])}},t.a=l},function(e,t,o){'use strict';var a=o(5),n={SINGLECLICK:'singleclick',CLICK:a.a.CLICK,DBLCLICK:a.a.DBLCLICK,POINTERDRAG:'pointerdrag',POINTERMOVE:'pointermove',POINTERDOWN:'pointerdown',POINTERUP:'pointerup',POINTEROVER:'pointerover',POINTEROUT:'pointerout',POINTERENTER:'pointerenter',POINTERLEAVE:'pointerleave',POINTERCANCEL:'pointercancel'};t.a=n},function(e,t,o){'use strict';var a=Math.sqrt,r=Math.PI,n=o(0),l=o(3),i=o(1),s=o(19),d=o(9),p=o(161),g=o(61),c=o(20),u=o(60),_=o(45),h=o(46),y=o(28),m=o(29),f=o(103),E=o(62),T=o(63),S=o(33),x=o(6),C=function(e,t){c.a.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(e,t)};n.a.inherits(C,c.a),C.prototype.appendLinearRing=function(e){this.flatCoordinates?l.a.extend(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},C.prototype.clone=function(){var e=new C(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),e},C.prototype.closestPointXY=function(e,t,o,n){return n<i.a.closestSquaredDistanceXY(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=a(_.a.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_.a.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,o,n))},C.prototype.containsXY=function(e,t){return h.a.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)},C.prototype.getArea=function(){return u.a.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},C.prototype.getCoordinates=function(e){var t;return void 0===e?t=this.flatCoordinates:(t=this.getOrientedFlatCoordinates().slice(),T.a.orientLinearRings(t,0,this.ends_,this.stride,e)),m.a.coordinatess(t,0,this.ends_,this.stride)},C.prototype.getEnds=function(){return this.ends_},C.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=i.a.getCenter(this.getExtent());this.flatInteriorPoint_=f.a.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},C.prototype.getInteriorPoint=function(){return new g.a(this.getFlatInteriorPoint())},C.prototype.getLinearRingCount=function(){return this.ends_.length},C.prototype.getLinearRing=function(e){if(0>e||this.ends_.length<=e)return null;var t=new p.a(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e])),t},C.prototype.getLinearRings=function(){var e=this.layout,t=this.flatCoordinates,o=this.ends_,a=[],n=0,r,i;for(r=0,i=o.length;r<i;++r){var l=o[r],s=new p.a(null);s.setFlatCoordinates(e,t.slice(n,l)),a.push(s),n=l}return a},C.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;T.a.linearRingsAreOriented(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=T.a.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},C.prototype.getSimplifiedGeometryInternal=function(e){var t=[],o=[];t.length=S.a.quantizes(this.flatCoordinates,0,this.ends_,this.stride,a(e),t,0,o);var n=new C(null);return n.setFlatCoordinates(s.a.XY,t,o),n},C.prototype.getType=function(){return d.a.POLYGON},C.prototype.intersectsExtent=function(e){return E.a.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},C.prototype.setCoordinates=function(e,t){if(!e)this.setFlatCoordinates(s.a.XY,null,this.ends_);else{this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=y.a.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===o.length?0:o[o.length-1],this.changed()}},C.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t),this.ends_=o,this.changed()},C.circular=function(e,t,o,a){var d=a?a:32,n=[],p;for(p=0;p<d;++p)l.a.extend(n,e.offset(t,o,2*r*p/d));n.push(n[0],n[1]);var i=new C(null);return i.setFlatCoordinates(s.a.XY,n,[n.length]),i},C.fromExtent=function(e){var t=e[0],o=e[1],a=e[2],n=e[3],i=[t,o,t,n,a,n,a,o,t,o],r=new C(null);return r.setFlatCoordinates(s.a.XY,i,[i.length]),r},C.fromCircle=function(e,t,o){for(var a=t?t:32,n=e.getStride(),r=e.getLayout(),l=new C(null,r),s=n*(a+1),d=Array(s),p=0;p<s;p++)d[p]=0;var i=[d.length];return l.setFlatCoordinates(r,d,i),C.makeRegular(l,e.getCenter(),e.getRadius(),o),l},C.makeRegular=function(e,t,o,a){for(var n=e.getFlatCoordinates(),l=e.getLayout(),s=e.getStride(),d=e.getEnds(),p=n.length/s-1,g=a?a:0,c=0,i,u;c<=p;++c)u=c*s,i=g+2*x.a.modulo(c,p)*r/p,n[u]=t[0]+o*Math.cos(i),n[u+1]=t[1]+o*Math.sin(i);e.setFlatCoordinates(l,n,d)},t.a=C},function(e,t,o){'use strict';var a=Math.sqrt,n=o(6),r={};r.point=function(e,o,a,r,l,s,d){var p=e[o],g=e[o+1],c=e[a]-p,u=e[a+1]-g,_,i;if(0==c&&0==u)i=o;else{var y=((l-p)*c+(s-g)*u)/(c*c+u*u);if(1<y)i=a;else{if(0<y){for(_=0;_<r;++_)d[_]=n.a.lerp(e[o+_],e[a+_],y);return void(d.length=r)}i=o}}for(_=0;_<r;++_)d[_]=e[i+_];d.length=r},r.getMaxSquaredDelta=function(e,t,o,a,i){var r=e[t],l=e[t+1];for(t+=a;t<o;t+=a){var s=e[t],d=e[t+1],p=n.a.squaredDistance(r,l,s,d);p>i&&(i=p),r=s,l=d}return i},r.getsMaxSquaredDelta=function(e,t,o,a,n){var l,i;for(l=0,i=o.length;l<i;++l){var s=o[l];n=r.getMaxSquaredDelta(e,t,s,a,n),t=s}return n},r.getssMaxSquaredDelta=function(e,t,o,a,n){var l,i;for(l=0,i=o.length;l<i;++l){var s=o[l];n=r.getsMaxSquaredDelta(e,t,s,a,n),t=s[s.length-1]}return n},r.getClosestPoint=function(e,t,o,l,s,d,p,g,c,u,_){if(t==o)return u;var y,i;if(0===s){if(i=n.a.squaredDistance(p,g,e[t],e[t+1]),i<u){for(y=0;y<l;++y)c[y]=e[t+y];return c.length=l,i}return u}for(var h=_?_:[NaN,NaN],m=t+l;m<o;)if(r.point(e,m-l,m,l,p,g,h),i=n.a.squaredDistance(p,g,h[0],h[1]),i<u){for(u=i,y=0;y<l;++y)c[y]=h[y];c.length=l,m+=l}else m+=l*Math.max(0|(a(i)-a(u))/s,1);if(d&&(r.point(e,o-l,t,l,p,g,h),i=n.a.squaredDistance(p,g,h[0],h[1]),i<u)){for(u=i,y=0;y<l;++y)c[y]=h[y];c.length=l}return u},r.getsClosestPoint=function(e,t,o,a,n,l,s,d,p,g,c){var u=c?c:[NaN,NaN],_,i;for(_=0,i=o.length;_<i;++_){var y=o[_];g=r.getClosestPoint(e,t,y,a,n,l,s,d,p,g,u),t=y}return g},r.getssClosestPoint=function(e,t,o,a,n,l,s,d,p,g,c){var u=c?c:[NaN,NaN],_,i;for(_=0,i=o.length;_<i;++_){var y=o[_];g=r.getsClosestPoint(e,t,y,a,n,l,s,d,p,g,u),t=y[y.length-1]}return g},t.a=r},function(e,t,o){'use strict';var a=o(1),n={};n.linearRingContainsExtent=function(e,t,o,i,r){var l=a.a.forEachCorner(r,function(a){return!n.linearRingContainsXY(e,t,o,i,a[0],a[1])});return!l},n.linearRingContainsXY=function(e,t,o,a,n,i){for(var r=0,l=e[o-a],s=e[o-a+1];t<o;t+=a){var d=e[t],p=e[t+1];s<=i?p>i&&0<(d-l)*(i-s)-(n-l)*(p-s)&&r++:p<=i&&0>(d-l)*(i-s)-(n-l)*(p-s)&&r--,l=d,s=p}return 0!=r},n.linearRingsContainsXY=function(e,t,o,a,r,l){if(0===o.length)return!1;if(!n.linearRingContainsXY(e,t,o[0],a,r,l))return!1;var s,i;for(s=1,i=o.length;s<i;++s)if(n.linearRingContainsXY(e,o[s-1],o[s],a,r,l))return!1;return!0},n.linearRingssContainsXY=function(e,t,o,a,r,l){if(0===o.length)return!1;var s,i;for(s=0,i=o.length;s<i;++s){var d=o[s];if(n.linearRingsContainsXY(e,t,d,a,r,l))return!0;t=d[d.length-1]}return!1},t.a=n},function(e,t,o){'use strict';var a=o(0),n=o(12),i=o(43),r=o(96),l=o(23),s=o(2),d=function(e){var t=e?e:{},o=t.handleEvent?t.handleEvent:d.handleEvent;l.a.call(this,{handleEvent:o}),this.handleDownEvent_=t.handleDownEvent?t.handleDownEvent:d.handleDownEvent,this.handleDragEvent_=t.handleDragEvent?t.handleDragEvent:d.handleDragEvent,this.handleMoveEvent_=t.handleMoveEvent?t.handleMoveEvent:d.handleMoveEvent,this.handleUpEvent_=t.handleUpEvent?t.handleUpEvent:d.handleUpEvent,this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]};a.a.inherits(d,l.a),d.centroid=function(e){for(var t=e.length,o=0,a=0,n=0;n<t;n++)o+=e[n].clientX,a+=e[n].clientY;return[o/t,a/t]},d.prototype.isPointerDraggingEvent_=function(e){var t=e.type;return t===i.a.POINTERDOWN||t===i.a.POINTERDRAG||t===i.a.POINTERUP},d.prototype.updateTrackedPointers_=function(e){if(this.isPointerDraggingEvent_(e)){var t=e.pointerEvent;e.type==i.a.POINTERUP?delete this.trackedPointers_[t.pointerId]:e.type==i.a.POINTERDOWN?this.trackedPointers_[t.pointerId]=t:t.pointerId in this.trackedPointers_&&(this.trackedPointers_[t.pointerId]=t),this.targetPointers=s.a.getValues(this.trackedPointers_)}},d.handleDragEvent=a.a.nullFunction,d.handleUpEvent=n.a.FALSE,d.handleDownEvent=n.a.FALSE,d.handleMoveEvent=a.a.nullFunction,d.handleEvent=function(e){if(!(e instanceof r.a))return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==i.a.POINTERDRAG)this.handleDragEvent_(e);else if(e.type==i.a.POINTERUP){var o=this.handleUpEvent_(e);this.handlingDownUpSequence=o&&0<this.targetPointers.length}}else if(e.type==i.a.POINTERDOWN){var a=this.handleDownEvent_(e);this.handlingDownUpSequence=a,t=this.shouldStopEvent(a)}else e.type==i.a.POINTERMOVE&&this.handleMoveEvent_(e);return!t},d.prototype.shouldStopEvent=function(e){return e},t.a=d},function(e,t,o){'use strict';var a=o(4),n=o(5),i=o(0),r=o(15),l=o(105),s=o(106),d=o(2),p=o(36),g=o(24),c=function(e){var t=d.a.assign({},e);delete t.source,l.a.call(this,t),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),a.a.listen(this,r.a.getChangeEventType(s.a.SOURCE),this.handleSourcePropertyChange_,this);var o=e.source?e.source:null;this.setSource(o)};i.a.inherits(c,l.a),c.visibleAtResolution=function(e,t){return e.visible&&t>=e.minResolution&&t<e.maxResolution},c.prototype.getLayersArray=function(e){var t=e?e:[];return t.push(this),t},c.prototype.getLayerStatesArray=function(e){var t=e?e:[];return t.push(this.getLayerState()),t},c.prototype.getSource=function(){var e=this.get(s.a.SOURCE);return e||null},c.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():g.a.UNDEFINED},c.prototype.handleSourceChange_=function(){this.changed()},c.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(a.a.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=a.a.listen(e,n.a.CHANGE,this.handleSourceChange_,this)),this.changed()},c.prototype.setMap=function(e){this.mapPrecomposeKey_&&(a.a.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(a.a.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=a.a.listen(e,p.a.PRECOMPOSE,function(e){var t=this.getLayerState();t.managed=!1,t.zIndex=Infinity,e.frameState.layerStatesArray.push(t),e.frameState.layerStates[i.a.getUid(this)]=t},this),this.mapRenderKey_=a.a.listen(this,n.a.CHANGE,e.render,e),this.changed())},c.prototype.setSource=function(e){this.set(s.a.SOURCE,e)},t.a=c},function(e,t){'use strict';t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(e,t,o){'use strict';var a=Math.round,n=o(0),l=o(3),s=o(1),r=o(101),d=o(9),p=o(29),g=o(27),c=o(18),u=o(2),i=o(65),_=o(51),m=o(13),y=function(e,t,o,a){i.a.call(this),this.tolerance=e,this.maxExtent=t,this.overlaps=a,this.maxLineWidth=0,this.resolution=o,this.fillOrigin_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=m.a.create(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.tmpLocalTransform_=m.a.create(),this.resetTransform_=m.a.create()};n.a.inherits(y,i.a),y.prototype.appendFlatCoordinates=function(e,t,o,a,n,l){var d=this.coordinates.length,p=this.getBufferedMaxExtent();l&&(t+=a);var g=[e[t],e[t+1]],c=[NaN,NaN],u=!0,_,i,y;for(_=t+a;_<o;_+=a)c[0]=e[_],c[1]=e[_+1],y=s.a.coordinateRelationship(p,c),y===i?y===r.a.INTERSECTING?(this.coordinates[d++]=c[0],this.coordinates[d++]=c[1],u=!1):u=!0:(u&&(this.coordinates[d++]=g[0],this.coordinates[d++]=g[1]),this.coordinates[d++]=c[0],this.coordinates[d++]=c[1],u=!1),g[0]=c[0],g[1]=c[1],i=y;return(n&&u||_===t+a)&&(this.coordinates[d++]=g[0],this.coordinates[d++]=g[1]),d},y.prototype.drawCustomCoordinates_=function(e,t,o,a,n){for(var r=0,i=o.length;r<i;++r){var l=o[r],s=this.appendFlatCoordinates(e,t,l,a,!1,!1);n.push(s),t=l}return t},y.prototype.drawCustom=function(e,t,o){this.beginGeometry(e,t);var a=e.getType(),n=e.getStride(),r=this.coordinates.length,l,s,g,c,u;if(a==d.a.MULTI_POLYGON){e=e,l=e.getOrientedFlatCoordinates(),c=[];var y=e.getEndss();u=0;for(var h=0,i=y.length,m;h<i;++h)m=[],u=this.drawCustomCoordinates_(l,u,y[h],n,m),c.push(m);this.instructions.push([_.a.CUSTOM,r,c,e,o,p.a.coordinatesss])}else a==d.a.POLYGON||a==d.a.MULTI_LINE_STRING?(g=[],l=a==d.a.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),u=this.drawCustomCoordinates_(l,0,e.getEnds(),n,g),this.instructions.push([_.a.CUSTOM,r,g,e,o,p.a.coordinatess])):a==d.a.LINE_STRING||a==d.a.MULTI_POINT?(l=e.getFlatCoordinates(),s=this.appendFlatCoordinates(l,0,l.length,n,!1,!1),this.instructions.push([_.a.CUSTOM,r,s,e,o,p.a.coordinates])):a==d.a.POINT&&(l=e.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),s=this.coordinates.length,this.instructions.push([_.a.CUSTOM,r,s,e,o]));this.endGeometry(e,t)},y.prototype.beginGeometry=function(e,t){this.beginGeometryInstruction1_=[_.a.BEGIN_GEOMETRY,t,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[_.a.BEGIN_GEOMETRY,t,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},y.prototype.fill_=function(e,t){if(this.fillOrigin_){var o=m.a.apply(this.renderedTransform_,this.fillOrigin_.slice());e.translate(o[0],o[1]),e.rotate(t)}e.fill(),this.fillOrigin_&&e.setTransform.apply(e,this.resetTransform_)},y.prototype.replay_=function(e,t,o,p,f,E,T,S){var C;this.pixelCoordinates_&&l.a.equals(o,this.renderedTransform_)?C=this.pixelCoordinates_:(!this.pixelCoordinates_&&(this.pixelCoordinates_=[]),C=g.a.transform2D(this.coordinates,0,this.coordinates.length,2,o,this.pixelCoordinates_),m.a.setFromArray(this.renderedTransform_,o));for(var R=!u.a.isEmpty(f),I=0,i=E.length,L=0,d=this.tmpLocalTransform_,v=this.resetTransform_,O=0,P=0,A=this.coordinateCache_,b={context:e,pixelRatio:t,resolution:this.resolution,rotation:p},F=this.instructions!=E||this.overlaps?0:200,D,N,k,G,M;I<i;){var U=E[I],z=U[0],X,Y,j,K,B,W;switch(z){case _.a.BEGIN_GEOMETRY:X=U[1],R&&f[n.a.getUid(X).toString()]||!X.getGeometry()?I=U[2]:void 0===S||s.a.intersects(S,X.getGeometry().getExtent())?++I:I=U[2]+1;break;case _.a.BEGIN_PATH:O>F&&(this.fill_(e,p),O=0),P>F&&(e.stroke(),P=0),O||P||(e.beginPath(),N=k=NaN),++I;break;case _.a.CIRCLE:L=U[1];var V=C[L],H=C[L+1],Z=C[L+2],q=C[L+3],J=Z-V,Q=q-H,$=Math.sqrt(J*J+Q*Q);e.moveTo(V+$,H),e.arc(V,H,$,0,2*Math.PI,!0),++I;break;case _.a.CLOSE_PATH:e.closePath(),++I;break;case _.a.CUSTOM:L=U[1],D=U[2];var r=U[3],ee=U[4],te=6==U.length?U[5]:void 0;b.geometry=r,b.feature=X,I in A||(A[I]=[]);var oe=A[I];te?te(C,L,D,2,oe):(oe[0]=C[L],oe[1]=C[L+1],oe.length=2),ee(oe,b),++I;break;case _.a.DRAW_IMAGE:L=U[1],D=U[2];var ae=U[3],ne=U[4]*t,ie=U[5]*t,re=U[6],le=U[7],se=U[8],de=U[9],pe=U[10],ge=U[11],ce=U[12],ue=U[13],_e=U[14];for(pe&&(ge+=p);L<D;L+=2){if(B=C[L]-ne,W=C[L+1]-ie,ue&&(B=a(B),W=a(W)),1!=ce||0!==ge){var ye=B+ne,he=W+ie;m.a.compose(d,ye,he,ce,ce,ge,-ye,-he),e.setTransform.apply(e,d)}var me=e.globalAlpha;1!=le&&(e.globalAlpha=me*le);var fe=_e+se>ae.width?ae.width-se:_e,w=re+de>ae.height?ae.height-de:re;e.drawImage(ae,se,de,fe,w,B,W,fe*t,w*t),1!=le&&(e.globalAlpha=me),(1!=ce||0!==ge)&&e.setTransform.apply(e,v)}++I;break;case _.a.DRAW_TEXT:L=U[1],D=U[2],K=U[3];var h=U[4]*t,Ee=U[5]*t;for(ge=U[6],ce=U[7]*t,Y=U[8],j=U[9],pe=U[10],pe&&(ge+=p);L<D;L+=2){B=C[L]+h,W=C[L+1]+Ee,(1!=ce||0!==ge)&&(m.a.compose(d,B,W,ce,ce,ge,-B,-W),e.setTransform.apply(e,d));var Te=K.split('\n'),Se=Te.length,xe,Ce;1<Se?(xe=a(1.5*e.measureText('M').width),Ce=W-(Se-1)/2*xe):(xe=0,Ce=W);for(var Re=0,Ie;Re<Se;Re++)Ie=Te[Re],j&&e.strokeText(Ie,B,Ce),Y&&e.fillText(Ie,B,Ce),Ce+=xe;(1!=ce||0!==ge)&&e.setTransform.apply(e,v)}++I;break;case _.a.END_GEOMETRY:if(void 0!==T){X=U[1];var Le=T(X);if(Le)return Le}++I;break;case _.a.FILL:F?O++:this.fill_(e,p),++I;break;case _.a.MOVE_TO_LINE_TO:for(L=U[1],D=U[2],B=C[L],W=C[L+1],G=0|B+0.5,M=0|W+0.5,(G!==N||M!==k)&&(e.moveTo(B,W),N=G,k=M),L+=2;L<D;L+=2)B=C[L],W=C[L+1],G=0|B+0.5,M=0|W+0.5,(L==D-2||G!==N||M!==k)&&(e.lineTo(B,W),N=G,k=M);++I;break;case _.a.SET_FILL_STYLE:this.fillOrigin_=U[2],O&&(this.fill_(e,p),O=0,P&&(e.stroke(),P=0)),e.fillStyle=U[1],++I;break;case _.a.SET_STROKE_STYLE:var ve=void 0===U[8]||U[8],Oe=U[9],Pe=U[2];if(P&&(e.stroke(),P=0),e.strokeStyle=U[1],e.lineWidth=ve?Pe*t:Pe,e.lineCap=U[3],e.lineJoin=U[4],e.miterLimit=U[5],c.a.CANVAS_LINE_DASH){var Ae=U[6],be=U[7];ve&&t!==Oe&&(Ae=Ae.map(function(e){return e*t/Oe}),be*=t/Oe,U[6]=Ae,U[7]=be,U[9]=t),e.lineDashOffset=be,e.setLineDash(Ae)}++I;break;case _.a.SET_TEXT_STYLE:e.font=U[1],e.textAlign=U[2],e.textBaseline=U[3],++I;break;case _.a.STROKE:F?P++:e.stroke(),++I;break;default:++I;}}return O&&this.fill_(e,p),void(P&&e.stroke())},y.prototype.replay=function(e,t,o,a,n){var i=this.instructions;this.replay_(e,t,o,a,n,i,void 0,void 0)},y.prototype.replayHitDetection=function(e,t,o,a,n,i){var r=this.hitDetectionInstructions;return this.replay_(e,1,t,o,a,r,n,i)},y.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var t=e.length,o=-1,a,n,i;for(a=0;a<t;++a)n=e[a],i=n[0],i==_.a.END_GEOMETRY?o=a:i==_.a.BEGIN_GEOMETRY&&(n[2]=a,l.a.reverseSubArray(this.hitDetectionInstructions,o,a),o=-1)},y.prototype.endGeometry=function(e,t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var o=[_.a.END_GEOMETRY,t];this.instructions.push(o),this.hitDetectionInstructions.push(o)},y.prototype.finish=n.a.nullFunction,y.prototype.getBufferedMaxExtent=function(){return this.maxExtent},t.a=y},function(e,t){'use strict';t.a={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_IMAGE:5,DRAW_TEXT:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,SET_TEXT_STYLE:12,STROKE:13}},function(e,t,o){var a=o(138);t.typeOf=function(e){var t=typeof e;return'object'==t&&(null===e?t='null':a.isArray(e)?t='array':a.isDate(e)?t='date':a.isRegExp(e)?t='regexp':a.isError(e)&&(t='error')),t},t.extend=function(e,t){for(var o in t)e[o]=t[o];return e},t.zip=function(e){var t=[],o=0;for(var a in e)t[2*o]=a,t[2*o+1]=e[a],++o;return t},t.unzip=function(e){for(var t={},o=0,a=e.length;o<a;o+=2)t[e[o]]=e[o+1];return t}},function(e,t){'use strict';t.a={ADD:'add',REMOVE:'remove'}},function(e,t){'use strict';t.a={PROPERTYCHANGE:'propertychange'}},function(e,t,o){'use strict';var a=o(0),n=function(){};n.prototype.disposed_=!1,n.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},n.prototype.disposeInternal=a.a.nullFunction,t.a=n},function(e,t){'use strict';var o=function(e,t){this.dispatcher=e,this.mapping_=t};o.prototype.getEvents=function(){return Object.keys(this.mapping_)},o.prototype.getHandlerForEvent=function(e){return this.mapping_[e]},t.a=o},function(e,t,o){'use strict';var a=Math.floor,n=Math.sqrt,i=o(6),r=o(160),l={};l.add=function(e,t){return e[0]+=t[0],e[1]+=t[1],e},l.closestOnCircle=function(e,t){var o=t.getRadius(),a=t.getCenter(),i=a[0],r=a[1],l=e[0],s=e[1],p=l-i,g=s-r;0==p&&0==g&&(p=1);var c=n(p*p+g*g),d,u;return d=i+o*p/c,u=r+o*g/c,[d,u]},l.closestOnSegment=function(e,t){var o=e[0],a=e[1],n=t[0],i=t[1],r=n[0],l=n[1],s=i[0],d=i[1],p=s-r,g=d-l,c=0==p&&0==g?0:(p*(o-r)+g*(a-l))/(p*p+g*g||0),u,_;return 0>=c?(u=r,_=l):1<=c?(u=s,_=d):(u=r+c*p,_=l+c*g),[u,_]},l.createStringXY=function(e){return function(t){return l.toStringXY(t,e)}},l.degreesToStringHDMS=function(e,t,o){var n=i.a.modulo(t+180,360)-180,l=Math.abs(3600*n),s=o||0,d=Math.pow(10,s),p=a(l/3600),g=a((l-3600*p)/60),c=l-3600*p-60*g;return c=Math.ceil(c*d)/d,60<=c&&(c=0,g+=1),60<=g&&(g=0,p+=1),p+'\xB0 '+r.a.padNumber(g,2)+'\u2032 '+r.a.padNumber(c,2,s)+'\u2033'+(0==n?'':' '+e.charAt(0>n?1:0))},l.format=function(e,t,o){return e?t.replace('{x}',e[0].toFixed(o)).replace('{y}',e[1].toFixed(o)):''},l.equals=function(e,t){for(var o=!0,a=e.length-1;0<=a;--a)if(e[a]!=t[a]){o=!1;break}return o},l.rotate=function(e,t){var o=Math.cos(t),a=Math.sin(t),n=e[0]*o-e[1]*a,i=e[1]*o+e[0]*a;return e[0]=n,e[1]=i,e},l.scale=function(e,t){return e[0]*=t,e[1]*=t,e},l.sub=function(e,t){return e[0]-=t[0],e[1]-=t[1],e},l.squaredDistance=function(e,t){var o=e[0]-t[0],a=e[1]-t[1];return o*o+a*a},l.distance=function(e,t){return n(l.squaredDistance(e,t))},l.squaredDistanceToSegment=function(e,t){return l.squaredDistance(e,l.closestOnSegment(e,t))},l.toStringHDMS=function(e,t){return e?l.degreesToStringHDMS('NS',e[1],t)+' '+l.degreesToStringHDMS('EW',e[0],t):''},l.toStringXY=function(e,t){return l.format(e,'{x}, {y}',t)},t.a=l},function(e,t,o){'use strict';var a=o(0),n=o(15),i=o(1),r=o(12),l=o(10),s=function(){n.a.call(this),this.extent_=i.a.createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0};a.a.inherits(s,n.a),s.prototype.clone=function(){},s.prototype.closestPointXY=function(){},s.prototype.getClosestPoint=function(e,t){var o=t?t:[NaN,NaN];return this.closestPointXY(e[0],e[1],o,Infinity),o},s.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},s.prototype.computeExtent=function(){},s.prototype.containsXY=r.a.FALSE,s.prototype.getExtent=function(e){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),i.a.returnOrUpdate(this.extent_,e)},s.prototype.rotate=function(){},s.prototype.scale=function(){},s.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},s.prototype.getSimplifiedGeometry=function(){},s.prototype.getType=function(){},s.prototype.applyTransform=function(){},s.prototype.intersectsExtent=function(){},s.prototype.translate=function(){},s.prototype.transform=function(e,t){return this.applyTransform(l['default'].getTransform(e,t)),this},t.a=s},function(e,t,o){'use strict';var a=o(0),n=o(22),i=o(102),r=function(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent===void 0?null:e.extent,this.worldExtent_=e.worldExtent===void 0?null:e.worldExtent,this.axisOrientation_=e.axisOrientation===void 0?'enu':e.axisOrientation,this.global_=e.global!==void 0&&e.global,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit;var t=e.code;if(a.a.ENABLE_PROJ4JS){var o=i.a.get();if('function'==typeof o){var n=o.defs(t);n!==void 0&&(n.axis!==void 0&&e.axisOrientation===void 0&&(this.axisOrientation_=n.axis),e.metersPerUnit===void 0&&(this.metersPerUnit_=n.to_meter),e.units===void 0&&(this.units_=n.units))}}};r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||n.a.METERS_PER_UNIT[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},r.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},r.prototype.setWorldExtent=function(e){this.worldExtent_=e},r.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t.a=r},function(e,t){'use strict';var o={};o.linearRing=function(e,t,o,a){for(var n=0,i=e[o-a],r=e[o-a+1];t<o;t+=a){var l=e[t],s=e[t+1];n+=r*l-i*s,i=l,r=s}return n/2},o.linearRings=function(e,t,a,n){var r=0,l,i;for(l=0,i=a.length;l<i;++l){var s=a[l];r+=o.linearRing(e,t,s,n),t=s}return r},o.linearRingss=function(e,t,a,n){var r=0,l,i;for(l=0,i=a.length;l<i;++l){var s=a[l];r+=o.linearRings(e,t,s,n),t=s[s.length-1]}return r},t.a=o},function(e,t,o){'use strict';var a=o(0),n=o(1),i=o(19),r=o(9),l=o(20),s=o(28),d=o(6),p=function(e,t){l.a.call(this),this.setCoordinates(e,t)};a.a.inherits(p,l.a),p.prototype.clone=function(){var e=new p(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},p.prototype.closestPointXY=function(e,t,o,a){var n=this.flatCoordinates,r=d.a.squaredDistance(e,t,n[0],n[1]);if(r<a){var l=this.stride,s;for(s=0;s<l;++s)o[s]=n[s];return o.length=l,r}return a},p.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},p.prototype.computeExtent=function(e){return n.a.createOrUpdateFromCoordinate(this.flatCoordinates,e)},p.prototype.getType=function(){return r.a.POINT},p.prototype.intersectsExtent=function(e){return n.a.containsXY(e,this.flatCoordinates[0],this.flatCoordinates[1])},p.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,0),!this.flatCoordinates&&(this.flatCoordinates=[]),this.flatCoordinates.length=s.a.coordinate(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(i.a.XY,null)},p.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},t.a=p},function(e,t,o){'use strict';var a=o(1),n=o(46),i=o(104),r={};r.lineString=function(e,t,o,n,r){var l=a.a.extendFlatCoordinates(a.a.createEmpty(),e,t,o,n);return!!a.a.intersects(r,l)&&(!!a.a.containsExtent(r,l)||l[0]>=r[0]&&l[2]<=r[2]||l[1]>=r[1]&&l[3]<=r[3]||i.a.forEach(e,t,o,n,function(e,t){return a.a.intersectsSegment(r,e,t)}))},r.lineStrings=function(e,t,o,a,n){var l,i;for(l=0,i=o.length;l<i;++l){if(r.lineString(e,t,o[l],a,n))return!0;t=o[l]}return!1},r.linearRing=function(e,t,o,a,i){return!!r.lineString(e,t,o,a,i)||!!n.a.linearRingContainsXY(e,t,o,a,i[0],i[1])||!!n.a.linearRingContainsXY(e,t,o,a,i[0],i[3])||!!n.a.linearRingContainsXY(e,t,o,a,i[2],i[1])||!!n.a.linearRingContainsXY(e,t,o,a,i[2],i[3])},r.linearRings=function(e,t,o,a,l){if(!r.linearRing(e,t,o[0],a,l))return!1;if(1===o.length)return!0;var s,i;for(s=1,i=o.length;s<i;++s)if(n.a.linearRingContainsExtent(e,o[s-1],o[s],a,l))return!1;return!0},r.linearRingss=function(e,t,o,a,n){var l,i;for(l=0,i=o.length;l<i;++l){var s=o[l];if(r.linearRings(e,t,s,a,n))return!0;t=s[s.length-1]}return!1},t.a=r},function(e,t,o){'use strict';var a=o(167),n={};n.linearRingIsClockwise=function(e,t,o,a){for(var n=0,i=e[o-a],r=e[o-a+1];t<o;t+=a){var l=e[t],s=e[t+1];n+=(l-i)*(s+r),i=l,r=s}return 0<n},n.linearRingsAreOriented=function(e,t,o,a,r){var l=r!==void 0&&r,s,i;for(s=0,i=o.length;s<i;++s){var d=o[s],p=n.linearRingIsClockwise(e,t,d,a);if(0===s){if(l&&p||!l&&!p)return!1;}else if(l&&!p||!l&&p)return!1;t=d}return!0},n.linearRingssAreOriented=function(e,t,o,a,r){var l,i;for(l=0,i=o.length;l<i;++l)if(!n.linearRingsAreOriented(e,t,o[l],a,r))return!1;return!0},n.orientLinearRings=function(e,t,o,r,l){var s=l!==void 0&&l,d,i;for(d=0,i=o.length;d<i;++d){var p=o[d],g=n.linearRingIsClockwise(e,t,p,r),c=0===d?s&&g||!s&&!g:s&&!g||!s&&g;c&&a.a.coordinates(e,t,p,r),t=p}return t},n.orientLinearRingss=function(e,t,o,a,r){var l,i;for(l=0,i=o.length;l<i;++l)t=n.orientLinearRings(e,t,o[l],a,r);return t},t.a=n},function(e,t,o){'use strict';var a=o(0),n=o(16),i=function(e,t,o,a,i){n.a.call(this,e),this.vectorContext=t,this.frameState=o,this.context=a,this.glContext=i};a.a.inherits(i,n.a),t.a=i},function(e,t){'use strict';var o=function(){};o.prototype.drawCustom=function(){},o.prototype.drawGeometry=function(){},o.prototype.setStyle=function(){},o.prototype.drawCircle=function(){},o.prototype.drawFeature=function(){},o.prototype.drawGeometryCollection=function(){},o.prototype.drawLineString=function(){},o.prototype.drawMultiLineString=function(){},o.prototype.drawMultiPoint=function(){},o.prototype.drawMultiPolygon=function(){},o.prototype.drawPoint=function(){},o.prototype.drawPolygon=function(){},o.prototype.drawText=function(){},o.prototype.setFillStrokeStyle=function(){},o.prototype.setImageStyle=function(){},o.prototype.setTextStyle=function(){},t.a=o},function(e,t){'use strict';t.a={CIRCLE:'Circle',DEFAULT:'Default',IMAGE:'Image',LINE_STRING:'LineString',POLYGON:'Polygon',TEXT:'Text'}},function(e,t,o){'use strict';var a=o(0),n=o(1),i=o(65),r=o(13),l=o(113),s=o(14);var d},function(e,t,o){'use strict';var a=o(0)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(0),n=function(e){var t=e||{};this.color_=t.color===void 0?null:t.color,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash===void 0?null:t.lineDash,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width,this.checksum_=void 0};n.prototype.clone=function(){var e=this.getColor();return new n({color:e&&e.slice?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(e){this.color_=e,this.checksum_=void 0},n.prototype.setLineCap=function(e){this.lineCap_=e,this.checksum_=void 0},n.prototype.setLineDash=function(e){this.lineDash_=e,this.checksum_=void 0},n.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e,this.checksum_=void 0},n.prototype.setLineJoin=function(e){this.lineJoin_=e,this.checksum_=void 0},n.prototype.setMiterLimit=function(e){this.miterLimit_=e,this.checksum_=void 0},n.prototype.setWidth=function(e){this.width_=e,this.checksum_=void 0},n.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_='s',this.checksum_+=this.color_?'string'==typeof this.color_?this.color_:a.a.getUid(this.color_).toString():'-',this.checksum_+=','+(void 0===this.lineCap_?'-':this.lineCap_.toString())+','+(this.lineDash_?this.lineDash_.toString():'-')+','+(void 0===this.lineDashOffset_?'-':this.lineDashOffset_)+','+(void 0===this.lineJoin_?'-':this.lineJoin_)+','+(void 0===this.miterLimit_?'-':this.miterLimit_.toString())+','+(void 0===this.width_?'-':this.width_.toString())),this.checksum_},t['default']=n},function(e,t){'use strict';var o=function(e,t,o,a){this.minX=e,this.maxX=t,this.minY=o,this.maxY=a};o.createOrUpdate=function(e,t,a,n,i){return void 0===i?new o(e,t,a,n):(i.minX=e,i.maxX=t,i.minY=a,i.maxY=n,i)},o.prototype.contains=function(e){return this.containsXY(e[1],e[2])},o.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},o.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},o.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},o.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},o.prototype.getHeight=function(){return this.maxY-this.minY+1},o.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},o.prototype.getWidth=function(){return this.maxX-this.minX+1},o.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},t.a=o},function(e,t,o){'use strict';var a=o(70),n=o(6),r=o(32),i=function(e){this.html_=e.html,this.tileRanges_=e.tileRanges?e.tileRanges:null};i.prototype.getHTML=function(){return this.html_},i.prototype.intersectsAnyTileRange=function(e,t,o){if(!this.tileRanges_)return!0;var l,i,s,d;for(d in e)if(d in this.tileRanges_){s=e[d];var p;for(l=0,i=this.tileRanges_[d].length;l<i;++l){if(p=this.tileRanges_[d][l],p.intersects(s))return!0;var g=t.getTileRangeForExtentAndZ(r.a.extentFromProjection(o),parseInt(d,10)),c=g.getWidth();if(s.minX<g.minX||s.maxX>g.maxX){if(p.intersects(new a.a(n.a.modulo(s.minX,c),n.a.modulo(s.maxX,c),s.minY,s.maxY)))return!0;if(s.getWidth()>c&&p.intersects(g))return!0}}}return!1},t.a=i},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(0),n=o(126),i=o(32),r=function(e){var t=e||{},o=t.projection===void 0?'EPSG:3857':t.projection,a=t.tileGrid===void 0?i.a.createXYZ({extent:i.a.extentFromProjection(o),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize}):t.tileGrid;n.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:o,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:!(t.wrapX!==void 0)||t.wrapX})};a.a.inherits(r,n.a),t['default']=r},function(e,t,o){'use strict';var a=o(0),n=o(11),i=o(42),r=o(5),l=function(e,t){i.a.call(this),this.tileCoord=e,this.state=t,this.interimTile=null,this.key=''};a.a.inherits(l,i.a),l.prototype.changed=function(){this.dispatchEvent(r.a.CHANGE)},l.prototype.getKey=function(){return this.key+'/'+this.tileCoord},l.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==n.a.LOADED)return e;e=e.interimTile}while(e);return this},l.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==n.a.LOADED){e.interimTile=null;break}else e.getState()==n.a.LOADING?t=e:e.getState()==n.a.IDLE?t.interimTile=e.interimTile:t=e;e=t.interimTile}while(e)}},l.prototype.getTileCoord=function(){return this.tileCoord},l.prototype.getState=function(){return this.state},l.prototype.setState=function(e){this.state=e,this.changed()},l.prototype.load=function(){},t.a=l},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(7),n=o(9),i=o(86),r=o(87),l=o(69),s=function(e){var t=e||{};this.geometry_=null,this.geometryFunction_=s.defaultGeometryFunction,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill===void 0?null:t.fill,this.image_=t.image===void 0?null:t.image,this.renderer_=t.renderer===void 0?null:t.renderer,this.stroke_=t.stroke===void 0?null:t.stroke,this.text_=t.text===void 0?null:t.text,this.zIndex_=t.zIndex};s.prototype.clone=function(){var e=this.getGeometry();return e&&e.clone&&(e=e.clone()),new s({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},s.prototype.getRenderer=function(){return this.renderer_},s.prototype.setRenderer=function(e){this.renderer_=e},s.prototype.getGeometry=function(){return this.geometry_},s.prototype.getGeometryFunction=function(){return this.geometryFunction_},s.prototype.getFill=function(){return this.fill_},s.prototype.setFill=function(e){this.fill_=e},s.prototype.getImage=function(){return this.image_},s.prototype.setImage=function(e){this.image_=e},s.prototype.getStroke=function(){return this.stroke_},s.prototype.setStroke=function(e){this.stroke_=e},s.prototype.getText=function(){return this.text_},s.prototype.setText=function(e){this.text_=e},s.prototype.getZIndex=function(){return this.zIndex_},s.prototype.setGeometry=function(e){'function'==typeof e?this.geometryFunction_=e:'string'==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=s.defaultGeometryFunction,this.geometry_=e},s.prototype.setZIndex=function(e){this.zIndex_=e},s.createFunction=function(e){var t;if('function'==typeof e)t=e;else{var o;Array.isArray(e)?o=e:(a.a.assert(e instanceof s,41),o=[e]),t=function(){return o}}return t},s.default_=null,s.defaultFunction=function(){if(!s.default_){var e=new r['default']({color:'rgba(255,255,255,0.4)'}),t=new l['default']({color:'#3399CC',width:1.25});s.default_=[new s({image:new i['default']({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return s.default_},s.createDefaultEditing=function(){var e={},t=[255,255,255,1],o=[0,153,255,1],a=3;return e[n.a.POLYGON]=[new s({fill:new r['default']({color:[255,255,255,0.5]})})],e[n.a.MULTI_POLYGON]=e[n.a.POLYGON],e[n.a.LINE_STRING]=[new s({stroke:new l['default']({color:t,width:a+2})}),new s({stroke:new l['default']({color:o,width:a})})],e[n.a.MULTI_LINE_STRING]=e[n.a.LINE_STRING],e[n.a.CIRCLE]=e[n.a.POLYGON].concat(e[n.a.LINE_STRING]),e[n.a.POINT]=[new s({image:new i['default']({radius:2*a,fill:new r['default']({color:o}),stroke:new l['default']({color:t,width:a/2})}),zIndex:Infinity})],e[n.a.MULTI_POINT]=e[n.a.POINT],e[n.a.GEOMETRY_COLLECTION]=e[n.a.POLYGON].concat(e[n.a.LINE_STRING],e[n.a.POINT]),e},s.defaultGeometryFunction=function(e){return e.getGeometry()},t['default']=s},function(e,t,o){'use strict';var a=o(0),n=o(4),i=o(42),r=o(5),l=function(){i.a.call(this),this.revision_=0};a.a.inherits(l,i.a),l.unByKey=function(e){if(Array.isArray(e))for(var t=0,o=e.length;t<o;++t)n.a.unlistenByKey(e[t]);else n.a.unlistenByKey(e)},l.prototype.changed=function(){++this.revision_,this.dispatchEvent(r.a.CHANGE)},l.prototype.dispatchEvent,l.prototype.getRevision=function(){return this.revision_},l.prototype.on=function(e,t,o){if(Array.isArray(e)){for(var a=e.length,r=Array(a),l=0;l<a;++l)r[l]=n.a.listen(this,e[l],t,o);return r}return n.a.listen(this,e,t,o)},l.prototype.once=function(e,t,o){if(Array.isArray(e)){for(var a=e.length,r=Array(a),l=0;l<a;++l)r[l]=n.a.listenOnce(this,e[l],t,o);return r}return n.a.listenOnce(this,e,t,o)},l.prototype.un=function(e,t,o){if(Array.isArray(e)){for(var a=0,i=e.length;a<i;++a)n.a.unlisten(this,e[a],t,o);return}n.a.unlisten(this,e,t,o)},t.a=l},function(e,t){'use strict';t.a={POSTRENDER:'postrender',MOVESTART:'movestart',MOVEEND:'moveend'}},function(e,t,o){'use strict';var a=o(7),n=o(2),r=function(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}};r.DROP=Infinity,r.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,n.a.clear(this.queuedElements_)},r.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,o=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var a=this.keyFunction_(o);return delete this.queuedElements_[a],o},r.prototype.enqueue=function(e){a.a.assert(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=r.DROP&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},r.prototype.getCount=function(){return this.elements_.length},r.prototype.getLeftChildIndex_=function(e){return 2*e+1},r.prototype.getRightChildIndex_=function(e){return 2*e+2},r.prototype.getParentIndex_=function(e){return e-1>>1},r.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;0<=e;e--)this.siftUp_(e)},r.prototype.isEmpty=function(){return 0===this.elements_.length},r.prototype.isKeyQueued=function(e){return e in this.queuedElements_},r.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},r.prototype.siftUp_=function(e){for(var t=this.elements_,o=this.priorities_,a=t.length,n=t[e],i=o[e],r=e;e<a>>1;){var l=this.getLeftChildIndex_(e),s=this.getRightChildIndex_(e),d=s<a&&o[s]<o[l]?s:l;t[e]=t[d],o[e]=o[d],e=d}t[e]=n,o[e]=i,this.siftDown_(r,e)},r.prototype.siftDown_=function(e,t){for(var o=this.elements_,a=this.priorities_,n=o[t],i=a[t];t>e;){var r=this.getParentIndex_(t);if(a[r]>i)o[t]=o[r],a[t]=a[r],t=r;else break}o[t]=n,a[t]=i},r.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,o=this.priorities_,a=0,l=t.length,n,s,i;for(s=0;s<l;++s)n=t[s],i=e(n),i==r.DROP?delete this.queuedElements_[this.keyFunction_(n)]:(o[a]=i,t[a++]=n);t.length=a,o.length=a,this.heapify_()},t.a=r},function(e,t,o){'use strict';var a=o(6),n={};n.disable=function(e){return void 0===e?void 0:0},n.none=function(e,t){return void 0===e?void 0:e+t},n.createSnapToN=function(e){var t=2*Math.PI/e;return function(e,o){return void 0===e?void 0:(e=Math.floor((e+o)/t+0.5)*t,e)}},n.createSnapToZero=function(e){var t=e||a.a.toRadians(5);return function(e,o){return void 0===e?void 0:Math.abs(e+o)<=t?0:e+o}},t.a=n},function(e,t,o){'use strict';var a=o(0),n=o(76),i=o(15),r=o(8),l=o(4),s=function(e){i.a.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:a.a.nullFunction,e.target&&this.setTarget(e.target)};a.a.inherits(s,i.a),s.prototype.disposeInternal=function(){r.a.removeNode(this.element),i.a.prototype.disposeInternal.call(this)},s.prototype.getMap=function(){return this.map_},s.prototype.setMap=function(e){this.map_&&r.a.removeNode(this.element);for(var t=0,o=this.listenerKeys.length;t<o;++t)l.a.unlistenByKey(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,this.map_){var i=this.target_?this.target_:e.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==a.a.nullFunction&&this.listenerKeys.push(l.a.listen(e,n.a.POSTRENDER,this.render,this)),e.render()}},s.prototype.setTarget=function(e){this.target_='string'==typeof e?document.getElementById(e):e},t.a=s},function(e,t,o){'use strict';var a=o(0),n=o(55),i=o(4),r=o(5),l=o(1),s=o(12),d=o(48),p=o(107),g=o(13),c=function(e,t){n.a.call(this),this.map_=t,this.layerRenderers_={},this.layerRendererListeners_={}};a.a.inherits(c,n.a),c.prototype.calculateMatrices2D=function(e){var t=e.viewState,o=e.coordinateToPixelTransform,a=e.pixelToCoordinateTransform;g.a.compose(o,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),g.a.invert(g.a.setFromArray(a,o))},c.prototype.disposeInternal=function(){for(var e in this.layerRenderers_)this.layerRenderers_[e].dispose()},c.expireIconCache_=function(){var e=p.a.iconImageCache;e.expire()},c.prototype.forEachFeatureAtCoordinate=function(e,t,o,n,r,s,p){function g(e,o){var i=a.a.getUid(e).toString(),l=t.layerStates[a.a.getUid(o)].managed;if(!(i in t.skippedFeatureUids)||l)return n.call(r,e,l?o:null)}var c=t.viewState,u=c.resolution,_=c.projection,y=e,h;if(_.canWrapX()){var m=_.getExtent(),f=l.a.getWidth(m),E=e[0];if(E<m[0]||E>m[2]){var T=Math.ceil((m[0]-E)/f);y=[E+f*T,e[1]]}}var S=t.layerStatesArray,x=S.length,C;for(C=x-1;0<=C;--C){var i=S[C],R=i.layer;if(d.a.visibleAtResolution(i,u)&&s.call(p,R)){var I=this.getLayerRenderer(R);if(R.getSource()&&(h=I.forEachFeatureAtCoordinate(R.getSource().getWrapX()?y:e,t,o,g,r)),h)return h}}},c.prototype.forEachLayerAtPixel=function(){},c.prototype.hasFeatureAtCoordinate=function(e,t,o,a,n){var i=this.forEachFeatureAtCoordinate(e,t,o,s.a.TRUE,this,a,n);return i!==void 0},c.prototype.getLayerRenderer=function(e){var t=a.a.getUid(e).toString();if(t in this.layerRenderers_)return this.layerRenderers_[t];var o=e.createRenderer(this);return this.layerRenderers_[t]=o,this.layerRendererListeners_[t]=i.a.listen(o,r.a.CHANGE,this.handleLayerRendererChange_,this),o},c.prototype.getLayerRendererByKey=function(e){return this.layerRenderers_[e]},c.prototype.getLayerRenderers=function(){return this.layerRenderers_},c.prototype.getMap=function(){return this.map_},c.prototype.getType=function(){},c.prototype.handleLayerRendererChange_=function(){this.map_.render()},c.prototype.removeLayerRendererByKey_=function(e){var t=this.layerRenderers_[e];return delete this.layerRenderers_[e],i.a.unlistenByKey(this.layerRendererListeners_[e]),delete this.layerRendererListeners_[e],t},c.prototype.renderFrame=a.a.nullFunction,c.prototype.removeUnusedLayerRenderers_=function(e,t){for(var o in this.layerRenderers_)t&&o in t.layerStates||this.removeLayerRendererByKey_(o).dispose()},c.prototype.scheduleExpireIconCache=function(e){e.postRenderFunctions.push(c.expireIconCache_)},c.prototype.scheduleRemoveUnusedLayerRenderers=function(e){for(var t in this.layerRenderers_)if(!(t in e.layerStates))return void e.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},c.sortByZIndex=function(e,t){return e.zIndex-t.zIndex},t.a=c},function(e,t,o){'use strict';var a=o(66),n={};n.ORDER=[a.a.POLYGON,a.a.CIRCLE,a.a.LINE_STRING,a.a.IMAGE,a.a.TEXT,a.a.DEFAULT],t.a=n},function(e,t,o){'use strict';var a=o(0),n=o(55),i=o(3),r=o(4),l=o(2),s=o(14),d=o(115);var p},function(e,t){'use strict';var o={};o.createOrUpdate=function(e,t,o,a){return void 0===a?[e,t,o]:(a[0]=e,a[1]=t,a[2]=o,a)},o.getKeyZXY=function(e,t,o){return e+'/'+t+'/'+o},o.hash=function(e){return(e[1]<<e[0])+e[2]},o.quadKey=function(e){var t=e[0],o=Array(t),a=1<<t-1,n,i;for(n=0;n<t;++n)i=48,e[1]&a&&(i+=1),e[2]&a&&(i+=2),o[n]=String.fromCharCode(i),a>>=1;return o.join('')},o.withinExtentAndZ=function(e,t){var o=e[0],a=e[1],n=e[2];if(t.getMinZoom()>o||o>t.getMaxZoom())return!1;var i=t.getExtent(),r;return r=i?t.getTileRangeForExtentAndZ(i,o):t.getFullTileRange(o),!r||r.containsXY(a,n)},t.a=o},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(0),n=o(48),i=o(2),r=o(37),l=o(217),s=o(222),d=o(74),p=function(e){var t=e?e:{},o=i.a.assign({},t);delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,n.a.call(this,o),this.renderBuffer_=t.renderBuffer===void 0?100:t.renderBuffer,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0&&t.updateWhileAnimating,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0&&t.updateWhileInteracting};a.a.inherits(p,n.a),p.prototype.createRenderer=function(e){var t=null,o=e.getType();return a.a.ENABLE_CANVAS&&o===r.a.CANVAS&&(t=new l.a(this)),t},p.prototype.getRenderBuffer=function(){return this.renderBuffer_},p.prototype.getRenderOrder=function(){return this.get(p.Property_.RENDER_ORDER)},p.prototype.getSource,p.prototype.getStyle=function(){return this.style_},p.prototype.getStyleFunction=function(){return this.styleFunction_},p.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},p.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},p.prototype.setRenderOrder=function(e){this.set(p.Property_.RENDER_ORDER,e)},p.prototype.setStyle=function(e){this.style_=e===void 0?d['default'].defaultFunction:e,this.styleFunction_=null===e?void 0:d['default'].createFunction(this.style_),this.changed()},p.Property_={RENDER_ORDER:'renderOrder'},t['default']=p},function(e,t,o){'use strict';var a=o(0),n=o(49),r=o(9),l=o(66),s={};s.defaultOrder=function(e,t){return a.a.getUid(e)-a.a.getUid(t)},s.getSquaredTolerance=function(e,t){var o=s.getTolerance(e,t);return o*o},s.getTolerance=function(e,t){return a.a.SIMPLIFY_TOLERANCE*e/t},s.renderCircleGeometry_=function(e,t,o,a){var n=o.getFill(),i=o.getStroke();if(n||i){var r=e.getReplay(o.getZIndex(),l.a.CIRCLE);r.setFillStrokeStyle(n,i),r.drawCircle(t,a)}var s=o.getText();if(s){var d=e.getReplay(o.getZIndex(),l.a.TEXT);d.setTextStyle(s),d.drawText(t.getCenter(),0,2,2,t,a)}},s.renderFeature=function(e,t,o,a,i,r){var l=!1,d,p;return d=o.getImage(),d&&(p=d.getImageState(),p==n.a.LOADED||p==n.a.ERROR?d.unlistenImageChange(i,r):(p==n.a.IDLE&&d.load(),p=d.getImageState(),d.listenImageChange(i,r),l=!0)),s.renderFeature_(e,t,o,a),l},s.renderFeature_=function(e,t,o,a){var n=o.getGeometryFunction()(t);if(n){var i=n.getSimplifiedGeometry(a),r=o.getRenderer();if(r)s.renderGeometry_(e,i,o,t);else{var l=s.GEOMETRY_RENDERERS_[i.getType()];l(e,i,o,t)}}},s.renderGeometry_=function(e,t,o,a){if(t.getType()==r.a.GEOMETRY_COLLECTION){for(var n=t.getGeometries(),d=0,i=n.length;d<i;++d)s.renderGeometry_(e,n[d],o,a);return}var p=e.getReplay(o.getZIndex(),l.a.DEFAULT);p.drawCustom(t,a,o.getRenderer())},s.renderGeometryCollectionGeometry_=function(e,t,o,a){var n=t.getGeometriesArray(),r,i;for(r=0,i=n.length;r<i;++r){var l=s.GEOMETRY_RENDERERS_[n[r].getType()];l(e,n[r],o,a)}},s.renderLineStringGeometry_=function(e,t,o,a){var n=o.getStroke();if(n){var i=e.getReplay(o.getZIndex(),l.a.LINE_STRING);i.setFillStrokeStyle(null,n),i.drawLineString(t,a)}var r=o.getText();if(r){var s=e.getReplay(o.getZIndex(),l.a.TEXT);s.setTextStyle(r),s.drawText(t.getFlatMidpoint(),0,2,2,t,a)}},s.renderMultiLineStringGeometry_=function(e,t,o,a){var n=o.getStroke();if(n){var i=e.getReplay(o.getZIndex(),l.a.LINE_STRING);i.setFillStrokeStyle(null,n),i.drawMultiLineString(t,a)}var r=o.getText();if(r){var s=e.getReplay(o.getZIndex(),l.a.TEXT);s.setTextStyle(r);var d=t.getFlatMidpoints();s.drawText(d,0,d.length,2,t,a)}},s.renderMultiPolygonGeometry_=function(e,t,o,a){var n=o.getFill(),i=o.getStroke();if(i||n){var r=e.getReplay(o.getZIndex(),l.a.POLYGON);r.setFillStrokeStyle(n,i),r.drawMultiPolygon(t,a)}var s=o.getText();if(s){var d=e.getReplay(o.getZIndex(),l.a.TEXT);d.setTextStyle(s);var p=t.getFlatInteriorPoints();d.drawText(p,0,p.length,2,t,a)}},s.renderPointGeometry_=function(e,t,o,a){var i=o.getImage();if(i){if(i.getImageState()!=n.a.LOADED)return;var r=e.getReplay(o.getZIndex(),l.a.IMAGE);r.setImageStyle(i),r.drawPoint(t,a)}var s=o.getText();if(s){var d=e.getReplay(o.getZIndex(),l.a.TEXT);d.setTextStyle(s),d.drawText(t.getFlatCoordinates(),0,2,2,t,a)}},s.renderMultiPointGeometry_=function(e,t,o,a){var i=o.getImage();if(i){if(i.getImageState()!=n.a.LOADED)return;var r=e.getReplay(o.getZIndex(),l.a.IMAGE);r.setImageStyle(i),r.drawMultiPoint(t,a)}var s=o.getText();if(s){var d=e.getReplay(o.getZIndex(),l.a.TEXT);d.setTextStyle(s);var p=t.getFlatCoordinates();d.drawText(p,0,p.length,t.getStride(),t,a)}},s.renderPolygonGeometry_=function(e,t,o,a){var n=o.getFill(),i=o.getStroke();if(n||i){var r=e.getReplay(o.getZIndex(),l.a.POLYGON);r.setFillStrokeStyle(n,i),r.drawPolygon(t,a)}var s=o.getText();if(s){var d=e.getReplay(o.getZIndex(),l.a.TEXT);d.setTextStyle(s),d.drawText(t.getFlatInteriorPoint(),0,2,2,t,a)}},s.GEOMETRY_RENDERERS_={Point:s.renderPointGeometry_,LineString:s.renderLineStringGeometry_,Polygon:s.renderPolygonGeometry_,MultiPoint:s.renderMultiPointGeometry_,MultiLineString:s.renderMultiLineStringGeometry_,MultiPolygon:s.renderMultiPolygonGeometry_,GeometryCollection:s.renderGeometryCollectionGeometry_,Circle:s.renderCircleGeometry_},t.a=s},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(0),n=o(223),i=function(e){var t=e||{};n.a.call(this,{points:Infinity,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})};a.a.inherits(i,n.a),i.prototype.clone=function(){var e=new i({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},i.prototype.setRadius=function(e){this.radius_=e,this.render_(this.atlasManager_)},t['default']=i},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(0),n=o(25),i=function(e){var t=e||{};this.color_=t.color===void 0?null:t.color,this.checksum_=void 0};i.prototype.clone=function(){var e=this.getColor();return new i({color:e&&e.slice?e.slice():e||void 0})},i.prototype.getColor=function(){return this.color_},i.prototype.setColor=function(e){this.color_=e,this.checksum_=void 0},i.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=a.a.getUid(this.color_).toString():this.checksum_='f'+(this.color_?n.a.asString(this.color_):'-')),this.checksum_},t['default']=i},function(e,t){'use strict';t.a={ARRAY_BUFFER:'arraybuffer',JSON:'json',TEXT:'text',XML:'xml'}},function(e,t,o){'use strict';var a=o(58),n=o(2),i=o(10),r=function(){this.defaultDataProjection=null,this.defaultFeatureProjection=null};r.prototype.getReadOptions=function(e,t){var o;return t&&(o={dataProjection:t.dataProjection?t.dataProjection:this.readProjection(e),featureProjection:t.featureProjection}),this.adaptOptions(o)},r.prototype.adaptOptions=function(e){return n.a.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},e)},r.prototype.getLastExtent=function(){return null},r.prototype.getType=function(){},r.prototype.readFeature=function(){},r.prototype.readFeatures=function(){},r.prototype.readGeometry=function(){},r.prototype.readProjection=function(){},r.prototype.writeFeature=function(){},r.prototype.writeFeatures=function(){},r.prototype.writeGeometry=function(){},r.transformWithOptions=function(e,t,o){var n=o?i['default'].get(o.featureProjection):null,r=o?i['default'].get(o.dataProjection):null,l;if(l=n&&r&&!i['default'].equivalent(n,r)?e instanceof a.a?(t?e.clone():e).transform(t?n:r,t?r:n):i['default'].transformExtent(e,r,n):e,t&&o&&void 0!==o.decimals){var s=Math.pow(10,o.decimals),d=function(e){for(var t=0,o=e.length;t<o;++t)e[t]=Math.round(e[t]*s)/s;return e};l===e&&(l=l.clone()),l.applyTransform(d)}return l},t.a=r},function(e,t,o){'use strict';var a=o(0),n=o(3),i=o(1),r=o(19),l=o(9),s=o(20),d=o(45),p=o(28),g=o(29),c=o(136),u=o(62),_=o(230),y=o(104),h=o(33),m=function(e,t){s.a.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,t)};a.a.inherits(m,s.a),m.prototype.appendCoordinate=function(e){this.flatCoordinates?n.a.extend(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},m.prototype.clone=function(){var e=new m(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},m.prototype.closestPointXY=function(e,t,o,a){return a<i.a.closestSquaredDistanceXY(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(d.a.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),d.a.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,o,a))},m.prototype.forEachSegment=function(e,t){return y.a.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)},m.prototype.getCoordinateAtM=function(e,t){if(this.layout!=r.a.XYM&&this.layout!=r.a.XYZM)return null;return c.a.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t!==void 0&&t)},m.prototype.getCoordinates=function(){return g.a.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},m.prototype.getCoordinateAt=function(e,t){return c.a.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)},m.prototype.getLength=function(){return _.a.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},m.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(0.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},m.prototype.getSimplifiedGeometryInternal=function(e){var t=[];t.length=h.a.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0);var o=new m(null);return o.setFlatCoordinates(r.a.XY,t),o},m.prototype.getType=function(){return l.a.LINE_STRING},m.prototype.intersectsExtent=function(e){return u.a.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},m.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,1),!this.flatCoordinates&&(this.flatCoordinates=[]),this.flatCoordinates.length=p.a.coordinates(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(r.a.XY,null)},m.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},t.a=m},function(e,t,o){'use strict';var a=o(0),n=o(3),r=o(1),i=o(19),l=o(9),s=o(61),d=o(20),p=o(28),g=o(29),c=o(6),u=function(e,t){d.a.call(this),this.setCoordinates(e,t)};a.a.inherits(u,d.a),u.prototype.appendPoint=function(e){this.flatCoordinates?n.a.extend(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},u.prototype.clone=function(){var e=new u(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},u.prototype.closestPointXY=function(e,t,o,a){if(a<r.a.closestSquaredDistanceXY(this.getExtent(),e,t))return a;var n=this.flatCoordinates,l=this.stride,s,i,d;for(s=0,i=n.length;s<i;s+=l){var p=c.a.squaredDistance(e,t,n[s],n[s+1]);if(p<a){for(a=p,d=0;d<l;++d)o[d]=n[s+d];o.length=l}}return a},u.prototype.getCoordinates=function(){return g.a.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},u.prototype.getPoint=function(e){var t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;if(0>e||t<=e)return null;var o=new s.a(null);return o.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride)),o},u.prototype.getPoints=function(){var e=this.flatCoordinates,t=this.layout,o=this.stride,a=[],n,i;for(n=0,i=e.length;n<i;n+=o){var r=new s.a(null);r.setFlatCoordinates(t,e.slice(n,n+o)),a.push(r)}return a},u.prototype.getType=function(){return l.a.MULTI_POINT},u.prototype.intersectsExtent=function(e){var t=this.flatCoordinates,o=this.stride,a,n,i,l;for(a=0,n=t.length;a<n;a+=o)if(i=t[a],l=t[a+1],r.a.containsXY(e,i,l))return!0;return!1},u.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,1),!this.flatCoordinates&&(this.flatCoordinates=[]),this.flatCoordinates.length=p.a.coordinates(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(i.a.XY,null)},u.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},t.a=u},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(0),n=o(41),r=o(53),i=o(94),l=o(149),s=o(43),d=o(95),p=o(76),g=o(155),c=o(15),u=o(54),_=o(156),y=o(99),h=o(17),m=o(7),f=o(168),E=o(8),T=o(4),S=o(16),x=o(5),C=o(1),R=o(12),I=o(18),L=o(172),v=o(187),O=o(2),P=o(80),A=o(37),b=o(189),F=o(190),D=o(31),w=o(77),N=o(13);a.a.OL_URL='https://openlayers.org/',a.a.OL_LOGO_URL='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC',a.a.DEFAULT_RENDERER_TYPES=[A.a.CANVAS,A.a.WEBGL];var k=function(e){c.a.call(this);var t=k.createOptionsInternal(e);this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0===e.pixelRatio?I.a.DEVICE_PIXEL_RATIO:e.pixelRatio,this.logos_=t.logos,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=N.a.create(),this.pixelToCoordinateTransform_=N.a.create(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement('DIV'),this.viewport_.className='ol-viewport'+(I.a.TOUCH?' ol-touch':''),this.viewport_.style.position='relative',this.viewport_.style.overflow='hidden',this.viewport_.style.width='100%',this.viewport_.style.height='100%',this.viewport_.style.msTouchAction='none',this.viewport_.style.touchAction='none',this.overlayContainer_=document.createElement('DIV'),this.overlayContainer_.className='ol-overlaycontainer',this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement('DIV'),this.overlayContainerStopEvent_.className='ol-overlaycontainer-stopevent';for(var o=[x.a.CLICK,x.a.DBLCLICK,x.a.MOUSEDOWN,x.a.TOUCHSTART,x.a.MSPOINTERDOWN,s.a.POINTERDOWN,x.a.MOUSEWHEEL,x.a.WHEEL],a=0,n=o.length;a<n;++a)T.a.listen(this.overlayContainerStopEvent_,o[a],S.a.stopPropagation);for(var i in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new l.a(this,e.moveTolerance),s.a)T.a.listen(this.mapBrowserEventHandler_,s.a[i],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=t.keyboardEventTarget,this.keyHandlerKeys_=null,T.a.listen(this.viewport_,x.a.WHEEL,this.handleBrowserEvent,this),T.a.listen(this.viewport_,x.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls_=t.controls,this.interactions_=t.interactions,this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=new t.rendererConstructor(this.viewport_,this),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new _.a(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},T.a.listen(this,c.a.getChangeEventType(g.a.LAYERGROUP),this.handleLayerGroupChanged_,this),T.a.listen(this,c.a.getChangeEventType(g.a.VIEW),this.handleViewChanged_,this),T.a.listen(this,c.a.getChangeEventType(g.a.SIZE),this.handleSizeChanged_,this),T.a.listen(this,c.a.getChangeEventType(g.a.TARGET),this.handleTargetChanged_,this),this.setProperties(t.values),this.controls_.forEach(function(e){e.setMap(this)},this),T.a.listen(this.controls_,r.a.ADD,function(e){e.element.setMap(this)},this),T.a.listen(this.controls_,r.a.REMOVE,function(e){e.element.setMap(null)},this),this.interactions_.forEach(function(e){e.setMap(this)},this),T.a.listen(this.interactions_,r.a.ADD,function(e){e.element.setMap(this)},this),T.a.listen(this.interactions_,r.a.REMOVE,function(e){e.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_,this),T.a.listen(this.overlays_,r.a.ADD,function(e){this.addOverlayInternal_(e.element)},this),T.a.listen(this.overlays_,r.a.REMOVE,function(e){var t=e.element,o=t.getId();void 0!==o&&delete this.overlayIdIndex_[o.toString()],e.element.setMap(null)},this)};a.a.inherits(k,c.a),k.prototype.addControl=function(e){this.getControls().push(e)},k.prototype.addInteraction=function(e){this.getInteractions().push(e)},k.prototype.addLayer=function(e){var t=this.getLayerGroup().getLayers();t.push(e)},k.prototype.addOverlay=function(e){this.getOverlays().push(e)},k.prototype.addOverlayInternal_=function(e){var t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},k.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.renderer_.dispose(),T.a.unlisten(this.viewport_,x.a.WHEEL,this.handleBrowserEvent,this),T.a.unlisten(this.viewport_,x.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.handleResize_!==void 0&&(window.removeEventListener(x.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),c.a.prototype.disposeInternal.call(this)},k.prototype.forEachFeatureAtPixel=function(e,t,o){if(this.frameState_){var a=this.getCoordinateFromPixel(e);o=void 0===o?{}:o;var n=void 0===o.hitTolerance?0:o.hitTolerance*this.frameState_.pixelRatio,i=void 0===o.layerFilter?R.a.TRUE:o.layerFilter;return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,n,t,null,i,null)}},k.prototype.getFeaturesAtPixel=function(e,t){var o=null;return this.forEachFeatureAtPixel(e,function(e){o||(o=[]),o.push(e)},t),o},k.prototype.forEachLayerAtPixel=function(e,t,o,a,n){if(this.frameState_){var i=void 0===o?null:o,r=void 0===a?R.a.TRUE:a,l=void 0===n?null:n;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,t,i,r,l)}},k.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_)return!1;var o=this.getCoordinateFromPixel(e);t=t===void 0?{}:t;var a=t.layerFilter===void 0?R.a.TRUE:t.layerFilter,n=t.hitTolerance===void 0?0:t.hitTolerance*this.frameState_.pixelRatio;return this.renderer_.hasFeatureAtCoordinate(o,this.frameState_,n,a,null)},k.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},k.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),o=e.changedTouches?e.changedTouches[0]:e;return[o.clientX-t.left,o.clientY-t.top]},k.prototype.getTarget=function(){return this.get(g.a.TARGET)},k.prototype.getTargetElement=function(){var e=this.getTarget();return void 0===e?null:'string'==typeof e?document.getElementById(e):e},k.prototype.getCoordinateFromPixel=function(e){var t=this.frameState_;return t?N.a.apply(t.pixelToCoordinateTransform,e.slice()):null},k.prototype.getControls=function(){return this.controls_},k.prototype.getOverlays=function(){return this.overlays_},k.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return t===void 0?null:t},k.prototype.getInteractions=function(){return this.interactions_},k.prototype.getLayerGroup=function(){return this.get(g.a.LAYERGROUP)},k.prototype.getLayers=function(){var e=this.getLayerGroup().getLayers();return e},k.prototype.getPixelFromCoordinate=function(e){var t=this.frameState_;return t?N.a.apply(t.coordinateToPixelTransform,e.slice(0,2)):null},k.prototype.getRenderer=function(){return this.renderer_},k.prototype.getSize=function(){return this.get(g.a.SIZE)},k.prototype.getView=function(){return this.get(g.a.VIEW)},k.prototype.getViewport=function(){return this.viewport_},k.prototype.getOverlayContainer=function(){return this.overlayContainer_},k.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},k.prototype.getTilePriority=function(e,t,o,a){var n=this.frameState_;if(!n||!(t in n.wantedTiles))return w.a.DROP;if(!n.wantedTiles[t][e.getKey()])return w.a.DROP;var i=o[0]-n.focus[0],r=o[1]-n.focus[1];return 65536*Math.log(a)+Math.sqrt(i*i+r*r)/a},k.prototype.handleBrowserEvent=function(e,t){var o=t||e.type,a=new i.a(o,this,e);this.handleMapBrowserEvent(a)},k.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){this.focus_=e.coordinate,e.frameState=this.frameState_;var t=this.getInteractions().getArray(),o;if(!1!==this.dispatchEvent(e))for(o=t.length-1;0<=o;o--){var a=t[o];if(a.getActive()){var n=a.handleEvent(e);if(!n)break}}}},k.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var o=16,a=o;if(e){var n=e.viewHints;n[h.a.ANIMATING]&&(o=this.loadTilesWhileAnimating_?8:0,a=2),n[h.a.INTERACTING]&&(o=this.loadTilesWhileInteracting_?8:0,a=2)}t.getTilesLoading()<o&&(t.reprioritize(),t.loadMoreTiles(o,a))}var r=this.postRenderFunctions_,l,i;for(l=0,i=r.length;l<i;++l)r[l](this,e);r.length=0},k.prototype.handleSizeChanged_=function(){this.render()},k.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.keyHandlerKeys_){for(var t=0,o=this.keyHandlerKeys_.length;t<o;++t)T.a.unlistenByKey(this.keyHandlerKeys_[t]);this.keyHandlerKeys_=null}if(!e)E.a.removeNode(this.viewport_),void 0!==this.handleResize_&&(window.removeEventListener(x.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);else{e.appendChild(this.viewport_);var a=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[T.a.listen(a,x.a.KEYDOWN,this.handleBrowserEvent,this),T.a.listen(a,x.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(x.a.RESIZE,this.handleResize_,!1))}this.updateSize()},k.prototype.handleTileChange_=function(){this.render()},k.prototype.handleViewPropertyChanged_=function(){this.render()},k.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(T.a.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(T.a.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.viewport_.setAttribute('data-view',a.a.getUid(e)),this.viewPropertyListenerKey_=T.a.listen(e,u.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=T.a.listen(e,x.a.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},k.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(T.a.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[T.a.listen(e,u.a.PROPERTYCHANGE,this.render,this),T.a.listen(e,x.a.CHANGE,this.render,this)]),this.render()},k.prototype.isRendered=function(){return!!this.frameState_},k.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},k.prototype.render=function(){this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},k.prototype.removeControl=function(e){return this.getControls().remove(e)},k.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},k.prototype.removeLayer=function(e){var t=this.getLayerGroup().getLayers();return t.remove(e)},k.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},k.prototype.renderFrame_=function(e){var t=this.getSize(),o=this.getView(),n=C.a.createEmpty(),r=this.frameState_,l=null,s,i,g;if(void 0!==t&&D.a.hasArea(t)&&o&&o.isDef()){var c=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=this.getLayerGroup().getLayerStatesArray(),_={};for(s=0,i=u.length;s<i;++s)_[a.a.getUid(u[s].layer)]=u[s];g=o.getState(),l={animate:!1,attributions:{},coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:n,focus:this.focus_?this.focus_:g.center,index:this.frameIndex_++,layerStates:_,layerStatesArray:u,logos:O.a.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:g,viewHints:c,wantedTiles:{}}}if(l&&(l.extent=C.a.getForViewAndSize(g.center,g.resolution,g.rotation,l.size,n)),this.frameState_=l,this.renderer_.renderFrame(l),l){if(l.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,l.postRenderFunctions),r){var y=!this.previousExtent_||!C.a.isEmpty(this.previousExtent_)&&!C.a.equals(l.extent,this.previousExtent_);y&&(this.dispatchEvent(new d.a(p.a.MOVESTART,this,r)),this.previousExtent_=C.a.createOrUpdateEmpty(this.previousExtent_))}var m=this.previousExtent_&&!l.viewHints[h.a.ANIMATING]&&!l.viewHints[h.a.INTERACTING]&&!C.a.equals(l.extent,this.previousExtent_);m&&(this.dispatchEvent(new d.a(p.a.MOVEEND,this,l)),C.a.clone(l.extent,this.previousExtent_))}this.dispatchEvent(new d.a(p.a.POSTRENDER,this,l)),setTimeout(this.handlePostRender.bind(this),0)},k.prototype.setLayerGroup=function(e){this.set(g.a.LAYERGROUP,e)},k.prototype.setSize=function(e){this.set(g.a.SIZE,e)},k.prototype.setTarget=function(e){this.set(g.a.TARGET,e)},k.prototype.setView=function(e){this.set(g.a.VIEW,e)},k.prototype.skipFeature=function(e){var t=a.a.getUid(e).toString();this.skippedFeatureUids_[t]=!0,this.render()},k.prototype.updateSize=function(){var e=this.getTargetElement();if(!e)this.setSize(void 0);else{var t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)])}},k.prototype.unskipFeature=function(e){var t=a.a.getUid(e).toString();delete this.skippedFeatureUids_[t],this.render()},k.createOptionsInternal=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t='string'==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var o={},r={};if(void 0===e.logo||'boolean'==typeof e.logo&&e.logo)r[a.a.OL_LOGO_URL]=a.a.OL_URL;else{var l=e.logo;'string'==typeof l?r[l]='':l instanceof HTMLElement?r[a.a.getUid(l).toString()]=l:l&&(m.a.assert('string'==typeof l.href,44),m.a.assert('string'==typeof l.src,45),r[l.src]=l.href)}var s=e.layers instanceof v.a?e.layers:new v.a({layers:e.layers});o[g.a.LAYERGROUP]=s,o[g.a.TARGET]=e.target,o[g.a.VIEW]=void 0===e.view?new y['default']:e.view;var d=P.a,p;void 0===e.renderer?p=a.a.DEFAULT_RENDERER_TYPES:(Array.isArray(e.renderer)?p=e.renderer:'string'==typeof e.renderer?p=[e.renderer]:m.a.assert(!1,46),0<=p.indexOf('dom')&&(p=p.concat(a.a.DEFAULT_RENDERER_TYPES)));var c,i;for(c=0,i=p.length;c<i;++c){var u=p[c];if(!(a.a.ENABLE_CANVAS&&u==A.a.CANVAS));else if(I.a.CANVAS){d=b.a;break}}var _;void 0===e.controls?_=f.a.defaults():Array.isArray(e.controls)?_=new n.a(e.controls.slice()):(m.a.assert(e.controls instanceof n.a,47),_=e.controls);var h;void 0===e.interactions?h=L.a.defaults():Array.isArray(e.interactions)?h=new n.a(e.interactions.slice()):(m.a.assert(e.interactions instanceof n.a,48),h=e.interactions);var E;return void 0===e.overlays?E=new n.a:Array.isArray(e.overlays)?E=new n.a(e.overlays.slice()):(m.a.assert(e.overlays instanceof n.a,49),E=e.overlays),{controls:_,interactions:h,keyboardEventTarget:t,logos:r,overlays:E,rendererConstructor:d,values:o}},t['default']=k},function(e,t,o){'use strict';var a=o(0),n=function(e){var t=a.a.VERSION?a.a.VERSION.split('-')[0]:'latest';this.message='Assertion failed. See https://openlayers.org/en/'+t+'/doc/errors/#'+e+' for details.',this.code=e,this.name='AssertionError'};a.a.inherits(n,Error),t.a=n},function(e,t,o){'use strict';var a=o(0),n=o(95),i=function(e,t,o,a,i){n.a.call(this,e,t,i),this.originalEvent=o,this.pixel=t.getEventPixel(o),this.coordinate=t.getCoordinateFromPixel(this.pixel),this.dragging=a!==void 0&&a};a.a.inherits(i,n.a),i.prototype.preventDefault=function(){n.a.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){n.a.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},t.a=i},function(e,t,o){'use strict';var a=o(0),n=o(16),i=function(e,t,o){n.a.call(this,e),this.map=t,this.frameState=o===void 0?null:o};a.a.inherits(i,n.a),t.a=i},function(e,t,o){'use strict';var a=o(0),n=o(94),i=function(e,t,o,a,i){n.a.call(this,e,t,o.originalEvent,a,i),this.pointerEvent=o};a.a.inherits(i,n.a),t.a=i},function(e,t){'use strict';t.a={POINTERMOVE:'pointermove',POINTERDOWN:'pointerdown',POINTERUP:'pointerup',POINTEROVER:'pointerover',POINTEROUT:'pointerout',POINTERENTER:'pointerenter',POINTERLEAVE:'pointerleave',POINTERCANCEL:'pointercancel'}},function(e,t,o){'use strict';var a=Math.abs,n=o(0),i=o(56),r=function(e){var t={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};i.a.call(this,e,t),this.pointerMap=e.pointerMap,this.lastTouches=[]};n.a.inherits(r,i.a),r.POINTER_ID=1,r.POINTER_TYPE='mouse',r.DEDUP_DIST=25,r.prototype.isEventSimulatedFromTouch_=function(e){for(var o=this.lastTouches,n=e.clientX,s=e.clientY,d=0,i=o.length,l;d<i&&(l=o[d]);d++){var t=a(n-l[0]),p=a(s-l[1]);if(t<=r.DEDUP_DIST&&p<=r.DEDUP_DIST)return!0}return!1},r.prepareEvent=function(t,o){var a=o.cloneEvent(t,t),e=a.preventDefault;return a.preventDefault=function(){t.preventDefault(),e()},a.pointerId=r.POINTER_ID,a.isPrimary=!0,a.pointerType=r.POINTER_TYPE,a},r.prototype.mousedown=function(t){if(!this.isEventSimulatedFromTouch_(t)){r.POINTER_ID.toString()in this.pointerMap&&this.cancel(t);var o=r.prepareEvent(t,this.dispatcher);this.pointerMap[r.POINTER_ID.toString()]=t,this.dispatcher.down(o,t)}},r.prototype.mousemove=function(t){if(!this.isEventSimulatedFromTouch_(t)){var o=r.prepareEvent(t,this.dispatcher);this.dispatcher.move(o,t)}},r.prototype.mouseup=function(t){if(!this.isEventSimulatedFromTouch_(t)){var o=this.pointerMap[r.POINTER_ID.toString()];if(o&&o.button===t.button){var a=r.prepareEvent(t,this.dispatcher);this.dispatcher.up(a,t),this.cleanupMouse()}}},r.prototype.mouseover=function(t){if(!this.isEventSimulatedFromTouch_(t)){var o=r.prepareEvent(t,this.dispatcher);this.dispatcher.enterOver(o,t)}},r.prototype.mouseout=function(t){if(!this.isEventSimulatedFromTouch_(t)){var o=r.prepareEvent(t,this.dispatcher);this.dispatcher.leaveOut(o,t)}},r.prototype.cancel=function(t){var o=r.prepareEvent(t,this.dispatcher);this.dispatcher.cancel(o,t),this.cleanupMouse()},r.prototype.cleanupMouse=function(){delete this.pointerMap[r.POINTER_ID.toString()]},t.a=r},function(e,t,o){'use strict';var a=Math.PI,n=Math.pow,i=Math.log,r=Math.sin,l=Math.cos,s=Math.max,d=Math.min;Object.defineProperty(t,'__esModule',{value:!0});var p=o(0),g=o(157),c=o(15),u=o(158),_=o(78),y=o(17),h=o(159),m=o(3),f=o(7),E=o(57),T=o(26),S=o(1),x=o(9),C=o(44),R=o(20),I=o(6),L=o(2),v=o(10),O=o(22),P=function(e){c.a.call(this);var t=L.a.assign({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=v['default'].createProjection(t.projection,'EPSG:3857'),this.applyOptions_(t)};p.a.inherits(P,c.a),P.prototype.applyOptions_=function(e){var t={};t[h.a.CENTER]=e.center===void 0?null:e.center;var o=P.createResolutionConstraint_(e);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=e.resolutions,this.minZoom_=o.minZoom;var a=P.createCenterConstraint_(e),n=o.constraint,i=P.createRotationConstraint_(e);this.constraints_={center:a,resolution:n,rotation:i},e.resolution===void 0?e.zoom!==void 0&&(t[h.a.RESOLUTION]=this.constrainResolution(this.maxResolution_,e.zoom-this.minZoom_)):t[h.a.RESOLUTION]=e.resolution,t[h.a.ROTATION]=e.rotation===void 0?0:e.rotation,this.setProperties(t),this.options_=e},P.prototype.getUpdatedOptions_=function(e){var t=L.a.assign({},this.options_);return void 0===t.resolution?t.zoom=this.getZoom():t.resolution=this.getResolution(),t.center=this.getCenter(),t.rotation=this.getRotation(),L.a.assign({},t,e)},P.prototype.animate=function(){var e=Date.now(),t=this.getCenter().slice(),o=this.getResolution(),n=this.getRotation(),r=arguments.length,l;1<r&&'function'==typeof arguments[r-1]&&(l=arguments[r-1],--r);for(var s=[],d=0;d<r;++d){var i=arguments[d],p={start:e,complete:!1,anchor:i.anchor,duration:void 0===i.duration?1e3:i.duration,easing:i.easing||T.a.inAndOut};if(i.center&&(p.sourceCenter=t,p.targetCenter=i.center,t=p.targetCenter),void 0===i.zoom?i.resolution&&(p.sourceResolution=o,p.targetResolution=i.resolution,o=p.targetResolution):(p.sourceResolution=o,p.targetResolution=this.constrainResolution(this.maxResolution_,i.zoom-this.minZoom_,0),o=p.targetResolution),void 0!==i.rotation){p.sourceRotation=n;var g=I.a.modulo(i.rotation-n+a,2*a)-a;p.targetRotation=n+g,n=p.targetRotation}p.callback=l,P.isNoopAnimation(p)?p.complete=!0:e+=p.duration,s.push(p)}this.animations_.push(s),this.setHint(y.a.ANIMATING,1),this.updateAnimations_()},P.prototype.getAnimating=function(){return 0<this.getHints()[y.a.ANIMATING]},P.prototype.getInteracting=function(){return 0<this.getHints()[y.a.INTERACTING]},P.prototype.cancelAnimations=function(){this.setHint(y.a.ANIMATING,-this.getHints()[y.a.ANIMATING]);for(var e=0,t=this.animations_.length,o;e<t;++e)o=this.animations_[e],o[0].callback&&o[0].callback(!1);this.animations_.length=0},P.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var e=Date.now(),t=!1,o=this.animations_.length-1;0<=o;--o){for(var n=this.animations_[o],i=!0,r=0,l=n.length,s;r<l;++r)if(s=n[r],!s.complete){var d=e-s.start,p=0<s.duration?d/s.duration:1;1<=p?(s.complete=!0,p=1):i=!1;var g=s.easing(p);if(s.sourceCenter){var c=s.sourceCenter[0],u=s.sourceCenter[1],_=s.targetCenter[0],m=s.targetCenter[1];this.set(h.a.CENTER,[c+g*(_-c),u+g*(m-u)])}if(s.sourceResolution&&s.targetResolution){var f=1===g?s.targetResolution:s.sourceResolution+g*(s.targetResolution-s.sourceResolution);s.anchor&&this.set(h.a.CENTER,this.calculateCenterZoom(f,s.anchor)),this.set(h.a.RESOLUTION,f)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var E=1===g?I.a.modulo(s.targetRotation+a,2*a)-a:s.sourceRotation+g*(s.targetRotation-s.sourceRotation);s.anchor&&this.set(h.a.CENTER,this.calculateCenterRotate(E,s.anchor)),this.set(h.a.ROTATION,E)}if(t=!0,!s.complete)break}if(i){this.animations_[o]=null,this.setHint(y.a.ANIMATING,-1);var T=n[0].callback;T&&T(!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},P.prototype.calculateCenterRotate=function(e,t){var o=this.getCenter(),a;return void 0!==o&&(a=[o[0]-t[0],o[1]-t[1]],E.a.rotate(a,e-this.getRotation()),E.a.add(a,t)),a},P.prototype.calculateCenterZoom=function(e,t){var o=this.getCenter(),a=this.getResolution(),n;if(o!==void 0&&a!==void 0){var i=t[0]-e*(t[0]-o[0])/a,r=t[1]-e*(t[1]-o[1])/a;n=[i,r]}return n},P.prototype.getSizeFromViewport_=function(){var e=[100,100],t='.ol-viewport[data-view="'+p.a.getUid(this)+'"]',o=document.querySelector(t);if(o){var a=getComputedStyle(o);e[0]=parseInt(a.width,10),e[1]=parseInt(a.height,10)}return e},P.prototype.constrainCenter=function(e){return this.constraints_.center(e)},P.prototype.constrainResolution=function(e,t,o){return this.constraints_.resolution(e,t||0,o||0)},P.prototype.constrainRotation=function(e,t){return this.constraints_.rotation(e,t||0)},P.prototype.getCenter=function(){return this.get(h.a.CENTER)},P.prototype.getConstraints=function(){return this.constraints_},P.prototype.getHints=function(e){return void 0===e?this.hints_.slice():(e[0]=this.hints_[0],e[1]=this.hints_[1],e)},P.prototype.calculateExtent=function(e){var t=e||this.getSizeFromViewport_(),o=this.getCenter();f.a.assert(o,1);var a=this.getResolution();f.a.assert(void 0!==a,2);var n=this.getRotation();return f.a.assert(void 0!==n,3),S.a.getForViewAndSize(o,a,n,t)},P.prototype.getMaxResolution=function(){return this.maxResolution_},P.prototype.getMinResolution=function(){return this.minResolution_},P.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},P.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},P.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},P.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},P.prototype.getProjection=function(){return this.projection_},P.prototype.getResolution=function(){return this.get(h.a.RESOLUTION)},P.prototype.getResolutions=function(){return this.resolutions_},P.prototype.getResolutionForExtent=function(e,t){var o=t||this.getSizeFromViewport_(),a=S.a.getWidth(e)/o[0],n=S.a.getHeight(e)/o[1];return s(a,n)},P.prototype.getResolutionForValueFunction=function(e){var t=e||2,o=this.maxResolution_,a=this.minResolution_,r=i(o/a)/i(t);return function(e){var a=o/n(t,e*r);return a}},P.prototype.getRotation=function(){return this.get(h.a.ROTATION)},P.prototype.getValueForResolutionFunction=function(e){var t=e||2,o=this.maxResolution_,a=this.minResolution_,n=i(o/a)/i(t);return function(e){var a=i(o/e)/i(t)/n;return a}},P.prototype.getState=function(){var e=this.getCenter(),t=this.getProjection(),o=this.getResolution(),a=this.getRotation();return{center:e.slice(),projection:t===void 0?null:t,resolution:o,rotation:a}},P.prototype.getZoom=function(){var e=this.getResolution(),t;return void 0!==e&&(t=this.getZoomForResolution(e)),t},P.prototype.getZoomForResolution=function(e){var t;if(e>=this.minResolution_&&e<=this.maxResolution_){var o=this.minZoom_||0,a,n;if(this.resolutions_){var r=m.a.linearFindNearest(this.resolutions_,e,1);if(o+=r,r==this.resolutions_.length-1)return o;a=this.resolutions_[r],n=a/this.resolutions_[r+1]}else a=this.maxResolution_,n=this.zoomFactor_;t=o+i(a/e)/i(n)}return t},P.prototype.getResolutionForZoom=function(e){return this.constrainResolution(this.maxResolution_,e-this.minZoom_,0)},P.prototype.fit=function(e,t){var o=t||{},a=o.size;a||(a=this.getSizeFromViewport_());var n;e instanceof R.a?e.getType()===x.a.CIRCLE?(e=e.getExtent(),n=C.a.fromExtent(e),n.rotate(this.getRotation(),S.a.getCenter(e))):n=e:(f.a.assert(Array.isArray(e),24),f.a.assert(!S.a.isEmpty(e),25),n=C.a.fromExtent(e));var g=void 0===o.padding?[0,0,0,0]:o.padding,c=void 0===o.constrainResolution||o.constrainResolution,u=void 0!==o.nearest&&o.nearest,_;_=void 0===o.minResolution?void 0===o.maxZoom?0:this.constrainResolution(this.maxResolution_,o.maxZoom-this.minZoom_,0):o.minResolution;for(var y=n.getFlatCoordinates(),h=this.getRotation(),m=l(-h),E=r(-h),T=+Infinity,I=+Infinity,L=-Infinity,v=-Infinity,O=n.getStride(),P=0,i=y.length;P<i;P+=O){var A=y[P]*m-y[P+1]*E,b=y[P]*E+y[P+1]*m;T=d(T,A),I=d(I,b),L=s(L,A),v=s(v,b)}var F=this.getResolutionForExtent([T,I,L,v],[a[0]-g[1]-g[3],a[1]-g[0]-g[2]]);if(F=isNaN(F)?_:s(F,_),c){var D=this.constrainResolution(F,0,0);!u&&D<F&&(D=this.constrainResolution(D,-1,0)),F=D}E=-E;var w=(T+L)/2,N=(I+v)/2;w+=(g[1]-g[3])/2*F,N+=(g[0]-g[2])/2*F;var k=w*m-N*E,G=N*m+w*E,M=[k,G],U=o.callback?o.callback:p.a.nullFunction;void 0===o.duration?(this.setResolution(F),this.setCenter(M),setTimeout(U.bind(void 0,!0),0)):this.animate({resolution:F,center:M,duration:o.duration,easing:o.easing},U)},P.prototype.centerOn=function(e,t,o){var a=this.getRotation(),n=l(-a),i=r(-a),s=e[0]*n-e[1]*i,d=e[1]*n+e[0]*i,p=this.getResolution();s+=(t[0]/2-o[0])*p,d+=(o[1]-t[1]/2)*p,i=-i;var g=s*n-d*i,c=d*n+s*i;this.setCenter([g,c])},P.prototype.isDef=function(){return!!this.getCenter()&&this.getResolution()!==void 0},P.prototype.rotate=function(e,t){if(t!==void 0){var o=this.calculateCenterRotate(e,t);this.setCenter(o)}this.setRotation(e)},P.prototype.setCenter=function(e){this.set(h.a.CENTER,e),this.getAnimating()&&this.cancelAnimations()},P.prototype.setHint=function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]},P.prototype.setResolution=function(e){this.set(h.a.RESOLUTION,e),this.getAnimating()&&this.cancelAnimations()},P.prototype.setRotation=function(e){this.set(h.a.ROTATION,e),this.getAnimating()&&this.cancelAnimations()},P.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},P.createCenterConstraint_=function(e){return void 0===e.extent?g.a.none:g.a.createExtent(e.extent)},P.createResolutionConstraint_=function(e){var t=28,o=2,a=e.minZoom===void 0?p.a.DEFAULT_MIN_ZOOM:e.minZoom,r=e.maxZoom===void 0?t:e.maxZoom,l=e.zoomFactor===void 0?o:e.zoomFactor,d,g,c;if(e.resolutions!==void 0){var _=e.resolutions;g=_[0],c=_[_.length-1],d=u.a.createSnapToResolutions(_)}else{var y=v['default'].createProjection(e.projection,'EPSG:3857'),h=y.getExtent(),m=h?s(S.a.getWidth(h),S.a.getHeight(h)):360*v['default'].METERS_PER_UNIT[O.a.DEGREES]/y.getMetersPerUnit(),f=m/p.a.DEFAULT_TILE_SIZE/n(o,p.a.DEFAULT_MIN_ZOOM),E=f/n(o,t-p.a.DEFAULT_MIN_ZOOM);g=e.maxResolution,g===void 0?g=f/n(l,a):a=0,c=e.minResolution,c===void 0&&(e.maxZoom===void 0?c=E:e.maxResolution===void 0?c=f/n(l,r):c=g/n(l,r)),r=a+Math.floor(i(g/c)/i(l)),c=g/n(l,r-a),d=u.a.createSnapToPower(l,g,r-a)}return{constraint:d,maxResolution:g,minResolution:c,minZoom:a,zoomFactor:l}},P.createRotationConstraint_=function(e){var t=!(e.enableRotation!==void 0)||e.enableRotation;if(t){var o=e.constrainRotation;return void 0===o||!0===o?_.a.createSnapToZero():!1===o?_.a.none:'number'==typeof o?_.a.createSnapToN(o):_.a.none}return _.a.disable},P.isNoopAnimation=function(e){return e.sourceCenter&&e.targetCenter&&!E.a.equals(e.sourceCenter,e.targetCenter)?!1:!(e.sourceResolution!==e.targetResolution)&&!(e.sourceRotation!==e.targetRotation)},t['default']=P},function(e,t){'use strict';t.a={BOTTOM_LEFT:'bottom-left',BOTTOM_RIGHT:'bottom-right',TOP_LEFT:'top-left',TOP_RIGHT:'top-right'}},function(e,t){'use strict';t.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(e,t){'use strict';var o={};o.cache_=null,o.set=function(e){o.cache_=e},o.get=function(){return o.cache_||window.proj4},t.a=o},function(e,t,o){'use strict';var a=o(3),n=o(46),r={};r.linearRings=function(e,t,o,r,l,s,d){var p=l[s+1],g=[],c=o[0],u,i,_,y,h,m,f;for(y=e[c-r],m=e[c-r+1],u=t;u<c;u+=r)h=e[u],f=e[u+1],(p<=m&&f<=p||m<=p&&p<=f)&&(_=(p-m)/(f-m)*(h-y)+y,g.push(_)),y=h,m=f;var E=NaN,T=-Infinity;for(g.sort(a.a.numberSafeCompareFunction),y=g[0],(u=1,i=g.length);u<i;++u){h=g[u];var S=Math.abs(h-y);S>T&&(_=(y+h)/2,n.a.linearRingsContainsXY(e,t,o,r,_,p)&&(E=_,T=S)),y=h}return isNaN(E)&&(E=l[s]),d?(d.push(E,p),d):[E,p]},r.linearRingss=function(e,t,o,a,n){var l=[],s,i;for(s=0,i=o.length;s<i;++s){var d=o[s];l=r.linearRings(e,t,d,a,n,2*s,l),t=d[d.length-1]}return l},t.a=r},function(e,t){'use strict';var o={};o.forEach=function(e,t,o,a,n,i){for(var r=[e[t],e[t+1]],l=[],s;t+a<o;t+=a){if(l[0]=e[t+a],l[1]=e[t+a+1],s=n.call(i,r,l),s)return s;r[0]=l[0],r[1]=l[1]}return!1},t.a=o},function(e,t,o){'use strict';var a=o(0),n=o(15),i=o(106),r=o(6),l=o(2),s=function(e){n.a.call(this);var t=l.a.assign({},e);t[i.a.OPACITY]=e.opacity===void 0?1:e.opacity,t[i.a.VISIBLE]=!(e.visible!==void 0)||e.visible,t[i.a.Z_INDEX]=e.zIndex===void 0?0:e.zIndex,t[i.a.MAX_RESOLUTION]=e.maxResolution===void 0?Infinity:e.maxResolution,t[i.a.MIN_RESOLUTION]=e.minResolution===void 0?0:e.minResolution,this.setProperties(t),this.state_={layer:this,managed:!0}};a.a.inherits(s,n.a),s.prototype.createRenderer=function(){},s.prototype.getLayerState=function(){return this.state_.opacity=r.a.clamp(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},s.prototype.getLayersArray=function(){},s.prototype.getLayerStatesArray=function(){},s.prototype.getExtent=function(){return this.get(i.a.EXTENT)},s.prototype.getMaxResolution=function(){return this.get(i.a.MAX_RESOLUTION)},s.prototype.getMinResolution=function(){return this.get(i.a.MIN_RESOLUTION)},s.prototype.getOpacity=function(){return this.get(i.a.OPACITY)},s.prototype.getSourceState=function(){},s.prototype.getVisible=function(){return this.get(i.a.VISIBLE)},s.prototype.getZIndex=function(){return this.get(i.a.Z_INDEX)},s.prototype.setExtent=function(e){this.set(i.a.EXTENT,e)},s.prototype.setMaxResolution=function(e){this.set(i.a.MAX_RESOLUTION,e)},s.prototype.setMinResolution=function(e){this.set(i.a.MIN_RESOLUTION,e)},s.prototype.setOpacity=function(e){this.set(i.a.OPACITY,e)},s.prototype.setVisible=function(e){this.set(i.a.VISIBLE,e)},s.prototype.setZIndex=function(e){this.set(i.a.Z_INDEX,e)},t.a=s},function(e,t){'use strict';t.a={OPACITY:'opacity',VISIBLE:'visible',EXTENT:'extent',Z_INDEX:'zIndex',MAX_RESOLUTION:'maxResolution',MIN_RESOLUTION:'minResolution',SOURCE:'source'}},function(e,t,o){'use strict';var a=o(188),n={};n.iconImageCache=new a.a,t.a=n},function(e,t,o){'use strict';var a=Math.round,n=o(0),i=o(3),r=o(38),l=o(1),s=o(9),d=o(20),p=o(27),g=o(18),c=o(65),u=o(21),_=o(13),y=function(e,t,o,a,n){c.a.call(this),this.context_=e,this.pixelRatio_=t,this.extent_=o,this.transform_=a,this.viewRotation_=n,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageSnapToPixel_=!1,this.imageWidth_=0,this.text_='',this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=_.a.create()};n.a.inherits(y,c.a),y.prototype.drawImages_=function(e,t,o){if(this.image_){var n=p.a.transform2D(e,t,o,2,this.transform_,this.pixelCoordinates_),r=this.context_,l=this.tmpLocalTransform_,s=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=s*this.imageOpacity_);var d=this.imageRotation_;this.imageRotateWithView_&&(d+=this.viewRotation_);var g,i;for(g=0,i=n.length;g<i;g+=2){var c=n[g]-this.imageAnchorX_,u=n[g+1]-this.imageAnchorY_;if(this.imageSnapToPixel_&&(c=a(c),u=a(u)),0!==d||1!=this.imageScale_){var y=c+this.imageAnchorX_,h=u+this.imageAnchorY_;_.a.compose(l,y,h,this.imageScale_,this.imageScale_,d,-y,-h),r.setTransform.apply(r,l)}r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,u,this.imageWidth_,this.imageHeight_)}(0!==d||1!=this.imageScale_)&&r.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(r.globalAlpha=s)}},y.prototype.drawText_=function(e,t,o,a){if(this.textState_&&''!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var n=p.a.transform2D(e,t,o,a,this.transform_,this.pixelCoordinates_),i=this.context_,r=this.textRotation_;for(this.textRotateWithView_&&(r+=this.viewRotation_);t<o;t+=a){var l=n[t]+this.textOffsetX_,s=n[t+1]+this.textOffsetY_;if(0!==r||1!=this.textScale_){var d=_.a.compose(this.tmpLocalTransform_,l,s,this.textScale_,this.textScale_,r,-l,-s);i.setTransform.apply(i,d)}this.textStrokeState_&&i.strokeText(this.text_,l,s),this.textFillState_&&i.fillText(this.text_,l,s)}(0!==r||1!=this.textScale_)&&i.setTransform(1,0,0,1,0,0)}},y.prototype.moveToLineTo_=function(e,t,o,a,n){var r=this.context_,l=p.a.transform2D(e,t,o,a,this.transform_,this.pixelCoordinates_);r.moveTo(l[0],l[1]);var s=l.length;n&&(s-=2);for(var d=2;d<s;d+=2)r.lineTo(l[d],l[d+1]);return n&&r.closePath(),o},y.prototype.drawRings_=function(e,t,o,a){var n,i;for(n=0,i=o.length;n<i;++n)t=this.moveToLineTo_(e,t,o[n],a,!0);return t},y.prototype.drawCircle=function(e){if(l.a.intersects(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=d.a.transform2D(e,this.transform_,this.pixelCoordinates_),o=t[2]-t[0],a=t[3]-t[1],n=Math.sqrt(o*o+a*a),i=this.context_;i.beginPath(),i.arc(t[0],t[1],n,0,2*Math.PI),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}''!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},y.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},y.prototype.drawGeometry=function(e){var t=e.getType();switch(t){case s.a.POINT:this.drawPoint(e);break;case s.a.LINE_STRING:this.drawLineString(e);break;case s.a.POLYGON:this.drawPolygon(e);break;case s.a.MULTI_POINT:this.drawMultiPoint(e);break;case s.a.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case s.a.MULTI_POLYGON:this.drawMultiPolygon(e);break;case s.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case s.a.CIRCLE:this.drawCircle(e);break;default:}},y.prototype.drawFeature=function(e,t){var o=t.getGeometryFunction()(e);o&&l.a.intersects(this.extent_,o.getExtent())&&(this.setStyle(t),this.drawGeometry(o))},y.prototype.drawGeometryCollection=function(e){var t=e.getGeometriesArray(),o,a;for(o=0,a=t.length;o<a;++o)this.drawGeometry(t[o])},y.prototype.drawPoint=function(e){var t=e.getFlatCoordinates(),o=e.getStride();this.image_&&this.drawImages_(t,0,t.length,o),''!==this.text_&&this.drawText_(t,0,t.length,o)},y.prototype.drawMultiPoint=function(e){var t=e.getFlatCoordinates(),o=e.getStride();this.image_&&this.drawImages_(t,0,t.length,o),''!==this.text_&&this.drawText_(t,0,t.length,o)},y.prototype.drawLineString=function(e){if(l.a.intersects(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,o=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(o,0,o.length,e.getStride(),!1),t.stroke()}if(''!==this.text_){var a=e.getFlatMidpoint();this.drawText_(a,0,2,2)}}},y.prototype.drawMultiLineString=function(e){var t=e.getExtent();if(l.a.intersects(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_,a=e.getFlatCoordinates(),n=0,r=e.getEnds(),s=e.getStride();o.beginPath();var d,i;for(d=0,i=r.length;d<i;++d)n=this.moveToLineTo_(a,n,r[d],s,!1);o.stroke()}if(''!==this.text_){var p=e.getFlatMidpoints();this.drawText_(p,0,p.length,2)}}},y.prototype.drawPolygon=function(e){if(l.a.intersects(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(''!==this.text_){var o=e.getFlatInteriorPoint();this.drawText_(o,0,2,2)}}},y.prototype.drawMultiPolygon=function(e){if(l.a.intersects(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,o=e.getOrientedFlatCoordinates(),a=0,n=e.getEndss(),r=e.getStride(),s,i;for(t.beginPath(),s=0,i=n.length;s<i;++s){var d=n[s];a=this.drawRings_(o,a,d,r)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(''!==this.text_){var p=e.getFlatInteriorPoints();this.drawText_(p,0,p.length,2)}}},y.prototype.setContextFillState_=function(e){var t=this.context_,o=this.contextFillState_;o?o.fillStyle!=e.fillStyle&&(o.fillStyle=t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},y.prototype.setContextStrokeState_=function(e){var t=this.context_,o=this.contextStrokeState_;o?(o.lineCap!=e.lineCap&&(o.lineCap=t.lineCap=e.lineCap),g.a.CANVAS_LINE_DASH&&(!i.a.equals(o.lineDash,e.lineDash)&&t.setLineDash(o.lineDash=e.lineDash),o.lineDashOffset!=e.lineDashOffset&&(o.lineDashOffset=t.lineDashOffset=e.lineDashOffset)),o.lineJoin!=e.lineJoin&&(o.lineJoin=t.lineJoin=e.lineJoin),o.lineWidth!=e.lineWidth&&(o.lineWidth=t.lineWidth=e.lineWidth),o.miterLimit!=e.miterLimit&&(o.miterLimit=t.miterLimit=e.miterLimit),o.strokeStyle!=e.strokeStyle&&(o.strokeStyle=t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,g.a.CANVAS_LINE_DASH&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},y.prototype.setContextTextState_=function(e){var t=this.context_,o=this.contextTextState_;o?(o.font!=e.font&&(o.font=t.font=e.font),o.textAlign!=e.textAlign&&(o.textAlign=t.textAlign=e.textAlign),o.textBaseline!=e.textBaseline&&(o.textBaseline=t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=e.textAlign,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:e.textAlign,textBaseline:e.textBaseline})},y.prototype.setFillStrokeStyle=function(e,t){if(!e)this.fillState_=null;else{var o=e.getColor();this.fillState_={fillStyle:r.a.asColorLike(o?o:u.a.defaultFillStyle)}}if(!t)this.strokeState_=null;else{var a=t.getColor(),n=t.getLineCap(),i=t.getLineDash(),l=t.getLineDashOffset(),s=t.getLineJoin(),d=t.getWidth(),p=t.getMiterLimit();this.strokeState_={lineCap:void 0===n?u.a.defaultLineCap:n,lineDash:i?i:u.a.defaultLineDash,lineDashOffset:l?l:u.a.defaultLineDashOffset,lineJoin:void 0===s?u.a.defaultLineJoin:s,lineWidth:this.pixelRatio_*(void 0===d?u.a.defaultLineWidth:d),miterLimit:void 0===p?u.a.defaultMiterLimit:p,strokeStyle:r.a.asColorLike(a?a:u.a.defaultStrokeStyle)}}},y.prototype.setImageStyle=function(e){if(!e)this.image_=null;else{var t=e.getAnchor(),o=e.getImage(1),a=e.getOrigin(),n=e.getSize();this.imageAnchorX_=t[0],this.imageAnchorY_=t[1],this.imageHeight_=n[1],this.image_=o,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScale()*this.pixelRatio_,this.imageSnapToPixel_=e.getSnapToPixel(),this.imageWidth_=n[0]}},y.prototype.setTextStyle=function(e){if(!e)this.text_='';else{var t=e.getFill();if(!t)this.textFillState_=null;else{var o=t.getColor();this.textFillState_={fillStyle:r.a.asColorLike(o?o:u.a.defaultFillStyle)}}var a=e.getStroke();if(!a)this.textStrokeState_=null;else{var n=a.getColor(),i=a.getLineCap(),l=a.getLineDash(),s=a.getLineDashOffset(),d=a.getLineJoin(),p=a.getWidth(),g=a.getMiterLimit();this.textStrokeState_={lineCap:i===void 0?u.a.defaultLineCap:i,lineDash:l?l:u.a.defaultLineDash,lineDashOffset:s?s:u.a.defaultLineDashOffset,lineJoin:d===void 0?u.a.defaultLineJoin:d,lineWidth:p===void 0?u.a.defaultLineWidth:p,miterLimit:g===void 0?u.a.defaultMiterLimit:g,strokeStyle:r.a.asColorLike(n?n:u.a.defaultStrokeStyle)}}var c=e.getFont(),_=e.getOffsetX(),y=e.getOffsetY(),h=e.getRotateWithView(),m=e.getRotation(),f=e.getScale(),E=e.getText(),T=e.getTextAlign(),S=e.getTextBaseline();this.textState_={font:c===void 0?u.a.defaultFont:c,textAlign:T===void 0?u.a.defaultTextAlign:T,textBaseline:S===void 0?u.a.defaultTextBaseline:S},this.text_=E===void 0?'':E,this.textOffsetX_=_===void 0?0:this.pixelRatio_*_,this.textOffsetY_=y===void 0?0:this.pixelRatio_*y,this.textRotateWithView_=h!==void 0&&h,this.textRotation_=m===void 0?0:m,this.textScale_=this.pixelRatio_*(f===void 0?1:f)}},t.a=y},function(e,t,o){'use strict';var a=o(0),n=o(1),i=o(9),r=o(66),l=o(65),s=o(110);var d},function(e,t,o){'use strict';var a=o(0),n=o(3),i=o(1),r=o(2),l=o(81),s=o(111),d=o(191),p=o(193),g=o(116),c=o(197),u=o(201);var _},function(e,t){'use strict';var o=function(){};o.prototype.getReplay=function(){},o.prototype.isEmpty=function(){},t.a=o},function(e,t,o){'use strict';var a=o(0),n=o(12);var i},function(){'use strict'},function(e,t,o){'use strict';var a=o(0),n=o(1),i=o(2),r=o(194),l=o(67),s=o(14),d=o(82);var p},function(){'use strict'},function(e,t,o){'use strict';var a=o(0),n=o(3),i=o(25),r=o(1),l=o(63),s=o(27),d=o(195),p=o(2),g=o(68),c=o(67),u=o(196),_=o(14),y=o(30);var h},function(e,t,o){'use strict';var a=o(0),n=o(118),i=o.n(n),r=o(1),l=o(2),s=function(e){this.rbush_=i()(e),this.items_={}};s.prototype.insert=function(e,t){var o={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(o),this.items_[a.a.getUid(t)]=o},s.prototype.load=function(e,t){for(var o=Array(t.length),n=0,i=t.length;n<i;n++){var r=e[n],l=t[n],s={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:l};o[n]=s,this.items_[a.a.getUid(l)]=s}this.rbush_.load(o)},s.prototype.remove=function(e){var t=a.a.getUid(e),o=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(o)},s.prototype.update=function(e,t){var o=this.items_[a.a.getUid(t)],n=[o.minX,o.minY,o.maxX,o.maxY];r.a.equals(n,e)||(this.remove(t),this.insert(e,t))},s.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(e){return e.value})},s.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},o=this.rbush_.search(t);return o.map(function(e){return e.value})},s.prototype.forEach=function(e,t){return this.forEach_(this.getAll(),e,t)},s.prototype.forEachInExtent=function(e,t,o){return this.forEach_(this.getInExtent(e),t,o)},s.prototype.forEach_=function(e,t,o){for(var a=0,n=e.length,i;a<n;a++)if(i=t.call(o,e[a]),i)return i;return i},s.prototype.isEmpty=function(){return l.a.isEmpty(this.items_)},s.prototype.clear=function(){this.rbush_.clear(),this.items_={}},s.prototype.getExtent=function(e){var t=this.rbush_.data;return r.a.createOrUpdate(t.minX,t.minY,t.maxX,t.maxY,e)},s.prototype.concat=function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[0|t]=e.items_[0|t]},t.a=s},function(e,t,o){'use strict';function a(e,t){return this instanceof a?void(this._maxEntries=T(4,e||9),this._minEntries=T(2,f(0.4*this._maxEntries)),t&&this._initFormat(t),this.clear()):new a(e,t)}function n(e,t,o){if(!o)return t.indexOf(e);for(var a=0;a<t.length;a++)if(o(e,t[a]))return a;return-1}function r(e,t){l(e,0,e.children.length,t,e)}function l(e,t,o,a,n){n||(n=h(null)),n.minX=Infinity,n.minY=Infinity,n.maxX=-Infinity,n.maxY=-Infinity;for(var r=t,i;r<o;r++)i=e.children[r],s(n,e.leaf?a(i):i);return n}function s(e,t){return e.minX=S(e.minX,t.minX),e.minY=S(e.minY,t.minY),e.maxX=T(e.maxX,t.maxX),e.maxY=T(e.maxY,t.maxY),e}function i(e,t){return e.minX-t.minX}function d(e,t){return e.minY-t.minY}function p(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function g(e){return e.maxX-e.minX+(e.maxY-e.minY)}function c(e,t){return(T(t.maxX,e.maxX)-S(t.minX,e.minX))*(T(t.maxY,e.maxY)-S(t.minY,e.minY))}function u(e,t){var o=T(e.minX,t.minX),a=T(e.minY,t.minY),n=S(e.maxX,t.maxX),i=S(e.maxY,t.maxY);return T(0,n-o)*T(0,i-a)}function _(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function y(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function h(e){return{children:e,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function m(e,t,o,a,n){for(var i=[t,o],r;i.length;)o=i.pop(),t=i.pop(),o-t<=a||(r=t+f((o-t)/a/2)*a,x(e,r,t,o,n),i.push(t,r,r,o))}var f=Math.ceil,E=Math.log,T=Math.max,S=Math.min;e.exports=a;var x=o(200);a.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,o=[],a=this.toBBox;if(!y(e,t))return o;for(var n=[],r,i,l,s;t;){for(r=0,i=t.children.length;r<i;r++)l=t.children[r],s=t.leaf?a(l):l,y(e,s)&&(t.leaf?o.push(l):_(e,s)?this._all(l,o):n.push(l));t=n.pop()}return o},collides:function(e){var t=this.data,o=this.toBBox;if(!y(e,t))return!1;for(var a=[],n,i,r,l;t;){for(n=0,i=t.children.length;n<i;n++)if(r=t.children[n],l=t.leaf?o(r):r,y(e,l)){if(t.leaf||_(e,l))return!0;a.push(r)}t=a.pop()}return!1},load:function(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(var t=0,o=e.length;t<o;t++)this.insert(e[t]);return this}var a=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=a;else if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var n=this.data;this.data=a,a=n}this._insert(a,this.data.height-a.height-1,!0)}return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=h([]),this},remove:function(e,t){if(!e)return this;for(var o=this.data,a=this.toBBox(e),r=[],l=[],s,i,d,p;o||r.length;){if(o||(o=r.pop(),i=r[r.length-1],s=l.pop(),p=!0),o.leaf&&(d=n(e,o.children,t),-1!==d))return o.children.splice(d,1),r.push(o),this._condense(r),this;p||o.leaf||!_(o,a)?i?(s++,o=i.children[s],p=!1):o=null:(r.push(o),l.push(s),s=0,i=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:i,compareMinY:d,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var o=[];e;)e.leaf?t.push.apply(t,e.children):o.push.apply(o,e.children),e=o.pop();return t},_build:function(e,t,o,a){var n=o-t+1,l=this._maxEntries,s;if(n<=l)return s=h(e.slice(t,o+1)),r(s,this.toBBox),s;a||(a=f(E(n)/E(l)),l=f(n/Math.pow(l,a-1))),s=h([]),s.leaf=!1,s.height=a;var d=f(n/l),p=d*f(Math.sqrt(l)),g,i,c,u;for(m(e,t,o,p,this.compareMinX),g=t;g<=o;g+=p)for(c=S(g+p-1,o),m(e,g,c,d,this.compareMinY),i=g;i<=c;i+=d)u=S(i+d-1,c),s.children.push(this._build(e,i,u,a-1));return r(s,this.toBBox),s},_chooseSubtree:function(e,t,o,a){for(var n,i,r,l,s,d,g,u;a.push(t),!(t.leaf||a.length-1===o);){for(g=u=Infinity,n=0,i=t.children.length;n<i;n++)r=t.children[n],s=p(r),d=c(e,r)-s,d<u?(u=d,g=s<g?s:g,l=r):d===u&&s<g&&(g=s,l=r);t=l||t.children[0]}return t},_insert:function(e,t,o){var a=this.toBBox,n=o?e:a(e),i=[],r=this._chooseSubtree(n,this.data,t,i);for(r.children.push(e),s(r,n);0<=t&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(n,i,t)},_split:function(e,t){var o=e[t],a=o.children.length,n=this._minEntries;this._chooseSplitAxis(o,n,a);var i=this._chooseSplitIndex(o,n,a),l=h(o.children.splice(i,o.children.length-i));l.height=o.height,l.leaf=o.leaf,r(o,this.toBBox),r(l,this.toBBox),t?e[t-1].children.push(l):this._splitRoot(o,l)},_splitRoot:function(e,t){this.data=h([e,t]),this.data.height=e.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,o){var a,n,i,r,s,d,g,c;for(d=g=Infinity,a=t;a<=o-t;a++)n=l(e,0,a,this.toBBox),i=l(e,a,o,this.toBBox),r=u(n,i),s=p(n)+p(i),r<d?(d=r,c=a,g=s<g?s:g):r===d&&s<g&&(g=s,c=a);return c},_chooseSplitAxis:function(e,t,o){var a=e.leaf?this.compareMinX:i,n=e.leaf?this.compareMinY:d,r=this._allDistMargin(e,t,o,a),l=this._allDistMargin(e,t,o,n);r<l&&e.children.sort(a)},_allDistMargin:function(e,t,o,a){e.children.sort(a);var n=this.toBBox,r=l(e,0,t,n),d=l(e,o-t,o,n),p=g(r)+g(d),c,i;for(c=t;c<o-t;c++)i=e.children[c],s(r,e.leaf?n(i):i),p+=g(r);for(c=o-t-1;c>=t;c--)i=e.children[c],s(d,e.leaf?n(i):i),p+=g(d);return p},_adjustParentBBoxes:function(e,t,o){for(var a=o;0<=a;a--)s(t[a],e)},_condense:function(e){for(var t=e.length-1,o;0<=t;t--)0===e[t].children.length?0<t?(o=e[t-1].children,o.splice(o.indexOf(e[t]),1)):this.clear():r(e[t],this.toBBox)},_initFormat:function(e){var t=['return a',' - b',';'];this.compareMinX=new Function('a','b',t.join(e[0])),this.compareMinY=new Function('a','b',t.join(e[1])),this.toBBox=new Function('a','return {minX: a'+e[0]+', minY: a'+e[1]+', maxX: a'+e[2]+', maxY: a'+e[3]+'};')}}},function(e,t,o){'use strict';var a=o(7),n=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null};n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},n.prototype.forEach=function(e,t){for(var o=this.oldest_;o;)e.call(t,o.value_,o.key_,this),o=o.newer},n.prototype.get=function(e){var t=this.entries_[e];return(a.a.assert(void 0!==t,15),t===this.newest_)?t.value_:(t===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(t.newer.older=t.older,t.older.newer=t.newer),t.newer=null,t.older=this.newest_,this.newest_.newer=t,this.newest_=t,t.value_)},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var e=Array(this.count_),t=0,o;for(o=this.newest_;o;o=o.older)e[t++]=o.key_;return e},n.prototype.getValues=function(){var e=Array(this.count_),t=0,o;for(o=this.newest_;o;o=o.older)e[t++]=o.value_;return e},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},n.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},n.prototype.set=function(e,t){a.a.assert(!(e in this.entries_),16);var o={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=o:this.oldest_=o,this.newest_=o,this.entries_[e]=o,++this.count_},t.a=n},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(0),n=o(48),i=o(121),r=o(2),l=o(37),s=o(122),d=o(205),p=function(e){var t=e?e:{},o=r.a.assign({},t);delete o.preload,delete o.useInterimTilesOnError,n.a.call(this,o),this.setPreload(t.preload===void 0?0:t.preload),this.setUseInterimTilesOnError(!(t.useInterimTilesOnError!==void 0)||t.useInterimTilesOnError)};a.a.inherits(p,n.a),p.prototype.createRenderer=function(e){var t=null,o=e.getType();return a.a.ENABLE_CANVAS&&o===l.a.CANVAS&&(t=new s.a(this)),t},p.prototype.getPreload=function(){return this.get(i.a.PRELOAD)},p.prototype.getSource,p.prototype.setPreload=function(e){this.set(i.a.PRELOAD,e)},p.prototype.getUseInterimTilesOnError=function(){return this.get(i.a.USE_INTERIM_TILES_ON_ERROR)},p.prototype.setUseInterimTilesOnError=function(e){this.set(i.a.USE_INTERIM_TILES_ON_ERROR,e)},t['default']=p},function(e,t){'use strict';t.a={PRELOAD:'preload',USE_INTERIM_TILES_ON_ERROR:'useInterimTilesOnError'}},function(e,t,o){'use strict';var a=Math.round,n=o(0),i=o(70),r=o(11),l=o(17),s=o(3),d=o(8),p=o(1),g=o(204),c=o(13),u=function(e){g.a.call(this,e),this.context=null===this.context?null:d.a.createCanvasContext2D(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.tmpExtent=p.a.createEmpty(),this.tmpTileRange_=new i.a(0,0,0,0),this.imageTransform_=c.a.create(),this.zDirection=0};n.a.inherits(u,g.a),u.prototype.isDrawableTile_=function(e){var t=e.getState(),o=this.getLayer().getUseInterimTilesOnError();return t==r.a.LOADED||t==r.a.EMPTY||t==r.a.ERROR&&!o},u.prototype.prepareFrame=function(e,t){var o=e.pixelRatio,n=e.size,d=e.viewState,g=d.projection,u=d.resolution,_=d.center,m=this.getLayer(),f=m.getSource(),E=f.getRevision(),T=f.getTileGridForProjection(g),S=T.getZForResolution(u,this.zDirection),C=T.getResolution(S),R=a(u/C)||1,I=e.extent;if(void 0!==t.extent&&(I=p.a.getIntersection(I,t.extent)),p.a.isEmpty(I))return!1;var L=T.getTileRangeForExtentAndResolution(I,C),v=T.getTileRangeExtent(S,L),O=f.getTilePixelRatio(o),P={};P[S]={};var A=this.createLoadedTileFinder(f,g,P),b=this.tmpExtent,F=this.tmpTileRange_,D=!1,N,k,x;for(k=L.minX;k<=L.maxX;++k)for(x=L.minY;x<=L.maxY;++x){if(N=f.getTile(S,k,x,o,g),N.getState()==r.a.ERROR&&(m.getUseInterimTilesOnError()?0<m.getPreload()&&(D=!0):N.setState(r.a.LOADED)),this.isDrawableTile_(N)||(N=N.getInterimTile()),this.isDrawableTile_(N)){N.getState()==r.a.LOADED&&(P[S][N.tileCoord.toString()]=N,!D&&-1==this.renderedTiles.indexOf(N)&&(D=!0));continue}var y=T.forEachTileCoordParentTileRange(N.tileCoord,A,null,F,b);if(!y){var G=T.getTileCoordChildTileRange(N.tileCoord,F,b);G&&A(S+1,G)}}var M=C*o/O*R,U=e.viewHints,z=U[l.a.ANIMATING]||U[l.a.INTERACTING];if(!(this.renderedResolution&&16<Date.now()-e.time&&z)&&(D||!(this.renderedExtent_&&p.a.containsExtent(this.renderedExtent_,I))||this.renderedRevision!=E||R!=this.oversampling_||!z&&M!=this.renderedResolution)){var X=this.context;if(X){var Y=f.getTilePixelSize(S,o,g),j=a(L.getWidth()*Y[0]/R),K=a(L.getHeight()*Y[1]/R),B=X.canvas;B.width!=j||B.height!=K?(this.oversampling_=R,B.width=j,B.height=K):(X.clearRect(0,0,j,K),R=this.oversampling_)}this.renderedTiles.length=0;var W=Object.keys(P).map(Number);W.sort(s.a.numberSafeCompareFunction);var V,H,Z,q,J,i,Q,$,ee,te,w;for(J=0,i=W.length;J<i;++J)for(var h in q=W[J],Z=f.getTilePixelSize(q,o,g),V=T.getResolution(q),H=V/C,$=O*f.getGutter(g),ee=P[q],ee)N=ee[h],Q=T.getTileCoordExtent(N.getTileCoord(),b),k=(Q[0]-v[0])/C*O/R,x=(v[3]-Q[3])/C*O/R,te=Z[0]*H/R,w=Z[1]*H/R,this.drawTileImage(N,e,t,k,x,te,w,$),this.renderedTiles.push(N);this.renderedRevision=E,this.renderedResolution=C*o/O*R,this.renderedExtent_=v}var oe=this.renderedResolution/u,ae=c.a.compose(this.imageTransform_,o*n[0]/2,o*n[1]/2,oe,oe,0,(this.renderedExtent_[0]-_[0])/this.renderedResolution*o,(_[1]-this.renderedExtent_[3])/this.renderedResolution*o);return c.a.compose(this.coordinateToCanvasPixelTransform,o*n[0]/2-ae[4],o*n[1]/2-ae[5],o/u,-o/u,0,-_[0],-_[1]),this.updateUsedTiles(e.usedTiles,f,S,L),this.manageTilePyramid(e,f,T,o,g,I,S,m.getPreload()),this.scheduleExpireCache(e,f),this.updateLogos(e,f),0<this.renderedTiles.length},u.prototype.drawTileImage=function(e,t,o,a,n,i,r,l){this.getLayer().getSource().getOpaque(t.viewState.projection)||this.context.clearRect(a,n,i,r);var s=e.getImage(this.getLayer());s&&this.context.drawImage(s,l,l,s.width-2*l,s.height-2*l,a,n,i,r)},u.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},u.prototype.getLayer,u.prototype.getImageTransform=function(){return this.imageTransform_},t.a=u},function(e,t,o){'use strict';var a=o(0),n=o(1),i=o(12),r=o(64),l=o(36),s=o(21),d=o(108),p=o(124),g=o(13),c=function(e){p.a.call(this,e),this.renderedResolution,this.transform_=g.a.create()};a.a.inherits(c,p.a),c.prototype.clip=function(e,t,o){var a=t.pixelRatio,i=t.size[0]*a,r=t.size[1]*a,l=t.viewState.rotation,d=n.a.getTopLeft(o),p=n.a.getTopRight(o),c=n.a.getBottomRight(o),u=n.a.getBottomLeft(o);g.a.apply(t.coordinateToPixelTransform,d),g.a.apply(t.coordinateToPixelTransform,p),g.a.apply(t.coordinateToPixelTransform,c),g.a.apply(t.coordinateToPixelTransform,u),e.save(),s.a.rotateAtOffset(e,-l,i/2,r/2),e.beginPath(),e.moveTo(d[0]*a,d[1]*a),e.lineTo(p[0]*a,p[1]*a),e.lineTo(c[0]*a,c[1]*a),e.lineTo(u[0]*a,u[1]*a),e.clip(),s.a.rotateAtOffset(e,l,i/2,r/2)},c.prototype.dispatchComposeEvent_=function(e,t,o,a){var n=this.getLayer();if(n.hasListener(e)){var i=o.size[0]*o.pixelRatio,l=o.size[1]*o.pixelRatio,p=o.viewState.rotation;s.a.rotateAtOffset(t,-p,i/2,l/2);var g=a===void 0?this.getTransform(o,0):a,c=new d.a(t,o.pixelRatio,o.extent,g,o.viewState.rotation),u=new r.a(e,c,o,t,null);n.dispatchEvent(u),s.a.rotateAtOffset(t,p,i/2,l/2)}},c.prototype.forEachLayerAtCoordinate=function(e,t,o,a){var n=this.forEachFeatureAtCoordinate(e,t,0,i.a.TRUE,this);return n?o.call(a,this.getLayer(),null):void 0},c.prototype.postCompose=function(e,t,o,a){this.dispatchComposeEvent_(l.a.POSTCOMPOSE,e,t,a)},c.prototype.preCompose=function(e,t,o){this.dispatchComposeEvent_(l.a.PRECOMPOSE,e,t,o)},c.prototype.dispatchRenderEvent=function(e,t,o){this.dispatchComposeEvent_(l.a.RENDER,e,t,o)},c.prototype.getTransform=function(e,t){var o=e.viewState,a=e.pixelRatio,n=a*e.size[0]/2,i=a*e.size[1]/2,r=a/o.resolution,l=-o.rotation,s=-o.center[0]+t,d=-o.center[1];return g.a.compose(this.transform_,n,i,r,-r,l,s,d)},c.prototype.composeFrame=function(){},c.prototype.prepareFrame=function(){},t.a=c},function(e,t,o){'use strict';var a=o(0),n=o(49),i=o(75),r=o(11),l=o(7),s=o(4),d=o(5),p=o(12),g=o(24),c=function(e){i.a.call(this),this.layer_=e};a.a.inherits(c,i.a),c.prototype.forEachFeatureAtCoordinate=a.a.nullFunction,c.prototype.hasFeatureAtCoordinate=p.a.FALSE,c.prototype.createLoadedTileFinder=function(e,t,o){return function(a,n){return e.forEachLoadedTile(t,a,n,function(e){o[a]||(o[a]={}),o[a][e.tileCoord.toString()]=e})}},c.prototype.getLayer=function(){return this.layer_},c.prototype.handleImageChange_=function(e){var t=e.target;t.getState()===n.a.LOADED&&this.renderIfReadyAndVisible()},c.prototype.loadImage=function(e){var t=e.getState();return t!=n.a.LOADED&&t!=n.a.ERROR&&s.a.listen(e,d.a.CHANGE,this.handleImageChange_,this),t==n.a.IDLE&&(e.load(),t=e.getState()),t==n.a.LOADED},c.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==g.a.READY&&this.changed()},c.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var o=function(e,t,o){var n=a.a.getUid(e).toString();n in o.usedTiles&&e.expireCache(o.viewState.projection,o.usedTiles[n])}.bind(null,t);e.postRenderFunctions.push(o)}},c.prototype.updateAttributions=function(e,t){if(t){var o,n,i;for(n=0,i=t.length;n<i;++n)o=t[n],e[a.a.getUid(o).toString()]=o}},c.prototype.updateLogos=function(e,t){var o=t.getLogo();o!==void 0&&('string'==typeof o?e.logos[o]='':o&&(l.a.assert('string'==typeof o.href,44),l.a.assert('string'==typeof o.src,45),e.logos[o.src]=o.href))},c.prototype.updateUsedTiles=function(e,t,o,n){var i=a.a.getUid(t).toString(),r=o.toString();i in e?r in e[i]?e[i][r].extend(n):e[i][r]=n:(e[i]={},e[i][r]=n)},c.prototype.manageTilePyramid=function(e,t,o,n,i,l,s,d,p,g){var c=a.a.getUid(t).toString();c in e.wantedTiles||(e.wantedTiles[c]={});var u=e.wantedTiles[c],_=e.tileQueue,h=o.getMinZoom(),m,f,E,T,S,y;for(y=s;y>=h;--y)for(f=o.getTileRangeForExtentAndZ(l,y,f),E=o.getResolution(y),T=f.minX;T<=f.maxX;++T)for(S=f.minY;S<=f.maxY;++S)s-y<=d?(m=t.getTile(y,T,S,n,i),m.getState()==r.a.IDLE&&(u[m.getKey()]=!0,!_.isKeyQueued(m.getKey())&&_.enqueue([m,c,o.getTileCoordCenter(m.tileCoord),E])),void 0!==p&&p.call(g,m)):t.useTile(y,T,S,i)},t.a=c},function(e,t,o){'use strict';var a=o(0),n=o(64),i=o(36),r=o(109),l=o(124),s=o(206),d=o(13),p=o(113),g=o(14),c=o(30),u=o(82);var _},function(e,t,o){'use strict';var a=o(0),n=o(211),i=o(127),r=o(11),l=o(4),s=o(5),d=o(10),p=o(212),g=o(128),c=o(32),u=function(e){g.a.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:u.defaultTileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX}),this.crossOrigin=e.crossOrigin===void 0?null:e.crossOrigin,this.tileClass=e.tileClass===void 0?n.a:e.tileClass,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1};a.a.inherits(u,g.a),u.prototype.canExpireCache=function(){if(!a.a.ENABLE_RASTER_REPROJECTION)return g.a.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},u.prototype.expireCache=function(e,t){if(!a.a.ENABLE_RASTER_REPROJECTION)return void g.a.prototype.expireCache.call(this,e,t);var o=this.getTileCacheForProjection(e);for(var n in this.tileCache.expireCache(this.tileCache==o?t:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[n];i.expireCache(i==o?t:{})}},u.prototype.getGutter=function(e){return a.a.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!d['default'].equivalent(this.getProjection(),e)?0:this.getGutterInternal()},u.prototype.getGutterInternal=function(){return 0},u.prototype.getOpaque=function(e){return a.a.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!d['default'].equivalent(this.getProjection(),e)?!1:g.a.prototype.getOpaque.call(this,e)},u.prototype.getTileGridForProjection=function(e){if(!a.a.ENABLE_RASTER_REPROJECTION)return g.a.prototype.getTileGridForProjection.call(this,e);var t=this.getProjection();if(this.tileGrid&&(!t||d['default'].equivalent(t,e)))return this.tileGrid;var o=a.a.getUid(e).toString();return o in this.tileGridForProjection||(this.tileGridForProjection[o]=c.a.getForProjection(e)),this.tileGridForProjection[o]},u.prototype.getTileCacheForProjection=function(e){if(!a.a.ENABLE_RASTER_REPROJECTION)return g.a.prototype.getTileCacheForProjection.call(this,e);var t=this.getProjection();if(!t||d['default'].equivalent(t,e))return this.tileCache;var o=a.a.getUid(e).toString();return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new i.a(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},u.prototype.createTile_=function(e,t,o,a,n,i){var d=[e,t,o],p=this.getTileCoordForTileUrlFunction(d,n),g=p?this.tileUrlFunction(p,a,n):void 0,c=new this.tileClass(d,void 0===g?r.a.EMPTY:r.a.IDLE,void 0===g?'':g,this.crossOrigin,this.tileLoadFunction);return c.key=i,l.a.listen(c,s.a.CHANGE,this.handleTileChange,this),c},u.prototype.getTile=function(e,t,o,n,i){if(!a.a.ENABLE_RASTER_REPROJECTION||!this.getProjection()||!i||d['default'].equivalent(this.getProjection(),i))return this.getTileInternal(e,t,o,n,i);var r=this.getTileCacheForProjection(i),l=[e,t,o],s=this.getKeyZXY.apply(this,l),g;r.containsKey(s)&&(g=r.get(s));var c=this.getKey();if(g&&g.key==c)return g;var u=this.getProjection(),_=this.getTileGridForProjection(u),y=this.getTileGridForProjection(i),h=this.getTileCoordForTileUrlFunction(l,i),m=new p.a(u,_,i,y,l,h,this.getTilePixelRatio(n),this.getGutterInternal(),function(e,t,o,a){return this.getTileInternal(e,t,o,a,u)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return m.key=c,g?(m.interimTile=g,m.refreshInterimChain(),r.replace(s,m)):r.set(s,m),m},u.prototype.getTileInternal=function(e,t,o,a,n){var i=null,l=this.getKeyZXY(e,t,o),s=this.getKey();if(!this.tileCache.containsKey(l))i=this.createTile_(e,t,o,a,n,s),this.tileCache.set(l,i);else if(i=this.tileCache.get(l),i.key!=s){var d=i;i=this.createTile_(e,t,o,a,n,s),i.interimTile=d.getState()==r.a.IDLE?d.interimTile:d,i.refreshInterimChain(),this.tileCache.replace(l,i)}return i},u.prototype.setRenderReprojectionEdges=function(e){if(a.a.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}},u.prototype.setTileGridForProjection=function(e,t){if(a.a.ENABLE_RASTER_REPROJECTION){var o=d['default'].get(e);if(o){var n=a.a.getUid(o).toString();n in this.tileGridForProjection||(this.tileGridForProjection[n]=t)}}},u.defaultTileLoadFunction=function(e,t){e.getImage().src=t},t.a=u},function(e,t,o){'use strict';var a=o(0),n=o(119),i=function(e){n.a.call(this),this.highWaterMark=e===void 0?2048:e};a.a.inherits(i,n.a),i.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},i.prototype.expireCache=function(e){for(var t,o;this.canExpireCache()&&(t=this.peekLast(),o=t.tileCoord[0].toString(),!(o in e&&e[o].contains(t.tileCoord)));)this.pop().dispose()},t.a=i},function(e,t,o){'use strict';var a=o(0),n=o(11),i=o(129),r=o(215),l=o(216),s=function(e){r.a.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX}),this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):i.a.nullTileUrlFunction,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction)};a.a.inherits(s,r.a),s.prototype.fixedTileUrlFunction,s.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},s.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},s.prototype.getUrls=function(){return this.urls},s.prototype.handleTileChange=function(e){var t=e.target;switch(t.getState()){case n.a.LOADING:this.dispatchEvent(new r.a.Event(l.a.TILELOADSTART,t));break;case n.a.LOADED:this.dispatchEvent(new r.a.Event(l.a.TILELOADEND,t));break;case n.a.ERROR:this.dispatchEvent(new r.a.Event(l.a.TILELOADERROR,t));break;default:}},s.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},s.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e,'undefined'==typeof t?this.changed():this.setKey(t)},s.prototype.setUrl=function(e){var t=this.urls=i.a.expandUrl(e);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):i.a.createFromTemplates(t,this.tileGrid),e)},s.prototype.setUrls=function(e){this.urls=e;var t=e.join('\n');this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):i.a.createFromTemplates(e,this.tileGrid),t)},s.prototype.useTile=function(e,t,o){var a=this.getKeyZXY(e,t,o);this.tileCache.containsKey(a)&&this.tileCache.get(a)},t.a=s},function(e,t,o){'use strict';var a=o(7),n=o(6),i=o(83),r={};r.createFromTemplate=function(e,t){var o=/\{z\}/g,n=/\{x\}/g,i=/\{y\}/g,r=/\{-y\}/g;return function(l){return l?e.replace(o,l[0].toString()).replace(n,l[1].toString()).replace(i,function(){var e=-l[2]-1;return e.toString()}).replace(r,function(){var e=l[0],o=t.getFullTileRange(e);a.a.assert(o,55);var n=o.getHeight()+l[2];return n.toString()}):void 0}},r.createFromTemplates=function(e,t){for(var o=e.length,a=Array(o),n=0;n<o;++n)a[n]=r.createFromTemplate(e[n],t);return r.createFromTileUrlFunctions(a)},r.createFromTileUrlFunctions=function(e){return 1===e.length?e[0]:function(t,o,a){if(t){var r=i.a.hash(t),l=n.a.modulo(r,e.length);return e[l](t,o,a)}}},r.nullTileUrlFunction=function(){},r.expandUrl=function(e){var t=[],o=/\{([a-z])-([a-z])\}/.exec(e);if(o){var a=o[1].charCodeAt(0),n=o[2].charCodeAt(0),r;for(r=a;r<=n;++r)t.push(e.replace(o[0],String.fromCharCode(r)));return t}if(o=o=/\{(\d+)-(\d+)\}/.exec(e),o){for(var l=parseInt(o[2],10),s=parseInt(o[1],10);s<=l;s++)t.push(e.replace(o[0],s.toString()));return t}return t.push(e),t},t.a=r},function(e,t,o){'use strict';var a=o(0),n=o(71),i=o(15),r=o(10),l=o(24),s=function(e){i.a.call(this),this.projection_=r['default'].get(e.projection),this.attributions_=s.toAttributionsArray_(e.attributions),this.logo_=e.logo,this.state_=e.state===void 0?l.a.READY:e.state,this.wrapX_=e.wrapX!==void 0&&e.wrapX};a.a.inherits(s,i.a),s.toAttributionsArray_=function(e){if('string'==typeof e)return[new n.a({html:e})];if(e instanceof n.a)return[e];if(Array.isArray(e)){for(var t=e.length,o=Array(t),a=0,i;a<t;a++)i=e[a],o[a]='string'==typeof i?new n.a({html:i}):i;return o}return null},s.prototype.forEachFeatureAtCoordinate=a.a.nullFunction,s.prototype.getAttributions=function(){return this.attributions_},s.prototype.getLogo=function(){return this.logo_},s.prototype.getProjection=function(){return this.projection_},s.prototype.getResolutions=function(){},s.prototype.getState=function(){return this.state_},s.prototype.getWrapX=function(){return this.wrapX_},s.prototype.refresh=function(){this.changed()},s.prototype.setAttributions=function(e){this.attributions_=s.toAttributionsArray_(e),this.changed()},s.prototype.setLogo=function(e){this.logo_=e},s.prototype.setState=function(e){this.state_=e,this.changed()},t.a=s},function(e,t,o){'use strict';var a=o(0),n=o(3),i=o(8),r=o(1),l=o(27),s=o(2),d=o(111),p=o(50),g=o(218),c=o(219),u=o(220),_=o(221),y=o(81),h=o(13),m=function(e,t,o,a,n){d.a.call(this),this.tolerance_=e,this.maxExtent_=t,this.overlaps_=a,this.resolution_=o,this.renderBuffer_=n,this.replaysByZIndex_={},this.hitDetectionContext_=i.a.createCanvasContext2D(1,1),this.hitDetectionTransform_=h.a.create()};a.a.inherits(m,d.a),m.circleArrayCache_={0:[[!0]]},m.fillCircleArrayRowToMiddle_=function(e,t,o){var a=Math.floor(e.length/2),n;if(t>=a)for(n=a;n<t;n++)e[n][o]=!0;else if(t<a)for(n=t+1;n<a;n++)e[n][o]=!0},m.getCircleArray_=function(e){if(void 0!==m.circleArrayCache_[e])return m.circleArrayCache_[e];for(var t=2*e+1,o=Array(t),a=0;a<t;a++)o[a]=Array(t);for(var n=e,i=0,r=0;n>=i;)m.fillCircleArrayRowToMiddle_(o,e+n,e+i),m.fillCircleArrayRowToMiddle_(o,e+i,e+n),m.fillCircleArrayRowToMiddle_(o,e-i,e+n),m.fillCircleArrayRowToMiddle_(o,e-n,e+i),m.fillCircleArrayRowToMiddle_(o,e-n,e-i),m.fillCircleArrayRowToMiddle_(o,e-i,e-n),m.fillCircleArrayRowToMiddle_(o,e+i,e-n),m.fillCircleArrayRowToMiddle_(o,e+n,e-i),i++,r+=1+2*i,0<2*(r-n)+1&&(n-=1,r+=1-2*n);return m.circleArrayCache_[e]=o,o},m.prototype.hasReplays=function(e){for(var t in this.replaysByZIndex_)for(var o=this.replaysByZIndex_[t],a=0,n=e.length;a<n;++a)if(e[a]in o)return!0;return!1},m.prototype.finish=function(){for(var e in this.replaysByZIndex_){var t=this.replaysByZIndex_[e],o;for(o in t)t[o].finish()}},m.prototype.forEachFeatureAtCoordinate=function(e,t,o,a,n,i){a=Math.round(a);var l=2*a+1,s=h.a.compose(this.hitDetectionTransform_,a+0.5,a+0.5,1/t,-1/t,-o,-e[0],-e[1]),d=this.hitDetectionContext_;d.canvas.width!==l||d.canvas.height!==l?(d.canvas.width=l,d.canvas.height=l):d.clearRect(0,0,l,l);var p;this.renderBuffer_!==void 0&&(p=r.a.createEmpty(),r.a.extendCoordinate(p,e),r.a.buffer(p,t*(this.renderBuffer_+a),p));var g=m.getCircleArray_(a);return this.replayHitDetection_(d,s,o,n,function(e){for(var t=d.getImageData(0,0,l,l).data,o=0;o<l;o++)for(var a=0;a<l;a++)if(g[o][a]&&0<t[4*(a*l+o)+3]){var n=i(e);return n?n:void d.clearRect(0,0,l,l)}},p)},m.prototype.getClipCoords=function(e){var t=this.maxExtent_,o=t[0],a=t[1],n=t[2],i=t[3],r=[o,a,o,i,n,i,n,a];return l.a.transform2D(r,0,8,2,e,r),r},m.prototype.getReplay=function(e,t){var o=e===void 0?'0':e.toString(),a=this.replaysByZIndex_[o];a===void 0&&(a={},this.replaysByZIndex_[o]=a);var n=a[t];if(n===void 0){var i=m.BATCH_CONSTRUCTORS_[t];n=new i(this.tolerance_,this.maxExtent_,this.resolution_,this.overlaps_),a[t]=n}return n},m.prototype.isEmpty=function(){return s.a.isEmpty(this.replaysByZIndex_)},m.prototype.replay=function(e,t,o,a,r,l){var s=Object.keys(this.replaysByZIndex_).map(Number);s.sort(n.a.numberSafeCompareFunction);var d=this.getClipCoords(o);e.save(),e.beginPath(),e.moveTo(d[0],d[1]),e.lineTo(d[2],d[3]),e.lineTo(d[4],d[5]),e.lineTo(d[6],d[7]),e.clip();var p=l?l:y.a.ORDER,g,i,c,u,_,h;for(g=0,i=s.length;g<i;++g)for(_=this.replaysByZIndex_[s[g].toString()],c=0,u=p.length;c<u;++c)h=_[p[c]],void 0!==h&&h.replay(e,t,o,a,r);e.restore()},m.prototype.replayHitDetection_=function(e,t,o,a,n,r){var l=Object.keys(this.replaysByZIndex_).map(Number);l.sort(function(e,t){return t-e});var s,i,d,p,g,c;for(s=0,i=l.length;s<i;++s)for(p=this.replaysByZIndex_[l[s].toString()],d=y.a.ORDER.length-1;0<=d;--d)if(g=p[y.a.ORDER[d]],void 0!==g&&(c=g.replayHitDetection(e,t,o,a,n,r),c))return c},m.BATCH_CONSTRUCTORS_={Circle:u.a,Default:p.a,Image:g.a,LineString:c.a,Polygon:u.a,Text:_.a},t.a=m},function(e,t){'use strict';var o=function(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.snapToPixel_=e.snapToPixel};o.prototype.getOpacity=function(){return this.opacity_},o.prototype.getRotateWithView=function(){return this.rotateWithView_},o.prototype.getRotation=function(){return this.rotation_},o.prototype.getScale=function(){return this.scale_},o.prototype.getSnapToPixel=function(){return this.snapToPixel_},o.prototype.getAnchor=function(){},o.prototype.getImage=function(){},o.prototype.getHitDetectionImage=function(){},o.prototype.getImageState=function(){},o.prototype.getImageSize=function(){},o.prototype.getHitDetectionImageSize=function(){},o.prototype.getOrigin=function(){},o.prototype.getSize=function(){},o.prototype.setOpacity=function(e){this.opacity_=e},o.prototype.setRotateWithView=function(e){this.rotateWithView_=e},o.prototype.setRotation=function(e){this.rotation_=e},o.prototype.setScale=function(e){this.scale_=e},o.prototype.setSnapToPixel=function(e){this.snapToPixel_=e},o.prototype.listenImageChange=function(){},o.prototype.load=function(){},o.prototype.unlistenImageChange=function(){},t.a=o},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(0),n=o(41),i=o(53),r=o(54),l=o(3),s=o(7),d=o(4),p=o(16),g=o(5),c=o(1),u=o(134),_=o(12),y=o(225),h=o(2),m=o(130),f=o(24),E=o(226),T=o(117),S=function(e){var t=e||{};m.a.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:f.a.READY,wrapX:!(t.wrapX!==void 0)||t.wrapX}),this.loader_=a.a.nullFunction,this.format_=t.format,this.overlaps_=!(t.overlaps!=void 0)||t.overlaps,this.url_=t.url,t.loader===void 0?this.url_!==void 0&&(s.a.assert(this.format_,7),this.loader_=u.a.xhr(this.url_,this.format_)):this.loader_=t.loader,this.strategy_=t.strategy===void 0?y.a.all:t.strategy;var o=!(t.useSpatialIndex!==void 0)||t.useSpatialIndex;this.featuresRtree_=o?new T.a:null,this.loadedExtentsRtree_=new T.a,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;var i,r;t.features instanceof n.a?(i=t.features,r=i.getArray()):Array.isArray(t.features)&&(r=t.features),o||i!==void 0||(i=new n.a(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)};a.a.inherits(S,m.a),S.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},S.prototype.addFeatureInternal=function(e){var t=a.a.getUid(e).toString();if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var o=e.getGeometry();if(o){var n=o.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new S.Event(E.a.ADDFEATURE,e))}},S.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[d.a.listen(t,g.a.CHANGE,this.handleFeatureChange_,this),d.a.listen(t,r.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},S.prototype.addToIndex_=function(e,t){var o=!0,a=t.getId();return void 0===a?(s.a.assert(!(e in this.undefIdIndex_),30),this.undefIdIndex_[e]=t):a.toString()in this.idIndex_?o=!1:this.idIndex_[a.toString()]=t,o},S.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},S.prototype.addFeaturesInternal=function(e){var t=[],o=[],n=[],r,l,i,s;for(l=0,i=e.length;l<i;l++)s=e[l],r=a.a.getUid(s).toString(),this.addToIndex_(r,s)&&o.push(s);for(l=0,i=o.length;l<i;l++){s=o[l],r=a.a.getUid(s).toString(),this.setupChangeEvents_(r,s);var d=s.getGeometry();if(d){var p=d.getExtent();t.push(p),n.push(s)}else this.nullGeometryFeatures_[r]=s}for(this.featuresRtree_&&this.featuresRtree_.load(t,n),l=0,i=o.length;l<i;l++)this.dispatchEvent(new S.Event(E.a.ADDFEATURE,o[l]))},S.prototype.bindFeaturesCollection_=function(e){var t=!1;d.a.listen(this,E.a.ADDFEATURE,function(o){t||(t=!0,e.push(o.feature),t=!1)}),d.a.listen(this,E.a.REMOVEFEATURE,function(o){t||(t=!0,e.remove(o.feature),t=!1)}),d.a.listen(e,i.a.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)},this),d.a.listen(e,i.a.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)},this),this.featuresCollection_=e},S.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){var o=this.featureChangeKeys_[t];o.forEach(d.a.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var a in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var n=new S.Event(E.a.CLEAR);this.dispatchEvent(n),this.changed()},S.prototype.forEachFeature=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEach(e,t);return this.featuresCollection_?this.featuresCollection_.forEach(e,t):void 0},S.prototype.forEachFeatureAtCoordinateDirect=function(e,t,o){var a=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(a,function(a){var n=a.getGeometry();return n.intersectsCoordinate(e)?t.call(o,a):void 0})},S.prototype.forEachFeatureInExtent=function(e,t,o){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t,o);return this.featuresCollection_?this.featuresCollection_.forEach(t,o):void 0},S.prototype.forEachFeatureIntersectingExtent=function(e,t,o){return this.forEachFeatureInExtent(e,function(a){var n=a.getGeometry();if(n.intersectsExtent(e)){var i=t.call(o,a);if(i)return i}})},S.prototype.getFeaturesCollection=function(){return this.featuresCollection_},S.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),!h.a.isEmpty(this.nullGeometryFeatures_)&&l.a.extend(e,h.a.getValues(this.nullGeometryFeatures_))),e},S.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t},S.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_.getInExtent(e)},S.prototype.getClosestFeatureToCoordinate=function(e,t){var o=e[0],a=e[1],n=null,i=[NaN,NaN],r=Infinity,l=[-Infinity,-Infinity,Infinity,Infinity],s=t?t:_.a.TRUE;return this.featuresRtree_.forEachInExtent(l,function(e){if(s(e)){var t=e.getGeometry(),d=r;if(r=t.closestPointXY(o,a,i,r),r<d){n=e;var p=Math.sqrt(r);l[0]=o-p,l[1]=a-p,l[2]=o+p,l[3]=a+p}}}),n},S.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},S.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return t===void 0?null:t},S.prototype.getFormat=function(){return this.format_},S.prototype.getOverlaps=function(){return this.overlaps_},S.prototype.getResolutions=function(){},S.prototype.getUrl=function(){return this.url_},S.prototype.handleFeatureChange_=function(e){var t=e.target,o=a.a.getUid(t).toString(),n=t.getGeometry();if(!n)o in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[o]=t);else{var i=n.getExtent();o in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[o],this.featuresRtree_&&this.featuresRtree_.insert(i,t)):this.featuresRtree_&&this.featuresRtree_.update(i,t)}var r=t.getId();if(r!==void 0){var l=r.toString();o in this.undefIdIndex_?(delete this.undefIdIndex_[o],this.idIndex_[l]=t):this.idIndex_[l]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[l]=t)}else o in this.undefIdIndex_||(this.removeFromIdIndex_(t),this.undefIdIndex_[o]=t);this.changed(),this.dispatchEvent(new S.Event(E.a.CHANGEFEATURE,t))},S.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&h.a.isEmpty(this.nullGeometryFeatures_)},S.prototype.loadFeatures=function(e,t,o){var a=this.loadedExtentsRtree_,n=this.strategy_(e,t),r,i;for(r=0,i=n.length;r<i;++r){var l=n[r],s=a.forEachInExtent(l,function(e){return c.a.containsExtent(e.extent,l)});s||(this.loader_.call(this,l,t,o),a.insert(l,{extent:l.slice()}))}},S.prototype.removeFeature=function(e){var t=a.a.getUid(e).toString();t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},S.prototype.removeFeatureInternal=function(e){var t=a.a.getUid(e).toString();this.featureChangeKeys_[t].forEach(d.a.unlistenByKey),delete this.featureChangeKeys_[t];var o=e.getId();o===void 0?delete this.undefIdIndex_[t]:delete this.idIndex_[o.toString()],this.dispatchEvent(new S.Event(E.a.REMOVEFEATURE,e))},S.prototype.removeFromIdIndex_=function(e){var t=!1;for(var o in this.idIndex_)if(this.idIndex_[o]===e){delete this.idIndex_[o],t=!0;break}return t},S.Event=function(e,t){p.a.call(this,e),this.feature=t},a.a.inherits(S.Event,p.a),t['default']=S},function(e,t,o){'use strict';var a=o(0),n=o(88),i=o(224),r={};r.loadFeaturesXhr=function(e,t,o,a){return function(r,l,s){var d=new XMLHttpRequest;d.open('GET','function'==typeof e?e(r,l,s):e,!0),t.getType()==n.a.ARRAY_BUFFER&&(d.responseType='arraybuffer'),d.onload=function(){if(!d.status||200<=d.status&&300>d.status){var e=t.getType(),r;e==n.a.JSON||e==n.a.TEXT?r=d.responseText:e==n.a.XML?(r=d.responseXML,!r&&(r=i.a.parse(d.responseText))):e==n.a.ARRAY_BUFFER&&(r=d.response),r?o.call(this,t.readFeatures(r,{featureProjection:s}),t.readProjection(r),t.getLastExtent()):a.call(this)}else a.call(this)}.bind(this),d.onerror=function(){a.call(this)}.bind(this),d.send()}},r.xhr=function(e,t){return r.loadFeaturesXhr(e,t,function(e){this.addFeatures(e)},a.a.nullFunction)},t.a=r},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(0),n=o(7),i=o(227),r=o(89),l=o(228),s=o(229),d=o(90),p=o(137),g=o(91),c=o(231),u=o(61),_=o(44),y=o(2),h=o(10),m=function(e){var t=e?e:{};l.a.call(this),this.defaultDataProjection=h['default'].get(t.defaultDataProjection?t.defaultDataProjection:'EPSG:4326'),t.featureProjection&&(this.defaultFeatureProjection=h['default'].get(t.featureProjection)),this.geometryName_=t.geometryName};a.a.inherits(m,l.a),m.readGeometry_=function(e,t){if(!e)return null;var o=m.GEOMETRY_READERS_[e.type];return r.a.transformWithOptions(o(e),!1,t)},m.readGeometryCollectionGeometry_=function(e,t){var o=e.geometries.map(function(e){return m.readGeometry_(e,t)});return new s.a(o)},m.readPointGeometry_=function(e){return new u.a(e.coordinates)},m.readLineStringGeometry_=function(e){return new d.a(e.coordinates)},m.readMultiLineStringGeometry_=function(e){return new p.a(e.coordinates)},m.readMultiPointGeometry_=function(e){return new g.a(e.coordinates)},m.readMultiPolygonGeometry_=function(e){return new c.a(e.coordinates)},m.readPolygonGeometry_=function(e){return new _.a(e.coordinates)},m.writeGeometry_=function(e,t){var o=m.GEOMETRY_WRITERS_[e.getType()];return o(r.a.transformWithOptions(e,!0,t),t)},m.writeEmptyGeometryCollectionGeometry_=function(){return{type:'GeometryCollection',geometries:[]}},m.writeGeometryCollectionGeometry_=function(e,t){var o=e.getGeometriesArray().map(function(e){var o=y.a.assign({},t);return delete o.featureProjection,m.writeGeometry_(e,o)});return{type:'GeometryCollection',geometries:o}},m.writeLineStringGeometry_=function(e){return{type:'LineString',coordinates:e.getCoordinates()}},m.writeMultiLineStringGeometry_=function(e){return{type:'MultiLineString',coordinates:e.getCoordinates()}},m.writeMultiPointGeometry_=function(e){return{type:'MultiPoint',coordinates:e.getCoordinates()}},m.writeMultiPolygonGeometry_=function(e,t){var o;return t&&(o=t.rightHanded),{type:'MultiPolygon',coordinates:e.getCoordinates(o)}},m.writePointGeometry_=function(e){return{type:'Point',coordinates:e.getCoordinates()}},m.writePolygonGeometry_=function(e,t){var o;return t&&(o=t.rightHanded),{type:'Polygon',coordinates:e.getCoordinates(o)}},m.GEOMETRY_READERS_={Point:m.readPointGeometry_,LineString:m.readLineStringGeometry_,Polygon:m.readPolygonGeometry_,MultiPoint:m.readMultiPointGeometry_,MultiLineString:m.readMultiLineStringGeometry_,MultiPolygon:m.readMultiPolygonGeometry_,GeometryCollection:m.readGeometryCollectionGeometry_},m.GEOMETRY_WRITERS_={Point:m.writePointGeometry_,LineString:m.writeLineStringGeometry_,Polygon:m.writePolygonGeometry_,MultiPoint:m.writeMultiPointGeometry_,MultiLineString:m.writeMultiLineStringGeometry_,MultiPolygon:m.writeMultiPolygonGeometry_,GeometryCollection:m.writeGeometryCollectionGeometry_,Circle:m.writeEmptyGeometryCollectionGeometry_},m.prototype.readFeature,m.prototype.readFeatures,m.prototype.readFeatureFromObject=function(e,t){var o=null;o='Feature'===e.type?e:{type:'Feature',geometry:e};var a=m.readGeometry_(o.geometry,t),n=new i.a;return this.geometryName_&&n.setGeometryName(this.geometryName_),n.setGeometry(a),void 0!==o.id&&n.setId(o.id),o.properties&&n.setProperties(o.properties),n},m.prototype.readFeaturesFromObject=function(e,t){var o=null;if('FeatureCollection'===e.type){o=[];var a=e.features,n,i;for(n=0,i=a.length;n<i;++n)o.push(this.readFeatureFromObject(a[n],t))}else o=[this.readFeatureFromObject(e,t)];return o},m.prototype.readGeometry,m.prototype.readGeometryFromObject=function(e,t){return m.readGeometry_(e,t)},m.prototype.readProjection,m.prototype.readProjectionFromObject=function(e){var t=e.crs,o;return t?'name'==t.type?o=h['default'].get(t.properties.name):'EPSG'==t.type?o=h['default'].get('EPSG:'+t.properties.code):n.a.assert(!1,36):o=this.defaultDataProjection,o},m.prototype.writeFeature,m.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var o={type:'Feature'},a=e.getId();void 0!==a&&(o.id=a);var n=e.getGeometry();o.geometry=n?m.writeGeometry_(n,t):null;var i=e.getProperties();return delete i[e.getGeometryName()],o.properties=y.a.isEmpty(i)?null:i,o},m.prototype.writeFeatures,m.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);var o=[],a,n;for(a=0,n=e.length;a<n;++a)o.push(this.writeFeatureObject(e[a],t));return{type:'FeatureCollection',features:o}},m.prototype.writeGeometry,m.prototype.writeGeometryObject=function(e,t){return m.writeGeometry_(e,this.adaptOptions(t))},t['default']=m},function(e,t,o){'use strict';var a=o(3),n=o(6),r={};r.lineString=function(e,r,l,s,d,p){var g=NaN,c=NaN,u=(l-r)/s;if(1==u)g=e[r],c=e[r+1];else if(2==u)g=(1-d)*e[r]+d*e[r+s],c=(1-d)*e[r+1]+d*e[r+s+1];else if(0!=u){var _=e[r],y=e[r+1],h=0,m=[0],f;for(f=r+s;f<l;f+=s){var i=e[f],E=e[f+1];h+=Math.sqrt((i-_)*(i-_)+(E-y)*(E-y)),m.push(h),_=i,y=E}var T=d*h,S=a.a.binarySearch(m,T);if(0>S){var x=(T-m[-S-2])/(m[-S-1]-m[-S-2]),t=r+(-S-2)*s;g=n.a.lerp(e[t],e[t+s],x),c=n.a.lerp(e[t+1],e[t+s+1],x)}else g=e[r+S*s],c=e[r+S*s+1]}return p?(p[0]=g,p[1]=c,p):[g,c]},r.lineStringCoordinateAtM=function(e,t,o,a,r,l){if(o==t)return null;var s;if(r<e[t+a-1])return l?(s=e.slice(t,t+a),s[a-1]=r,s):null;if(e[o-1]<r)return l?(s=e.slice(o-a,o),s[a-1]=r,s):null;if(r==e[t+a-1])return e.slice(t,t+a);for(var d=t/a,p=o/a,g;d<p;)g=d+p>>1,r<e[(g+1)*a-1]?p=g:d=g+1;var c=e[d*a-1];if(r==c)return e.slice((d-1)*a,(d-1)*a+a);var u=e[(d+1)*a-1];s=[];var _;for(_=0;_<a-1;++_)s.push(n.a.lerp(e[(d-1)*a+_],e[d*a+_],(r-c)/(u-c)));return s.push(r),s},r.lineStringsCoordinateAtM=function(e,t,o,a,n,l,s){if(s)return r.lineStringCoordinateAtM(e,t,o[o.length-1],a,n,l);var d;if(n<e[a-1])return l?(d=e.slice(0,a),d[a-1]=n,d):null;if(e[e.length-1]<n)return l?(d=e.slice(e.length-a),d[a-1]=n,d):null;var p,i;for(p=0,i=o.length;p<i;++p){var g=o[p];if(t!=g){if(n<e[t+a-1])return null;if(n<=e[g-1])return r.lineStringCoordinateAtM(e,t,g,a,n,!1);t=g}}return null},t.a=r},function(e,t,o){'use strict';var a=o(0),n=o(3),i=o(1),r=o(19),l=o(9),s=o(90),d=o(20),p=o(45),g=o(28),c=o(29),u=o(136),_=o(62),y=o(33),h=function(e,t){d.a.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,t)};a.a.inherits(h,d.a),h.prototype.appendLineString=function(e){this.flatCoordinates?n.a.extend(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},h.prototype.clone=function(){var e=new h(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),e},h.prototype.closestPointXY=function(e,t,o,a){return a<i.a.closestSquaredDistanceXY(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(p.a.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),p.a.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,o,a))},h.prototype.getCoordinateAtM=function(e,t,o){if(this.layout!=r.a.XYM&&this.layout!=r.a.XYZM||0===this.flatCoordinates.length)return null;return u.a.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,e,t!==void 0&&t,o!==void 0&&o)},h.prototype.getCoordinates=function(){return c.a.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)},h.prototype.getEnds=function(){return this.ends_},h.prototype.getLineString=function(e){if(0>e||this.ends_.length<=e)return null;var t=new s.a(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e])),t},h.prototype.getLineStrings=function(){var e=this.flatCoordinates,t=this.ends_,o=this.layout,a=[],n=0,r,i;for(r=0,i=t.length;r<i;++r){var l=t[r],d=new s.a(null);d.setFlatCoordinates(o,e.slice(n,l)),a.push(d),n=l}return a},h.prototype.getFlatMidpoints=function(){var e=[],t=this.flatCoordinates,o=0,a=this.ends_,r=this.stride,l,i;for(l=0,i=a.length;l<i;++l){var s=a[l],d=u.a.lineString(t,o,s,r,0.5);n.a.extend(e,d),o=s}return e},h.prototype.getSimplifiedGeometryInternal=function(e){var t=[],o=[];t.length=y.a.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,o);var a=new h(null);return a.setFlatCoordinates(r.a.XY,t,o),a},h.prototype.getType=function(){return l.a.MULTI_LINE_STRING},h.prototype.intersectsExtent=function(e){return _.a.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,e)},h.prototype.setCoordinates=function(e,t){if(!e)this.setFlatCoordinates(r.a.XY,null,this.ends_);else{this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=g.a.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===o.length?0:o[o.length-1],this.changed()}},h.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t),this.ends_=o,this.changed()},h.prototype.setLineStrings=function(e){var t=this.getLayout(),o=[],a=[],r,i;for(r=0,i=e.length;r<i;++r){var l=e[r];0===r&&(t=l.getLayout()),n.a.extend(o,l.getFlatCoordinates()),a.push(o.length)}this.setFlatCoordinates(t,o,a)},t.a=h},function(e,t,o){(function(e,a){function n(e,o){var a={seen:[],stylize:r};return 3<=arguments.length&&(a.depth=arguments[2]),4<=arguments.length&&(a.colors=arguments[3]),y(o)?a.showHidden=o:o&&t._extend(a,o),f(a.showHidden)&&(a.showHidden=!1),f(a.depth)&&(a.depth=2),f(a.colors)&&(a.colors=!1),f(a.customInspect)&&(a.customInspect=!0),a.colors&&(a.stylize=i),s(a,e,a.depth)}function i(e,t){var o=n.styles[t];return o?'\x1B['+n.colors[o][0]+'m'+e+'\x1B['+n.colors[o][1]+'m':e}function r(e){return e}function l(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function s(e,o,a){if(e.customInspect&&o&&R(o.inspect)&&o.inspect!==t.inspect&&!(o.constructor&&o.constructor.prototype===o)){var i=o.inspect(a,e);return E(i)||(i=s(e,i,a)),i}var r=d(e,o);if(r)return r;var y=Object.keys(o),h=l(y);if(e.showHidden&&(y=Object.getOwnPropertyNames(o)),C(o)&&(0<=y.indexOf('message')||0<=y.indexOf('description')))return p(o);if(0===y.length){if(R(o)){var m=o.name?': '+o.name:'';return e.stylize('[Function'+m+']','special')}if(T(o))return e.stylize(RegExp.prototype.toString.call(o),'regexp');if(x(o))return e.stylize(Date.prototype.toString.call(o),'date');if(C(o))return p(o)}var f='',S=!1,I=['{','}'];if(_(o)&&(S=!0,I=['[',']']),R(o)){var L=o.name?': '+o.name:'';f=' [Function'+L+']'}if(T(o)&&(f=' '+RegExp.prototype.toString.call(o)),x(o)&&(f=' '+Date.prototype.toUTCString.call(o)),C(o)&&(f=' '+p(o)),0===y.length&&(!S||0==o.length))return I[0]+f+I[1];if(0>a)return T(o)?e.stylize(RegExp.prototype.toString.call(o),'regexp'):e.stylize('[Object]','special');e.seen.push(o);var n;return n=S?g(e,o,a,h,y):y.map(function(t){return c(e,o,a,h,t,S)}),e.seen.pop(),u(n,f,I)}function d(e,t){if(f(t))return e.stylize('undefined','undefined');if(E(t)){var o='\''+JSON.stringify(t).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return e.stylize(o,'string')}return m(t)?e.stylize(''+t,'number'):y(t)?e.stylize(''+t,'boolean'):h(t)?e.stylize('null','null'):void 0}function p(e){return'['+Error.prototype.toString.call(e)+']'}function g(e,t,o,a,n){for(var r=[],s=0,i=t.length;s<i;++s)O(t,s+'')?r.push(c(e,t,o,a,s+'',!0)):r.push('');return n.forEach(function(n){n.match(/^\d+$/)||r.push(c(e,t,o,a,n,!0))}),r}function c(e,t,o,a,n,i){var r,l,d;if(d=Object.getOwnPropertyDescriptor(t,n)||{value:t[n]},d.get?d.set?l=e.stylize('[Getter/Setter]','special'):l=e.stylize('[Getter]','special'):d.set&&(l=e.stylize('[Setter]','special')),O(a,n)||(r='['+n+']'),l||(0>e.seen.indexOf(d.value)?(l=h(o)?s(e,d.value,null):s(e,d.value,o-1),-1<l.indexOf('\n')&&(i?l=l.split('\n').map(function(e){return'  '+e}).join('\n').substr(2):l='\n'+l.split('\n').map(function(e){return'   '+e}).join('\n'))):l=e.stylize('[Circular]','special')),f(r)){if(i&&n.match(/^\d+$/))return l;r=JSON.stringify(''+n),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=e.stylize(r,'name')):(r=r.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),r=e.stylize(r,'string'))}return r+': '+l}function u(e,t,o){var a=0,n=e.reduce(function(e,t){return a++,0<=t.indexOf('\n')&&a++,e+t.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<n?o[0]+(''===t?'':t+'\n ')+' '+e.join(',\n  ')+' '+o[1]:o[0]+t+' '+e.join(', ')+' '+o[1]}function _(e){return Array.isArray(e)}function y(e){return'boolean'==typeof e}function h(e){return null===e}function m(e){return'number'==typeof e}function E(e){return'string'==typeof e}function f(e){return void 0===e}function T(e){return S(e)&&'[object RegExp]'===I(e)}function S(e){return'object'==typeof e&&null!==e}function x(e){return S(e)&&'[object Date]'===I(e)}function C(t){return S(t)&&('[object Error]'===I(t)||t instanceof Error)}function R(e){return'function'==typeof e}function I(e){return Object.prototype.toString.call(e)}function L(e){return 10>e?'0'+e.toString(10):e.toString(10)}function v(){var e=new Date,t=[L(e.getHours()),L(e.getMinutes()),L(e.getSeconds())].join(':');return[e.getDate(),F[e.getMonth()],t].join(' ')}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P=/%[sdj%]/g;t.format=function(e){if(!E(e)){for(var t=[],o=0;o<arguments.length;o++)t.push(n(arguments[o]));return t.join(' ')}for(var o=1,a=arguments,i=a.length,r=(e+'').replace(P,function(e){if('%%'===e)return'%';if(o>=i)return e;switch(e){case'%s':return a[o++]+'';case'%d':return+a[o++];case'%j':try{return JSON.stringify(a[o++])}catch(e){return'[Circular]'}default:return e;}}),l=a[o];o<i;l=a[++o])r+=h(l)||!S(l)?' '+l:' '+n(l);return r},t.deprecate=function(o,n){if(f(e.process))return function(){return t.deprecate(o,n).apply(this,arguments)};if(!0===a.noDeprecation)return o;var i=!1;return function(){if(!i){if(a.throwDeprecation)throw new Error(n);else a.traceDeprecation?console.trace(n):console.error(n);i=!0}return o.apply(this,arguments)}};var A={},b;t.debuglog=function(e){if(f(b)&&(b=a.env.NODE_DEBUG||''),e=e.toUpperCase(),!A[e])if(new RegExp('\\b'+e+'\\b','i').test(b)){var o=a.pid;A[e]=function(){var a=t.format.apply(t,arguments);console.error('%s %d: %s',e,o,a)}}else A[e]=function(){};return A[e]},t.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey',null:'bold',string:'green',date:'magenta',regexp:'red'},t.isArray=_,t.isBoolean=y,t.isNull=h,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=E,t.isSymbol=function(e){return'symbol'==typeof e},t.isUndefined=f,t.isRegExp=T,t.isObject=S,t.isDate=x,t.isError=C,t.isFunction=R,t.isPrimitive=function(e){return null===e||'boolean'==typeof e||'number'==typeof e||'string'==typeof e||'symbol'==typeof e||'undefined'==typeof e},t.isBuffer=o(242);var F=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];t.log=function(){console.log('%s - %s',v(),t.format.apply(t,arguments))},t.inherits=o(243),t._extend=function(e,t){if(!t||!S(t))return e;for(var o=Object.keys(t),a=o.length;a--;)e[o[a]]=t[o[a]];return e}}).call(t,o(240),o(241))},function(e,t,o){var a=o(138),n=encodeURIComponent,i={string:function(e){if('string'!=typeof e)throw new Error('Expected string to serialize: '+e);return n(e)},number:function(e){if('number'!=typeof e)throw new Error('Expected number to serialize: '+e);return n(e+'')},boolean:function(e){if('boolean'!=typeof e)throw new Error('Expected boolean to serialize: '+e);return e?'1':'0'},date:function(e){if(!a.isDate(e))throw new Error('Expected date to serialize: '+e);return n(e.toISOString())},array:function(e){if(!a.isArray(e))throw new Error('Expected array to serialize: '+e);return n(JSON.stringify(e))},object:function(e){return n(JSON.stringify(e))}};t.get=function(e){if(!(e in i))throw new Error('Unable to serialize type: '+e);return i[e]}},function(e,t,o){'use strict';function a(e){return e}function n(e,t){const o='color'===t.type;let p;if(!_(e))o&&e&&(e=f(e)),p=function(){return e},p.isFeatureConstant=!0,p.isZoomConstant=!0;else{const g=e.stops&&'object'==typeof e.stops[0][0],c=g||e.property!==void 0,u=e.type||('interpolated'===t.function?'exponential':'interval');o&&(e=E({},e),e.stops&&(e.stops=e.stops.map((e)=>{return[e[0],f(e[1])]})),e.default=e.default?f(e.default):f(t.default));let _,y,h;if('exponential'===u)_=s;else if('interval'===u)_=l;else if('categorical'===u){_=r,y=Object.create(null);for(const t of e.stops)y[t[0]]=t[1];h=typeof e.stops[0][0]}else if('identity'===u)_=d;else throw new Error(`Unknown function type "${u}"`);let T;if(!(e.colorSpace&&'rgb'!==e.colorSpace))T=a;else if(m[e.colorSpace]){const t=m[e.colorSpace];e=JSON.parse(JSON.stringify(e));for(let o=0;o<e.stops.length;o++)e.stops[o]=[e.stops[o][0],t.forward(e.stops[o][1])];T=t.reverse}else throw new Error(`Unknown color space: ${e.colorSpace}`);if(g){const o={},a=[];for(let t=0;t<e.stops.length;t++){const n=e.stops[t],i=n[0].zoom;void 0===o[i]&&(o[i]={zoom:i,type:e.type,property:e.property,stops:[]},a.push(i)),o[i].stops.push([n[0].value,n[1]])}const i=[];for(const e of a)i.push([o[e].zoom,n(o[e],t)]);p=function(o,a){return T(s({stops:i,base:e.base},t,o)(o,a))},p.isFeatureConstant=!1,p.isZoomConstant=!1}else g||!c?(p=function(o){return T(_(e,t,o,y,h))},p.isFeatureConstant=!0,p.isZoomConstant=!1):(p=function(o,a){const n=a[e.property];return void 0===n?i(e.default,t.default):T(_(e,t,n,y,h))},p.isFeatureConstant=!1,p.isZoomConstant=!0)}return p}function i(e,t,o){return void 0===e?void 0===t?void 0===o?void 0:o:t:e}function r(e,t,o,a,n){const r=typeof o===n?a[o]:void 0;return i(r,e.default,t.default)}function l(e,t,o){if('number'!==T(o))return i(e.default,t.default);const a=e.stops.length;if(1===a)return e.stops[0][1];if(o<=e.stops[0][0])return e.stops[0][1];if(o>=e.stops[a-1][0])return e.stops[a-1][1];const n=p(e.stops,o);return e.stops[n][1]}function s(e,t,o){const a=e.base===void 0?1:e.base;if('number'!==T(o))return i(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(o<=e.stops[0][0])return e.stops[0][1];if(o>=e.stops[r-1][0])return e.stops[r-1][1];const n=p(e.stops,o);return g(o,a,e.stops[n][0],e.stops[n+1][0],e.stops[n][1],e.stops[n+1][1])}function d(e,t,o){return'color'===t.type?o=f(o):T(o)!==t.type&&(o=void 0),i(o,e.default,t.default)}function p(e,t){const o=e.length;let a=0,n=o-1,i=0,r,l;for(;a<=n;){if(i=Math.floor((a+n)/2),r=e[i][0],l=e[i+1][0],t===r||t>r&&t<l)return i;r<t?a=i+1:r>t&&(n=i-1)}return Math.max(i-1,0)}function g(e,t,o,a,n,i){return'function'==typeof n?function(){const r=n.apply(void 0,arguments),l=i.apply(void 0,arguments);return void 0===r||void 0===l?void 0:g(e,t,o,a,r,l)}:n.length?u(e,t,o,a,n,i):c(e,t,o,a,n,i)}function c(e,t,o,a,n,i){const r=y(e,t,o,a);return n+r*(i-n)}function u(e,t,o,a,n,r){const l=[];for(let s=0;s<n.length;s++)l[s]=c(e,t,o,a,n[s],r[s]);return l}function _(e){return'object'==typeof e&&(e.stops||'identity'===e.type)}function y(e,t,o,a){const n=a-o,i=e-o;return 1===t?i/n:(h(t,i)-1)/(h(t,n)-1)}var h=Math.pow;const m=o(247),f=o(248),E=o(250),T=o(251);e.exports=n,e.exports.isFunctionDefinition=_,e.exports.interpolationFactor=y,e.exports.findStopLessThanOrEqualTo=p},function(e){var t={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},o=' ',a={};e.exports=function(e,n){var i=a[e];if(!i){var r=e.split(' '),l=r[r.length-1].toLowerCase(),s='normal',d='normal';for(var p in('normal'==l||'italic'==l||'oblique'==l)&&(d=l,r.pop(),l=r[r.length-1].toLowerCase()),t)if(l==p||l==p.replace('-','')||l==p.replace('-',' ')){s=t[p],r.pop();break}'number'==typeof l&&(s=l);var g=r.join(' ');i=a[e]=[d,s,g]}return i[0]+o+i[1]+o+n+'px'+o+i[2]}},function(e,t,o){'use strict';function a(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(n,this,t),this.length=this._features.length}function n(e,t,o){15===e?t.version=o.readVarint():1===e?t.name=o.readString():5===e?t.extent=o.readVarint():2===e?t._features.push(o.pos):3===e?t._keys.push(o.readString()):4===e&&t._values.push(i(o))}function i(e){for(var t=null,o=e.readVarint()+e.pos;e.pos<o;){var a=e.readVarint()>>3;t=1==a?e.readString():2==a?e.readFloat():3==a?e.readDouble():4==a?e.readVarint64():5==a?e.readVarint():6==a?e.readSVarint():7==a?e.readBoolean():null}return t}var r=o(143);e.exports=a,a.prototype.feature=function(e){if(0>e||e>=this._features.length)throw new Error('feature index out of bounds');this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,t,this.extent,this._keys,this._values)}},function(e,t,o){'use strict';function a(e,t,o,a,i){this.properties={},this.extent=o,this.type=0,this._pbf=e,this._geometry=-1,this._keys=a,this._values=i,e.readFields(n,this,t)}function n(e,t,o){1==e?t.id=o.readVarint():2==e?i(o,t):3==e?t.type=o.readVarint():4==e&&(t._geometry=o.pos)}function i(e,t){for(var o=e.readVarint()+e.pos;e.pos<o;){var a=t._keys[e.readVarint()],n=t._values[e.readVarint()];t.properties[a]=n}}function r(e){var t=e.length;if(1>=t)return[e];for(var o=[],a=0,n,i,r;a<t;a++)r=l(e[a]),0===r||(void 0==i&&(i=0>r),i===0>r?(n&&o.push(n),n=[e[a]]):n.push(e[a]));return n&&o.push(n),o}function l(e){for(var t=0,o=0,a=e.length,n=a-1,i,r;o<a;n=o++)i=e[o],r=e[n],t+=(r.x-i.x)*(i.y+r.y);return t}var s=Math.PI,d=o(261);e.exports=a,a.types=['Unknown','Point','LineString','Polygon'],a.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,o=1,a=0,n=0,i=0,r=[],l;e.pos<t;){if(!a){var s=e.readVarint();o=7&s,a=s>>3}if(a--,1==o||2==o)n+=e.readSVarint(),i+=e.readSVarint(),1==o&&(l&&r.push(l),l=[]),l.push(new d(n,i));else if(7==o)l&&l.push(l[0].clone());else throw new Error('unknown command '+o)}return l&&r.push(l),r},a.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,o=1,a=0,n=0,i=0,r=Infinity,l=-Infinity,s=Infinity,d=-Infinity;e.pos<t;){if(!a){var p=e.readVarint();o=7&p,a=p>>3}if(a--,1==o||2==o)n+=e.readSVarint(),i+=e.readSVarint(),n<r&&(r=n),n>l&&(l=n),i<s&&(s=i),i>d&&(d=i);else if(7!=o)throw new Error('unknown command '+o)}return[r,s,l,d]},a.prototype.toGeoJSON=function(e,t,o){function n(e){for(var t=0;t<e.length;t++){var o=e[t],a=180-360*(o.y+g)/l;e[t]=[360*(o.x+d)/l-180,360/s*Math.atan(Math.exp(a*s/180))-90]}}var l=this.extent*Math.pow(2,o),d=this.extent*e,g=this.extent*t,p=this.loadGeometry(),c=a.types[this.type],u,i;switch(this.type){case 1:var _=[];for(u=0;u<p.length;u++)_[u]=p[u][0];p=_,n(p);break;case 2:for(u=0;u<p.length;u++)n(p[u]);break;case 3:for(p=r(p),u=0;u<p.length;u++)for(i=0;i<p[u].length;i++)n(p[u][i]);}1===p.length?p=p[0]:c='Multi'+c;var y={type:'Feature',geometry:{type:c,coordinates:p},properties:this.properties};return'id'in this&&(y.id=this.id),y}},function(e,t){'use strict';t.a={IMAGE:'image',HYBRID:'hybrid',VECTOR:'vector'}},function(e,t,o){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(){Y.getView().fit(W.getExtent(),{maxZoom:19,duration:250})}function i(e){var t=e.getProperties();return(t.city||t.name||'')+' '+(t.street||'')+' '+(t.housenumber||'')}function r(){var e=V.getSource().getFeatures(),t=Z.getSource().getFeatures();if(0<e.length&&0<t.length)for(var o=0,a=e.length,n;o<a;++o){n=e[o];for(var i=0,r=t.length;i<r;++i){var l=t[i],s=l.get('FEEDBACKS')||0,d=n.getGeometry();d&&l.getGeometry().intersectsCoordinate(d.getCoordinates())&&++s,l.set('FEEDBACKS',s)}}}o(146),o(147);var l=o(148),s=a(l),d=o(92),p=a(d),g=o(99),c=a(g),u=o(120),_=a(u),y=o(208),h=a(y),m=o(84),f=a(m),E=o(133),T=a(E),S=o(135),x=a(S),C=o(74),R=a(C),I=o(86),L=a(I),v=o(87),O=a(v),P=o(69),A=a(P),b=o(233),F=a(b),D=o(10),w=a(D),N=o(235),k=a(N),G=o(246),M=o(270),U=a(M),z=o(72),X=a(z),Y=new p.default({target:'map',view:new c.default({center:w.default.fromLonLat([16.37,48.2]),zoom:11,minZoom:11})});Y.addLayer(new _.default({source:new h.default({layer:'terrain'})}));var j=new f.default({zIndex:9999}),K;Y.addLayer(j);var B,W;new s.default({selector:'input[name="q"]',source:function(e,t){B&&W.un('change',B),j.setSource(null),W=new T.default({format:new x.default,url:'https://photon.komoot.de/api/?q='+e}),B=function(){var e=W.getFeatures().map(function(e){return i(e)});t(e),n()},W.once('change',B),j.setSource(W)},onSelect:function(t,e,o){K=o.getAttribute('data-val'),W.getFeatures().forEach(function(e){i(e)!==K&&W.removeFeature(e)}),n()}}),j.setStyle(new R.default({image:new U.default({scale:0.5,src:'data/marker.png',opacity:1})}));var V=new f.default({zIndex:9998,source:new T.default({url:'https://student.ifip.tuwien.ac.at/geoweb/2017/g05/Lieblingsort/postgis_geojson.php',format:new x.default})});Y.addLayer(V),document.getElementById('punkt_poi').onclick=function(){1==this.checked?Y.addLayer(V):Y.removeLayer(V)},V.setStyle(new R.default({image:new U.default({scale:0.02,src:'data/poi.png',opacity:1,zIndex:1})})),(0,k.default)(Y);var H=new F.default({element:document.getElementById('popup-container'),positioning:'bottom-center',offset:[0,-10],autoPan:!0});Y.addOverlay(H),H.getElement().addEventListener('click',function(){H.setPosition()}),Y.on('singleclick',function(t){var e='';if(Y.forEachFeatureAtPixel(t.pixel,function(t){var o=t.getProperties();for(var a in e+=(e&&'<hr>')+'<table>',o)'geometry'!=a&&(e+='<tr><th>'+a+'</th><td>'+o[a]+'</td></tr>');e+='</table>'},{layerFilter:function(e){return e===V}}),e)document.getElementById('popup-content').innerHTML=e,H.setPosition(t.coordinate);else{H.setPosition();var o=w.default.toLonLat(t.coordinate);window.location.href='https://student.ifip.tuwien.ac.at/geoweb/2017/g05/Lieblingsort/feedback.php?pos='+o.join(' ')}});var Z=new f.default({source:new T.default({url:'https://data.wien.gv.at/daten/geo?service=WFS&request=GetFeature&version=1.1.0&typeName=ogdwien:BEZIRKSGRENZEOGD&srsName=EPSG:4326&outputFormat=json',format:new x.default})});document.getElementById('poly_bezirke').onclick=function(){1==this.checked?Y.addLayer(Z):Y.removeLayer(Z)},Z.getSource().once('change',r),V.getSource().once('change',r),Z.setStyle(function(e){var t=e.get('FEEDBACKS'),o;return o=1>=t?'rgba(247, 252, 185, 0.7':5>t?'rgba(173, 221, 142, 0.7)':'rgba(49, 163, 84, 0.7)',new R.default({fill:new O.default({color:o}),stroke:new A.default({color:'rgba(4, 4, 4, 1)',width:1})})});var q=new f.default({source:new T.default({url:'data/MUSEUMOGD.json',format:new x.default})});document.getElementById('punkt_museum').onclick=function(){1==this.checked?Y.addLayer(q):Y.removeLayer(q)},q.setStyle(new R.default({image:new U.default({scale:0.015,src:'data/museum.png',opacity:1})}));var J=new f.default({source:new T.default({url:'data/BURGSCHLOSSOGD.json',format:new x.default})});document.getElementById('punkt_burg').onclick=function(){1==this.checked?Y.addLayer(J):Y.removeLayer(J)},J.setStyle(new R.default({image:new U.default({scale:0.015,src:'data/burg.png',opacity:1})}));var Q=new f.default({source:new T.default({url:'data/SEHENSWUERDIGOGD.json',format:new x.default})});document.getElementById('punkt_sehen').onclick=function(){1==this.checked?Y.addLayer(Q):Y.removeLayer(Q)},Q.setStyle(new R.default({image:new U.default({scale:0.015,src:'data/sehen.png',opacity:1})}));var $=new f.default({source:new T.default({url:'data/WLANWIENATOGD.json',format:new x.default})});document.getElementById('punkt_wlan').onclick=function(){1==this.checked?Y.addLayer($):Y.removeLayer($)},$.setStyle(function(e){return new R.default({image:new U.default({scale:0.015,src:'data/wlan.png',opacity:1,text:new Text({text:e.get('properties'),font:'Arial'})})})})},function(){},function(){},function(e,t,o){var a=Math.round,n=function(){return function(e){function t(e,t){return e.classList?e.classList.contains(t):new RegExp('\\b'+t+'\\b').test(e.className)}function n(e,t,o){e.attachEvent?e.attachEvent('on'+t,o):e.addEventListener(t,o)}function r(e,t,o){e.detachEvent?e.detachEvent('on'+t,o):e.removeEventListener(t,o)}function l(o,e,a,i){n(i||document,e,function(n){for(var e=n.target||n.srcElement,i;e&&!(i=t(e,o));)e=e.parentElement;i&&a.call(e,n)})}if(document.querySelector){var d={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:'',renderItem:function(e,t){t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');var o=new RegExp('('+t.split(' ').join('|')+')','gi');return'<div class="autocomplete-suggestion" data-val="'+e+'">'+e.replace(o,'<b>$1</b>')+'</div>'},onSelect:function(){}};for(var o in e)e.hasOwnProperty(o)&&(d[o]=e[o]);for(var s='object'==typeof d.selector?[d.selector]:document.querySelectorAll(d.selector),p=0,g;p<s.length;p++){g=s[p],g.sc=document.createElement('div'),g.sc.className='autocomplete-suggestions '+d.menuClass,g.autocompleteAttr=g.getAttribute('autocomplete'),g.setAttribute('autocomplete','off'),g.cache={},g.last_val='',g.updateSC=function(e,t){var o=g.getBoundingClientRect();if(g.sc.style.left=a(o.left+(window.pageXOffset||document.documentElement.scrollLeft)+d.offsetLeft)+'px',g.sc.style.top=a(o.bottom+(window.pageYOffset||document.documentElement.scrollTop)+d.offsetTop)+'px',g.sc.style.width=a(o.right-o.left)+'px',!e&&(g.sc.style.display='block',g.sc.classList.remove('hide'),g.sc.maxHeight||(g.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(g.sc,null):g.sc.currentStyle).maxHeight)),g.sc.suggestionHeight||(g.sc.suggestionHeight=g.sc.querySelector('.autocomplete-suggestion').offsetHeight),g.sc.suggestionHeight))if(!t)g.sc.scrollTop=0;else{var n=g.sc.scrollTop,i=t.getBoundingClientRect().top-g.sc.getBoundingClientRect().top;0<i+g.sc.suggestionHeight-g.sc.maxHeight?g.sc.scrollTop=i+g.sc.suggestionHeight+n-g.sc.maxHeight:0>i&&(g.sc.scrollTop=i+n)}},n(window,'resize',g.updateSC),document.body.appendChild(g.sc),l('autocomplete-suggestion','mouseleave',function(){var e=g.sc.querySelector('.autocomplete-suggestion.selected');e&&setTimeout(function(){e.className=e.className.replace('selected','')},20)},g.sc),l('autocomplete-suggestion','mouseover',function(){var e=g.sc.querySelector('.autocomplete-suggestion.selected');e&&(e.className=e.className.replace('selected','')),this.className+=' selected'},g.sc),l('autocomplete-suggestion','mousedown',function(o){if(t(this,'autocomplete-suggestion')){var e=this.getAttribute('data-val');g.value=e,d.onSelect(o,e,this),g.sc.style.display='none',g.sc.classList.add('hide')}},g.sc),g.blurHandler=function(){try{var e=document.querySelector('.autocomplete-suggestions:hover')}catch(t){var e=0}e?g!==document.activeElement&&setTimeout(function(){g.focus()},20):(g.last_val=g.value,g.sc.style.display='none',g.sc.classList.add('hide'),setTimeout(function(){g.sc.style.display='none',g.sc.classList.add('hide')},350))},n(g,'blur',g.blurHandler);var c=function(e,t){if(!t)var t=g.value;if(g.cache[t]=e,e.length&&t.length>=d.minChars){for(var o='',a=0;a<e.length;a++)o+=d.renderItem(e[a],t);g.sc.innerHTML=o,g.updateSC(0)}else g.sc.style.display='none';g.sc.classList.add('hide')};g.keydownHandler=function(t){var e=window.event?t.keyCode:t.which;if((40==e||38==e)&&g.sc.innerHTML){var o=g.sc.querySelector('.autocomplete-suggestion.selected'),a;return o?(a=40==e?o.nextSibling:o.previousSibling,a?(o.className=o.className.replace('selected',''),a.className+=' selected',g.value=a.getAttribute('data-val')):(o.className=o.className.replace('selected',''),g.value=g.last_val,a=0)):(a=40==e?g.sc.querySelector('.autocomplete-suggestion'):g.sc.childNodes[g.sc.childNodes.length-1],a.className+=' selected',g.value=a.getAttribute('data-val')),g.updateSC(0,a),!1}if(27==e)g.value=g.last_val,g.sc.style.display='none',g.sc.classList.add('hide');else if(13==e||9==e){'none'!==g.sc.style.display&&t.preventDefault();var o=g.sc.querySelector('.autocomplete-suggestion.selected');o&&'none'!=g.sc.style.display&&(d.onSelect(t,o.getAttribute('data-val'),o),setTimeout(function(){g.sc.style.display='none',g.sc.classList.add('hide')},20))}},n(g,'keydown',g.keydownHandler),g.keyupHandler=function(t){var e=window.event?t.keyCode:t.which;if(!e||(35>e||40<e)&&13!=e&&27!=e){var o=g.value;if(!(o.length>=d.minChars))g.last_val=o,g.sc.style.display='none',g.sc.classList.add('hide');else if(o!=g.last_val){if(g.last_val=o,clearTimeout(g.timer),d.cache){if(o in g.cache)return void c(g.cache[o]);for(var a=1,n;a<o.length-d.minChars;a++)if(n=o.slice(0,o.length-a),n in g.cache&&!g.cache[n].length)return void c([])}g.timer=setTimeout(function(){d.source(o,c)},d.delay)}}},n(g,'keyup',g.keyupHandler),g.focusHandler=function(t){g.last_val='\n',g.keyupHandler(t)},d.minChars||n(g,'focus',g.focusHandler)}this.destroy=function(){for(var e=0,t;e<s.length;e++)t=s[e],r(window,'resize',t.updateSC),r(t,'blur',t.blurHandler),r(t,'focus',t.focusHandler),r(t,'keydown',t.keydownHandler),r(t,'keyup',t.keyupHandler),t.autocompleteAttr?t.setAttribute('autocomplete',t.autocompleteAttr):t.removeAttribute('autocomplete'),document.body.removeChild(t.sc),t=null}}}}(),i;(function(){i=function(){return n}.call(t,o,t,e),!(i!==void 0&&(e.exports=i))})()},function(e,t,o){'use strict';var a=Math.abs,n=o(0),i=o(18),r=o(43),l=o(96),s=o(4),d=o(42),p=o(97),g=o(150),c=function(e,t){d.a.call(this),this.map_=e,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t?t*i.a.DEVICE_PIXEL_RATIO:i.a.DEVICE_PIXEL_RATIO,this.down_=null;var o=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new g.a(o),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=s.a.listen(this.pointerEventHandler_,p.a.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=s.a.listen(this.pointerEventHandler_,p.a.POINTERMOVE,this.relayEvent_,this)};n.a.inherits(c,d.a),c.prototype.emulateClick_=function(e){var t=new l.a(r.a.CLICK,this.map_,e);this.dispatchEvent(t),0===this.clickTimeoutId_?this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var t=new l.a(r.a.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250):(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,t=new l.a(r.a.DBLCLICK,this.map_,e),this.dispatchEvent(t))},c.prototype.updateActivePointers_=function(e){var t=e;t.type==r.a.POINTERUP||t.type==r.a.POINTERCANCEL?delete this.trackedTouches_[t.pointerId]:t.type==r.a.POINTERDOWN&&(this.trackedTouches_[t.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},c.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var t=new l.a(r.a.POINTERUP,this.map_,e);this.dispatchEvent(t),!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(s.a.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},c.prototype.isMouseActionButton_=function(e){return 0===e.button},c.prototype.handlePointerDown_=function(e){this.updateActivePointers_(e);var t=new l.a(r.a.POINTERDOWN,this.map_,e);this.dispatchEvent(t),this.down_=e,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new g.a(document),this.dragListenerKeys_.push(s.a.listen(this.documentPointerEventHandler_,r.a.POINTERMOVE,this.handlePointerMove_,this),s.a.listen(this.documentPointerEventHandler_,r.a.POINTERUP,this.handlePointerUp_,this),s.a.listen(this.pointerEventHandler_,r.a.POINTERCANCEL,this.handlePointerUp_,this)))},c.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var t=new l.a(r.a.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(t)}e.preventDefault()},c.prototype.relayEvent_=function(e){var t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new l.a(e.type,this.map_,e,t))},c.prototype.isMoving_=function(e){return a(e.clientX-this.down_.clientX)>this.moveTolerance_||a(e.clientY-this.down_.clientY)>this.moveTolerance_},c.prototype.disposeInternal=function(){this.relayedListenerKey_&&(s.a.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(s.a.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(s.a.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),d.a.prototype.disposeInternal.call(this)},t.a=c},function(e,t,o){'use strict';var a=o(0),n=o(4),i=o(42),r=o(18),l=o(97),s=o(98),d=o(151),p=o(152),g=o(153),c=o(154),u=function(e){i.a.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()};a.a.inherits(u,i.a),u.prototype.registerSources=function(){if(r.a.POINTER)this.registerSource('native',new p.a(this));else if(r.a.MSPOINTER)this.registerSource('ms',new d.a(this));else{var e=new s.a(this);this.registerSource('mouse',e),r.a.TOUCH&&this.registerSource('touch',new c.a(this,e))}this.register_()},u.prototype.registerSource=function(e,t){var o=t,a=o.getEvents();a&&(a.forEach(function(t){var e=o.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(o))},this),this.eventSourceList_.push(o))},u.prototype.register_=function(){for(var e=this.eventSourceList_.length,t=0,o;t<e;t++)o=this.eventSourceList_[t],this.addEvents_(o.getEvents())},u.prototype.unregister_=function(){for(var e=this.eventSourceList_.length,t=0,o;t<e;t++)o=this.eventSourceList_[t],this.removeEvents_(o.getEvents())},u.prototype.eventHandler_=function(e){var t=e.type,o=this.eventMap_[t];o&&o(e)},u.prototype.addEvents_=function(e){e.forEach(function(e){n.a.listen(this.element_,e,this.eventHandler_,this)},this)},u.prototype.removeEvents_=function(e){e.forEach(function(t){n.a.unlisten(this.element_,t,this.eventHandler_,this)},this)},u.prototype.cloneEvent=function(e,t){for(var o={},a=0,n=u.CLONE_PROPS.length,i;a<n;a++)i=u.CLONE_PROPS[a][0],o[i]=e[i]||t[i]||u.CLONE_PROPS[a][1];return o},u.prototype.down=function(e,t){this.fireEvent(l.a.POINTERDOWN,e,t)},u.prototype.move=function(e,t){this.fireEvent(l.a.POINTERMOVE,e,t)},u.prototype.up=function(e,t){this.fireEvent(l.a.POINTERUP,e,t)},u.prototype.enter=function(e,t){e.bubbles=!1,this.fireEvent(l.a.POINTERENTER,e,t)},u.prototype.leave=function(e,t){e.bubbles=!1,this.fireEvent(l.a.POINTERLEAVE,e,t)},u.prototype.over=function(e,t){e.bubbles=!0,this.fireEvent(l.a.POINTEROVER,e,t)},u.prototype.out=function(e,t){e.bubbles=!0,this.fireEvent(l.a.POINTEROUT,e,t)},u.prototype.cancel=function(e,t){this.fireEvent(l.a.POINTERCANCEL,e,t)},u.prototype.leaveOut=function(e,t){this.out(e,t),this.contains_(e.target,e.relatedTarget)||this.leave(e,t)},u.prototype.enterOver=function(e,t){this.over(e,t),this.contains_(e.target,e.relatedTarget)||this.enter(e,t)},u.prototype.contains_=function(e,t){return e&&t&&e.contains(t)},u.prototype.makeEvent=function(e,t,o){return new g.a(e,o,t)},u.prototype.fireEvent=function(t,o,a){var n=this.makeEvent(t,o,a);this.dispatchEvent(n)},u.prototype.fireNativeEvent=function(t){var o=this.makeEvent(t.type,t,t);this.dispatchEvent(o)},u.prototype.wrapMouseEvent=function(e,t){var o=this.makeEvent(e,s.a.prepareEvent(t,this),t);return o},u.prototype.disposeInternal=function(){this.unregister_(),i.a.prototype.disposeInternal.call(this)},u.CLONE_PROPS=[['bubbles',!1],['cancelable',!1],['view',null],['detail',null],['screenX',0],['screenY',0],['clientX',0],['clientY',0],['ctrlKey',!1],['altKey',!1],['shiftKey',!1],['metaKey',!1],['button',0],['relatedTarget',null],['buttons',0],['pointerId',0],['width',0],['height',0],['pressure',0],['tiltX',0],['tiltY',0],['pointerType',''],['hwTimestamp',0],['isPrimary',!1],['type',''],['target',null],['currentTarget',null],['which',0]],t.a=u},function(e,t,o){'use strict';var a=o(0),n=o(56),i=function(e){var t={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};n.a.call(this,e,t),this.pointerMap=e.pointerMap,this.POINTER_TYPES=['','unavailable','touch','pen','mouse']};a.a.inherits(i,n.a),i.prototype.prepareEvent_=function(t){var o=t;return'number'==typeof t.pointerType&&(o=this.dispatcher.cloneEvent(t,t),o.pointerType=this.POINTER_TYPES[t.pointerType]),o},i.prototype.cleanup=function(e){delete this.pointerMap[e.toString()]},i.prototype.msPointerDown=function(t){this.pointerMap[t.pointerId.toString()]=t;var o=this.prepareEvent_(t);this.dispatcher.down(o,t)},i.prototype.msPointerMove=function(t){var o=this.prepareEvent_(t);this.dispatcher.move(o,t)},i.prototype.msPointerUp=function(t){var o=this.prepareEvent_(t);this.dispatcher.up(o,t),this.cleanup(t.pointerId)},i.prototype.msPointerOut=function(t){var o=this.prepareEvent_(t);this.dispatcher.leaveOut(o,t)},i.prototype.msPointerOver=function(t){var o=this.prepareEvent_(t);this.dispatcher.enterOver(o,t)},i.prototype.msPointerCancel=function(t){var o=this.prepareEvent_(t);this.dispatcher.cancel(o,t),this.cleanup(t.pointerId)},i.prototype.msLostPointerCapture=function(t){var o=this.dispatcher.makeEvent('lostpointercapture',t,t);this.dispatcher.dispatchEvent(o)},i.prototype.msGotPointerCapture=function(t){var o=this.dispatcher.makeEvent('gotpointercapture',t,t);this.dispatcher.dispatchEvent(o)},t.a=i},function(e,t,o){'use strict';var a=o(0),n=o(56),i=function(e){var t={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};n.a.call(this,e,t)};a.a.inherits(i,n.a),i.prototype.pointerDown=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.pointerMove=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.pointerUp=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.pointerOut=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.pointerOver=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.pointerCancel=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.lostPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.gotPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)},t.a=i},function(e,t,o){'use strict';var a=o(0),n=o(16),i=function(e,t,o){n.a.call(this,e),this.originalEvent=t;var a=o?o:{};this.buttons=this.getButtons_(a),this.pressure=this.getPressure_(a,this.buttons),this.bubbles=!!('bubbles'in a)&&a.bubbles,this.cancelable=!!('cancelable'in a)&&a.cancelable,this.view='view'in a?a.view:null,this.detail='detail'in a?a.detail:null,this.screenX='screenX'in a?a.screenX:0,this.screenY='screenY'in a?a.screenY:0,this.clientX='clientX'in a?a.clientX:0,this.clientY='clientY'in a?a.clientY:0,this.ctrlKey=!!('ctrlKey'in a)&&a.ctrlKey,this.altKey=!!('altKey'in a)&&a.altKey,this.shiftKey=!!('shiftKey'in a)&&a.shiftKey,this.metaKey=!!('metaKey'in a)&&a.metaKey,this.button='button'in a?a.button:0,this.relatedTarget='relatedTarget'in a?a.relatedTarget:null,this.pointerId='pointerId'in a?a.pointerId:0,this.width='width'in a?a.width:0,this.height='height'in a?a.height:0,this.tiltX='tiltX'in a?a.tiltX:0,this.tiltY='tiltY'in a?a.tiltY:0,this.pointerType='pointerType'in a?a.pointerType:'',this.hwTimestamp='hwTimestamp'in a?a.hwTimestamp:0,this.isPrimary=!!('isPrimary'in a)&&a.isPrimary,t.preventDefault&&(this.preventDefault=function(){t.preventDefault()})};a.a.inherits(i,n.a),i.prototype.getButtons_=function(e){var t;if(e.buttons||i.HAS_BUTTONS)t=e.buttons;else switch(e.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0;}return t},i.prototype.getPressure_=function(e,t){var o=0;return o=e.pressure?e.pressure:t?0.5:0,o},i.HAS_BUTTONS=!1,function(){try{var e=new MouseEvent('click',{buttons:1});i.HAS_BUTTONS=1===e.buttons}catch(t){}}(),t.a=i},function(e,t,o){'use strict';var a=o(0),n=o(3),i=o(56),r=o(98),l=function(e,t){var o={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};i.a.call(this,e,o),this.pointerMap=e.pointerMap,this.mouseSource=t,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0};a.a.inherits(l,i.a),l.DEDUP_TIMEOUT=2500,l.CLICK_COUNT_TIMEOUT=200,l.POINTER_TYPE='touch',l.prototype.isPrimaryTouch_=function(e){return this.firstTouchId_===e.identifier},l.prototype.setPrimaryTouch_=function(e){var t=Object.keys(this.pointerMap).length;(0===t||1===t&&r.a.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=e.identifier,this.cancelResetClickCount_())},l.prototype.removePrimaryPointer_=function(e){e.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},l.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),l.CLICK_COUNT_TIMEOUT)},l.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},l.prototype.cancelResetClickCount_=function(){this.resetId_!==void 0&&clearTimeout(this.resetId_)},l.prototype.touchToPointer_=function(t,o){var a=this.dispatcher.cloneEvent(t,o);return a.pointerId=o.identifier+2,a.bubbles=!0,a.cancelable=!0,a.detail=this.clickCount_,a.button=0,a.buttons=1,a.width=o.webkitRadiusX||o.radiusX||0,a.height=o.webkitRadiusY||o.radiusY||0,a.pressure=o.webkitForce||o.force||0.5,a.isPrimary=this.isPrimaryTouch_(o),a.pointerType=l.POINTER_TYPE,a.clientX=o.clientX,a.clientY=o.clientY,a.screenX=o.screenX,a.screenY=o.screenY,a},l.prototype.processTouches_=function(e,t){function o(){e.preventDefault()}var a=Array.prototype.slice.call(e.changedTouches),n=a.length,r,i;for(r=0;r<n;++r)i=this.touchToPointer_(e,a[r]),i.preventDefault=o,t.call(this,e,i)},l.prototype.findTouch_=function(e,t){for(var o=e.length,a=0,n;a<o;a++)if(n=e[a],n.identifier===t)return!0;return!1},l.prototype.vacuumTouches_=function(e){var t=e.touches,o=Object.keys(this.pointerMap),a=o.length;if(a>=t.length){var n=[],l,i,s;for(l=0;l<a;++l)i=o[l],s=this.pointerMap[i],i==r.a.POINTER_ID||this.findTouch_(t,i-2)||n.push(s.out);for(l=0;l<n.length;++l)this.cancelOut_(e,n[l])}},l.prototype.touchstart=function(e){this.vacuumTouches_(e),this.setPrimaryTouch_(e.changedTouches[0]),this.dedupSynthMouse_(e),this.clickCount_++,this.processTouches_(e,this.overDown_)},l.prototype.overDown_=function(e,t){this.pointerMap[t.pointerId]={target:t.target,out:t,outTarget:t.target},this.dispatcher.over(t,e),this.dispatcher.enter(t,e),this.dispatcher.down(t,e)},l.prototype.touchmove=function(e){e.preventDefault(),this.processTouches_(e,this.moveOverOut_)},l.prototype.moveOverOut_=function(e,t){var o=t,a=this.pointerMap[o.pointerId];if(a){var n=a.out,i=a.outTarget;this.dispatcher.move(o,e),n&&i!==o.target&&(n.relatedTarget=o.target,o.relatedTarget=i,n.target=i,o.target?(this.dispatcher.leaveOut(n,e),this.dispatcher.enterOver(o,e)):(o.target=i,o.relatedTarget=null,this.cancelOut_(e,o))),a.out=o,a.outTarget=o.target}},l.prototype.touchend=function(e){this.dedupSynthMouse_(e),this.processTouches_(e,this.upOut_)},l.prototype.upOut_=function(e,t){this.dispatcher.up(t,e),this.dispatcher.out(t,e),this.dispatcher.leave(t,e),this.cleanUpPointer_(t)},l.prototype.touchcancel=function(e){this.processTouches_(e,this.cancelOut_)},l.prototype.cancelOut_=function(e,t){this.dispatcher.cancel(t,e),this.dispatcher.out(t,e),this.dispatcher.leave(t,e),this.cleanUpPointer_(t)},l.prototype.cleanUpPointer_=function(e){delete this.pointerMap[e.pointerId],this.removePrimaryPointer_(e)},l.prototype.dedupSynthMouse_=function(e){var o=this.mouseSource.lastTouches,a=e.changedTouches[0];if(this.isPrimaryTouch_(a)){var t=[a.clientX,a.clientY];o.push(t),setTimeout(function(){n.a.remove(o,t)},l.DEDUP_TIMEOUT)}},t.a=l},function(e,t){'use strict';t.a={LAYERGROUP:'layergroup',SIZE:'size',TARGET:'target',VIEW:'view'}},function(e,t,o){'use strict';var a=o(0),n=o(11),i=o(4),r=o(5),l=o(77),s=function(e,t){l.a.call(this,function(t){return e.apply(null,t)},function(e){return e[0].getKey()}),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}};a.a.inherits(s,l.a),s.prototype.enqueue=function(e){var t=l.a.prototype.enqueue.call(this,e);if(t){var o=e[0];i.a.listen(o,r.a.CHANGE,this.handleTileChange,this)}return t},s.prototype.getTilesLoading=function(){return this.tilesLoading_},s.prototype.handleTileChange=function(e){var t=e.target,o=t.getState();if(o===n.a.LOADED||o===n.a.ERROR||o===n.a.EMPTY||o===n.a.ABORT){i.a.unlisten(t,r.a.CHANGE,this.handleTileChange,this);var a=t.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},s.prototype.loadMoreTiles=function(e,t){for(var o=0,a=!1,i,r,l;this.tilesLoading_<e&&o<t&&0<this.getCount();)r=this.dequeue()[0],l=r.getKey(),i=r.getState(),i===n.a.ABORT?a=!0:i===n.a.IDLE&&!(l in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[l]=!0,++this.tilesLoading_,++o,r.load());0==o&&a&&this.tileChangeCallback_()},t.a=s},function(e,t,o){'use strict';var a=o(6),n={};n.createExtent=function(e){return function(t){return t?[a.a.clamp(t[0],e[0],e[2]),a.a.clamp(t[1],e[1],e[3])]:void 0}},n.none=function(e){return e},t.a=n},function(e,t,o){'use strict';var a=Math.floor,n=Math.pow,i=Math.log,r=o(3),l=o(6),s={};s.createSnapToResolutions=function(e){return function(t,o,i){if(t!==void 0){var s=r.a.linearFindNearest(e,t,i);s=l.a.clamp(s+o,0,e.length-1);var d=a(s);if(s!=d&&d<e.length-1){var p=e[d]/e[d+1];return e[d]/n(p,s-d)}return e[d]}}},s.createSnapToPower=function(e,t,o){return function(r,l,s){if(void 0!==r){var d=a(i(t/r)/i(e)+(-s/2+0.5)),p=Math.max(d+l,0);return void 0!==o&&(p=Math.min(p,o)),t/n(e,p)}}},t.a=s},function(e,t){'use strict';t.a={CENTER:'center',RESOLUTION:'resolution',ROTATION:'rotation'}},function(e,t){'use strict';var o={};o.padNumber=function(e,t,o){var a=void 0===o?''+e:e.toFixed(o),n=a.indexOf('.');return n=-1===n?a.length:n,n>t?a:Array(1+t-n).join('0')+a},o.compareVersions=function(e,t){for(var o=(''+e).split('.'),a=(''+t).split('.'),n=0;n<Math.max(o.length,a.length);n++){var i=parseInt(o[n]||'0',10),r=parseInt(a[n]||'0',10);if(i>r)return 1;if(r>i)return-1}return 0},t.a=o},function(e,t,o){'use strict';var a=o(0),n=o(1),i=o(19),r=o(9),l=o(20),s=o(60),d=o(45),p=o(28),g=o(29),c=o(33),u=function(e,t){l.a.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,t)};a.a.inherits(u,l.a),u.prototype.clone=function(){var e=new u(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},u.prototype.closestPointXY=function(e,t,o,a){return a<n.a.closestSquaredDistanceXY(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(d.a.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),d.a.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,o,a))},u.prototype.getArea=function(){return s.a.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},u.prototype.getCoordinates=function(){return g.a.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},u.prototype.getSimplifiedGeometryInternal=function(e){var t=[];t.length=c.a.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0);var o=new u(null);return o.setFlatCoordinates(i.a.XY,t),o},u.prototype.getType=function(){return r.a.LINEAR_RING},u.prototype.intersectsExtent=function(){},u.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,1),!this.flatCoordinates&&(this.flatCoordinates=[]),this.flatCoordinates.length=p.a.coordinates(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(i.a.XY,null)},u.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},t.a=u},function(e,t,o){'use strict';var n=Math.atan2,i=Math.sqrt,a=Math.abs,r=Math.sin,l=Math.cos,s=o(6),d=o(9),p=function(e){this.radius=e};/**
 * @license
 * Latitude/longitude spherical geodesy formulae taken from
 * http://www.movable-type.co.uk/scripts/latlong.html
 * Licensed under CC-BY-3.0.
 */p.prototype.geodesicArea=function(e){return p.getArea_(e,this.radius)},p.prototype.haversineDistance=function(e,t){return p.getDistance_(e,t,this.radius)},p.prototype.offset=function(e,t,o){var a=s.a.toRadians(e[1]),i=s.a.toRadians(e[0]),d=t/this.radius,p=Math.asin(r(a)*l(d)+l(a)*r(d)*l(o)),g=i+n(r(o)*r(d)*l(a),l(d)-r(a)*r(p));return[s.a.toDegrees(g),s.a.toDegrees(p)]},p.DEFAULT_RADIUS=6371008.8,p.getLength=function(e,t){var o=t||{},a=o.radius||p.DEFAULT_RADIUS,n=o.projection||'EPSG:3857';e=e.clone().transform(n,'EPSG:4326');var r=e.getType(),l=0,s,g,c,i,u,_;switch(r){case d.a.POINT:case d.a.MULTI_POINT:break;case d.a.LINE_STRING:case d.a.LINEAR_RING:{s=e.getCoordinates(),l=p.getLength_(s,a);break}case d.a.MULTI_LINE_STRING:case d.a.POLYGON:{for(s=e.getCoordinates(),c=0,i=s.length;c<i;++c)l+=p.getLength_(s[c],a);break}case d.a.MULTI_POLYGON:{for(s=e.getCoordinates(),c=0,i=s.length;c<i;++c)for(g=s[c],u=0,_=g.length;u<_;++u)l+=p.getLength_(g[u],a);break}case d.a.GEOMETRY_COLLECTION:{var y=e.getGeometries();for(c=0,i=y.length;c<i;++c)l+=p.getLength(y[c],t);break}default:throw new Error('Unsupported geometry type: '+r);}return l},p.getLength_=function(e,t){for(var o=0,a=0,n=e.length;a<n-1;++a)o+=p.getDistance_(e[a],e[a+1],t);return o},p.getDistance_=function(e,t,o){var d=s.a.toRadians(e[1]),p=s.a.toRadians(t[1]),g=(p-d)/2,c=s.a.toRadians(t[0]-e[0])/2,u=r(g)*r(g)+r(c)*r(c)*l(d)*l(p);return 2*o*n(i(u),i(1-u))},p.getArea=function(e,t){var o=t||{},n=o.radius||p.DEFAULT_RADIUS,r=o.projection||'EPSG:3857';e=e.clone().transform(r,'EPSG:4326');var l=e.getType(),s=0,g,c,u,i,_,y;switch(l){case d.a.POINT:case d.a.MULTI_POINT:case d.a.LINE_STRING:case d.a.MULTI_LINE_STRING:case d.a.LINEAR_RING:break;case d.a.POLYGON:{for(g=e.getCoordinates(),s=a(p.getArea_(g[0],n)),(u=1,i=g.length);u<i;++u)s-=a(p.getArea_(g[u],n));break}case d.a.MULTI_POLYGON:{for(g=e.getCoordinates(),u=0,i=g.length;u<i;++u)for(c=g[u],s+=a(p.getArea_(c[0],n)),(_=1,y=c.length);_<y;++_)s-=a(p.getArea_(c[_],n));break}case d.a.GEOMETRY_COLLECTION:{var h=e.getGeometries();for(u=0,i=h.length;u<i;++u)s+=p.getArea(h[u],t);break}default:throw new Error('Unsupported geometry type: '+l);}return s},p.getArea_=function(e,t){for(var o=0,a=e.length,n=e[a-1][0],l=e[a-1][1],d=0;d<a;d++){var i=e[d][0],p=e[d][1];o+=s.a.toRadians(i-n)*(2+r(s.a.toRadians(l))+r(s.a.toRadians(p))),n=i,l=p}return o*t*t/2},t.a=p},function(e,t,o){'use strict';var a=Math.PI,n=o(0),i=o(6),r=o(59),l=o(22),s={};s.Projection_=function(e){r.a.call(this,{code:e,units:l.a.METERS,extent:s.EXTENT,global:!0,worldExtent:s.WORLD_EXTENT,getPointResolution:function(e,t){return e/i.a.cosh(t[1]/s.RADIUS)}})},n.a.inherits(s.Projection_,r.a),s.RADIUS=6378137,s.HALF_SIZE=a*s.RADIUS,s.EXTENT=[-s.HALF_SIZE,-s.HALF_SIZE,s.HALF_SIZE,s.HALF_SIZE],s.WORLD_EXTENT=[-180,-85,180,85],s.PROJECTIONS=[new s.Projection_('EPSG:3857'),new s.Projection_('EPSG:102100'),new s.Projection_('EPSG:102113'),new s.Projection_('EPSG:900913'),new s.Projection_('urn:ogc:def:crs:EPSG:6.18:3:3857'),new s.Projection_('urn:ogc:def:crs:EPSG::3857'),new s.Projection_('http://www.opengis.net/gml/srs/epsg.xml#3857')],s.fromEPSG4326=function(e,t,o){var n=e.length,r=1<o?o:2,l=t;l===void 0&&(2<r?l=e.slice():l=Array(n));for(var d=s.HALF_SIZE,p=0;p<n;p+=r){l[p]=d*e[p]/180;var i=s.RADIUS*Math.log(Math.tan(a*(e[p+1]+90)/360));i>d?i=d:i<-d&&(i=-d),l[p+1]=i}return l},s.toEPSG4326=function(e,t,o){var n=e.length,r=1<o?o:2,l=t;l===void 0&&(2<r?l=e.slice():l=Array(n));for(var d=0;d<n;d+=r)l[d]=180*e[d]/s.HALF_SIZE,l[d+1]=360*Math.atan(Math.exp(e[d+1]/s.RADIUS))/a-90;return l},t.a=s},function(e,t,o){'use strict';var a=o(0),n=o(59),i=o(22),r={};r.Projection_=function(e,t){n.a.call(this,{code:e,units:i.a.DEGREES,extent:r.EXTENT,axisOrientation:t,global:!0,metersPerUnit:r.METERS_PER_UNIT,worldExtent:r.EXTENT})},a.a.inherits(r.Projection_,n.a),r.RADIUS=6378137,r.EXTENT=[-180,-90,180,90],r.METERS_PER_UNIT=Math.PI*r.RADIUS/180,r.PROJECTIONS=[new r.Projection_('CRS:84'),new r.Projection_('EPSG:4326','neu'),new r.Projection_('urn:ogc:def:crs:EPSG::4326','neu'),new r.Projection_('urn:ogc:def:crs:EPSG:6.6:4326','neu'),new r.Projection_('urn:ogc:def:crs:OGC:1.3:CRS84'),new r.Projection_('urn:ogc:def:crs:OGC:2:84'),new r.Projection_('http://www.opengis.net/gml/srs/epsg.xml#4326','neu'),new r.Projection_('urn:x-ogc:def:crs:EPSG:4326','neu')],t.a=r},function(e,t){'use strict';var o={};o.cache_={},o.clear=function(){o.cache_={}},o.get=function(e){var t=o.cache_;return t[e]||null},o.add=function(e,t){var a=o.cache_;a[e]=t},t.a=o},function(e,t,o){'use strict';var a=o(2),n={};n.cache_={},n.clear=function(){n.cache_={}},n.add=function(e,t,o){var a=e.getCode(),i=t.getCode(),r=n.cache_;a in r||(r[a]={}),r[a][i]=o},n.remove=function(e,t){var o=e.getCode(),i=t.getCode(),r=n.cache_,l=r[o][i];return delete r[o][i],a.a.isEmpty(r[o])&&delete r[o],l},n.get=function(e,t){var o=n.cache_,a;return e in o&&t in o[e]&&(a=o[e][t]),a},t.a=n},function(e,t){'use strict';var o={};o.coordinates=function(e,t,o,a){for(;t<o-a;){var n;for(n=0;n<a;++n){var i=e[t+n];e[t+n]=e[o-a+n],e[o-a+n]=i}t+=a,o-=a}},t.a=o},function(e,t,o){'use strict';var a=o(41),n=o(169),i=o(170),r=o(171),l={};l.defaults=function(e){var t=e?e:{},o=new a.a,l=void 0===t.zoom||t.zoom;l&&o.push(new r.a(t.zoomOptions));var s=void 0===t.rotate||t.rotate;s&&o.push(new i.a(t.rotateOptions));var d=void 0===t.attribution||t.attribution;return d&&o.push(new n.a(t.attributionOptions)),o},t.a=l},function(e,t,o){'use strict';var a=o(0),n=o(8),i=o(79),r=o(34),l=o(4),s=o(5),d=o(2),p=function(e){var t=e?e:{};this.ulElement_=document.createElement('UL'),this.logoLi_=document.createElement('LI'),this.ulElement_.appendChild(this.logoLi_),this.logoLi_.style.display='none',this.collapsed_=!(t.collapsed!==void 0)||t.collapsed,this.collapsible_=!(t.collapsible!==void 0)||t.collapsible,this.collapsible_||(this.collapsed_=!1);var o=t.className===void 0?'ol-attribution':t.className,a=t.tipLabel===void 0?'Attributions':t.tipLabel,n=t.collapseLabel===void 0?'\xBB':t.collapseLabel;'string'==typeof n?(this.collapseLabel_=document.createElement('span'),this.collapseLabel_.textContent=n):this.collapseLabel_=n;var d=t.label===void 0?'i':t.label;'string'==typeof d?(this.label_=document.createElement('span'),this.label_.textContent=d):this.label_=d;var g=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,c=document.createElement('button');c.setAttribute('type','button'),c.title=a,c.appendChild(g),l.a.listen(c,s.a.CLICK,this.handleClick_,this);var u=o+' '+r.a.CLASS_UNSELECTABLE+' '+r.a.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?' ol-collapsed':'')+(this.collapsible_?'':' ol-uncollapsible'),_=document.createElement('div');_.className=u,_.appendChild(this.ulElement_),_.appendChild(c);var y=t.render?t.render:p.render;i.a.call(this,{element:_,render:y,target:t.target}),this.renderedVisible_=!0,this.attributionElements_={},this.attributionElementRenderedVisible_={},this.logoElements_={}};a.a.inherits(p,i.a),p.prototype.getSourceAttributions=function(e){var t=e.layerStatesArray,o=d.a.assign({},e.attributions),n={},r={},l=e.viewState.projection,s,i,p,g,c,u,_,y,h,m,f;for(s=0,i=t.length;s<i;s++)if((u=t[s].layer.getSource(),!!u)&&(m=a.a.getUid(u).toString(),h=u.getAttributions(),!!h))for(p=0,g=h.length;p<g;p++)if(_=h[p],y=a.a.getUid(_).toString(),!(y in o)){if(c=e.usedTiles[m],c){var E=u.getTileGridForProjection(l);f=_.intersectsAnyTileRange(c,E,l)}else f=!1;if(f){y in n&&delete n[y];var T=_.getHTML();T in r||(r[T]=!0,o[y]=_)}else n[y]=_}return[o,n]},p.render=function(e){this.updateElement_(e.frameState)},p.prototype.updateElement_=function(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display='none',this.renderedVisible_=!1));var t=this.getSourceAttributions(e),o=t[0],a=t[1],i,r;for(r in this.attributionElements_)r in o?(this.attributionElementRenderedVisible_[r]||(this.attributionElements_[r].style.display='',this.attributionElementRenderedVisible_[r]=!0),delete o[r]):r in a?(this.attributionElementRenderedVisible_[r]&&(this.attributionElements_[r].style.display='none',delete this.attributionElementRenderedVisible_[r]),delete a[r]):(n.a.removeNode(this.attributionElements_[r]),delete this.attributionElements_[r],delete this.attributionElementRenderedVisible_[r]);for(r in o)i=document.createElement('LI'),i.innerHTML=o[r].getHTML(),this.ulElement_.appendChild(i),this.attributionElements_[r]=i,this.attributionElementRenderedVisible_[r]=!0;for(r in a)i=document.createElement('LI'),i.innerHTML=a[r].getHTML(),i.style.display='none',this.ulElement_.appendChild(i),this.attributionElements_[r]=i;var l=!d.a.isEmpty(this.attributionElementRenderedVisible_)||!d.a.isEmpty(e.logos);this.renderedVisible_!=l&&(this.element.style.display=l?'':'none',this.renderedVisible_=l),l&&d.a.isEmpty(this.attributionElementRenderedVisible_)?this.element.classList.add('ol-logo-only'):this.element.classList.remove('ol-logo-only'),this.insertLogos_(e)},p.prototype.insertLogos_=function(e){var t=e.logos,o=this.logoElements_,a;for(a in o)a in t||(n.a.removeNode(o[a]),delete o[a]);var i,r,l;for(l in t){var s=t[l];s instanceof HTMLElement&&(this.logoLi_.appendChild(s),o[l]=s),l in o||(i=new Image,i.src=l,''===s?r=i:(r=document.createElement('a'),r.href=s,r.appendChild(i)),this.logoLi_.appendChild(r),o[l]=r)}this.logoLi_.style.display=d.a.isEmpty(t)?'none':''},p.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},p.prototype.handleToggle_=function(){this.element.classList.toggle('ol-collapsed'),this.collapsed_?n.a.replaceNode(this.collapseLabel_,this.label_):n.a.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},p.prototype.getCollapsible=function(){return this.collapsible_},p.prototype.setCollapsible=function(e){this.collapsible_===e||(this.collapsible_=e,this.element.classList.toggle('ol-uncollapsible'),!e&&this.collapsed_&&this.handleToggle_())},p.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},p.prototype.getCollapsed=function(){return this.collapsed_},t.a=p},function(e,t,o){'use strict';var a=o(4),n=o(5),i=o(0),r=o(79),l=o(34),s=o(26),d=function(e){var t=e?e:{},o=t.className===void 0?'ol-rotate':t.className,i=t.label===void 0?'\u21E7':t.label;this.label_=null,'string'==typeof i?(this.label_=document.createElement('span'),this.label_.className='ol-compass',this.label_.textContent=i):(this.label_=i,this.label_.classList.add('ol-compass'));var s=t.tipLabel?t.tipLabel:'Reset rotation',p=document.createElement('button');p.className=o+'-reset',p.setAttribute('type','button'),p.title=s,p.appendChild(this.label_),a.a.listen(p,n.a.CLICK,d.prototype.handleClick_,this);var g=o+' '+l.a.CLASS_UNSELECTABLE+' '+l.a.CLASS_CONTROL,c=document.createElement('div');c.className=g,c.appendChild(p);var u=t.render?t.render:d.render;this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,r.a.call(this,{element:c,render:u,target:t.target}),this.duration_=t.duration===void 0?250:t.duration,this.autoHide_=!(t.autoHide!==void 0)||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(l.a.CLASS_HIDDEN)};i.a.inherits(d,r.a),d.prototype.handleClick_=function(e){e.preventDefault(),this.callResetNorth_===void 0?this.resetNorth_():this.callResetNorth_()},d.prototype.resetNorth_=function(){var e=this.getMap(),t=e.getView();t&&(t.getRotation()===void 0||(0<this.duration_?t.animate({rotation:0,duration:this.duration_,easing:s.a.easeOut}):t.setRotation(0)))},d.render=function(e){var t=e.frameState;if(t){var o=t.viewState.rotation;if(o!=this.rotation_){var a='rotate('+o+'rad)';if(this.autoHide_){var n=this.element.classList.contains(l.a.CLASS_HIDDEN);n||0!==o?n&&0!==o&&this.element.classList.remove(l.a.CLASS_HIDDEN):this.element.classList.add(l.a.CLASS_HIDDEN)}this.label_.style.msTransform=a,this.label_.style.webkitTransform=a,this.label_.style.transform=a}this.rotation_=o}},t.a=d},function(e,t,o){'use strict';var a=o(0),n=o(4),i=o(5),r=o(79),l=o(34),s=o(26),d=function(e){var t=e?e:{},o=t.className===void 0?'ol-zoom':t.className,a=t.delta===void 0?1:t.delta,s=t.zoomInLabel===void 0?'+':t.zoomInLabel,p=t.zoomOutLabel===void 0?'\u2212':t.zoomOutLabel,g=t.zoomInTipLabel===void 0?'Zoom in':t.zoomInTipLabel,c=t.zoomOutTipLabel===void 0?'Zoom out':t.zoomOutTipLabel,u=document.createElement('button');u.className=o+'-in',u.setAttribute('type','button'),u.title=g,u.appendChild('string'==typeof s?document.createTextNode(s):s),n.a.listen(u,i.a.CLICK,d.prototype.handleClick_.bind(this,a));var _=document.createElement('button');_.className=o+'-out',_.setAttribute('type','button'),_.title=c,_.appendChild('string'==typeof p?document.createTextNode(p):p),n.a.listen(_,i.a.CLICK,d.prototype.handleClick_.bind(this,-a));var y=o+' '+l.a.CLASS_UNSELECTABLE+' '+l.a.CLASS_CONTROL,h=document.createElement('div');h.className=y,h.appendChild(u),h.appendChild(_),r.a.call(this,{element:h,target:t.target}),this.duration_=t.duration===void 0?250:t.duration};a.a.inherits(d,r.a),d.prototype.handleClick_=function(e,t){t.preventDefault(),this.zoomByDelta_(e)},d.prototype.zoomByDelta_=function(e){var t=this.getMap(),o=t.getView();if(o){var a=o.getResolution();if(a){var n=o.constrainResolution(a,e);0<this.duration_?(o.getAnimating()&&o.cancelAnimations(),o.animate({resolution:n,duration:this.duration_,easing:s.a.easeOut})):o.setResolution(n)}}},t.a=d},function(e,t,o){'use strict';var a=o(41),n=o(173),i=o(174),r=o(176),l=o(177),s=o(178),d=o(181),p=o(183),g=o(184),c=o(185),u=o(186),_={};_.defaults=function(e){var t=e?e:{},o=new a.a,_=new n.a(-5e-3,0.05,100),y=void 0===t.altShiftDragRotate||t.altShiftDragRotate;y&&o.push(new l.a);var h=void 0===t.doubleClickZoom||t.doubleClickZoom;h&&o.push(new i.a({delta:t.zoomDelta,duration:t.zoomDuration}));var m=void 0===t.dragPan||t.dragPan;m&&o.push(new r.a({kinetic:_}));var f=void 0===t.pinchRotate||t.pinchRotate;f&&o.push(new c.a);var E=void 0===t.pinchZoom||t.pinchZoom;E&&o.push(new u.a({constrainResolution:t.constrainResolution,duration:t.zoomDuration}));var T=void 0===t.keyboard||t.keyboard;T&&(o.push(new d.a),o.push(new p.a({delta:t.zoomDelta,duration:t.zoomDuration})));var S=void 0===t.mouseWheelZoom||t.mouseWheelZoom;S&&o.push(new g.a({constrainResolution:t.constrainResolution,duration:t.zoomDuration}));var x=void 0===t.shiftDragZoom||t.shiftDragZoom;return x&&o.push(new s.a({duration:t.zoomDuration})),o},t.a=_},function(e,t){'use strict';var o=function(e,t,o){this.decay_=e,this.minVelocity_=t,this.delay_=o,this.points_=[],this.angle_=0,this.initialVelocity_=0};o.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},o.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},o.prototype.end=function(){if(6>this.points_.length)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var o=t-3;0<o&&this.points_[o+2]>e;)o-=3;var a=this.points_[t+2]-this.points_[o+2];if(a<1e3/60)return!1;var n=this.points_[t]-this.points_[o],i=this.points_[t+1]-this.points_[o+1];return this.angle_=Math.atan2(i,n),this.initialVelocity_=Math.sqrt(n*n+i*i)/a,this.initialVelocity_>this.minVelocity_},o.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},o.prototype.getAngle=function(){return this.angle_},t.a=o},function(e,t,o){'use strict';var a=o(0),n=o(43),i=o(23),r=function(e){var t=e?e:{};this.delta_=t.delta?t.delta:1,i.a.call(this,{handleEvent:r.handleEvent}),this.duration_=t.duration===void 0?250:t.duration};a.a.inherits(r,i.a),r.handleEvent=function(e){var t=!1,o=e.originalEvent;if(e.type==n.a.DBLCLICK){var a=e.map,r=e.coordinate,l=o.shiftKey?-this.delta_:this.delta_,s=a.getView();i.a.zoomByDelta(s,l,r,this.duration_),e.preventDefault(),t=!0}return!t},t.a=r},function(e,t){'use strict';t.a={ACTIVE:'active'}},function(e,t,o){'use strict';var a=o(0),n=o(17),i=o(57),r=o(26),l=o(35),s=o(12),d=o(47),p=function(e){d.a.call(this,{handleDownEvent:p.handleDownEvent_,handleDragEvent:p.handleDragEvent_,handleUpEvent:p.handleUpEvent_});var t=e?e:{};this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.condition_=t.condition?t.condition:l.a.noModifierKeys,this.noKinetic_=!1};a.a.inherits(p,d.a),p.handleDragEvent_=function(e){var t=this.targetPointers,o=d.a.centroid(t);if(t.length!=this.lastPointersCount_)this.kinetic_&&this.kinetic_.begin();else if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var a=this.lastCentroid[0]-o[0],n=o[1]-this.lastCentroid[1],r=e.map,l=r.getView(),s=l.getState(),p=[a,n];i.a.scale(p,s.resolution),i.a.rotate(p,s.rotation),i.a.add(p,s.center),p=l.constrainCenter(p),l.setCenter(p)}this.lastCentroid=o,this.lastPointersCount_=t.length},p.handleUpEvent_=function(e){var t=e.map,o=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),l=o.getCenter(),s=t.getPixelFromCoordinate(l),d=t.getCoordinateFromPixel([s[0]-a*Math.cos(i),s[1]-a*Math.sin(i)]);o.animate({center:o.constrainCenter(d),duration:500,easing:r.a.easeOut})}return o.setHint(n.a.INTERACTING,-1),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},p.handleDownEvent_=function(e){if(0<this.targetPointers.length&&this.condition_(e)){var t=e.map,o=t.getView();return this.lastCentroid=null,this.handlingDownUpSequence||o.setHint(n.a.INTERACTING,1),o.getHints()[n.a.ANIMATING]&&o.setCenter(e.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0}return!1},p.prototype.shouldStopEvent=s.a.FALSE,t.a=p},function(e,t,o){'use strict';var a=o(0),n=o(78),i=o(17),r=o(35),l=o(12),s=o(23),d=o(47),p=function(e){var t=e?e:{};d.a.call(this,{handleDownEvent:p.handleDownEvent_,handleDragEvent:p.handleDragEvent_,handleUpEvent:p.handleUpEvent_}),this.condition_=t.condition?t.condition:r.a.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=t.duration===void 0?250:t.duration};a.a.inherits(p,d.a),p.handleDragEvent_=function(e){if(r.a.mouseOnly(e)){var t=e.map,o=t.getView();if(o.getConstraints().rotation!==n.a.disable){var a=t.getSize(),i=e.pixel,l=Math.atan2(a[1]/2-i[1],i[0]-a[0]/2);if(void 0!==this.lastAngle_){var d=l-this.lastAngle_,p=o.getRotation();s.a.rotateWithoutConstraints(o,p-d)}this.lastAngle_=l}}},p.handleUpEvent_=function(e){if(!r.a.mouseOnly(e))return!0;var t=e.map,o=t.getView();o.setHint(i.a.INTERACTING,-1);var a=o.getRotation();return s.a.rotate(o,a,void 0,this.duration_),!1},p.handleDownEvent_=function(e){if(!r.a.mouseOnly(e))return!1;if(r.a.mouseActionButton(e)&&this.condition_(e)){var t=e.map;return t.getView().setHint(i.a.INTERACTING,1),this.lastAngle_=void 0,!0}return!1},p.prototype.shouldStopEvent=l.a.FALSE,t.a=p},function(e,t,o){'use strict';var a=o(0),n=o(26),i=o(35),r=o(1),l=o(179),s=function(e){var t=e?e:{},o=t.condition?t.condition:i.a.shiftKeyOnly;this.duration_=t.duration===void 0?200:t.duration,this.out_=t.out!==void 0&&t.out,l.a.call(this,{condition:o,className:t.className||'ol-dragzoom'})};a.a.inherits(s,l.a),s.prototype.onBoxEnd=function(){var e=this.getMap(),t=e.getView(),o=e.getSize(),a=this.getGeometry().getExtent();if(this.out_){var i=t.calculateExtent(o),l=r.a.createOrUpdateFromCoordinates([e.getPixelFromCoordinate(r.a.getBottomLeft(a)),e.getPixelFromCoordinate(r.a.getTopRight(a))]),s=t.getResolutionForExtent(l,o);r.a.scaleFromCenter(i,1/s),a=i}var d=t.constrainResolution(t.getResolutionForExtent(a,o)),p=r.a.getCenter(a);p=t.constrainCenter(p),t.animate({resolution:d,center:p,duration:this.duration_,easing:n.a.easeOut})},t.a=s},function(e,t,o){'use strict';var a=o(16),n=o(0),i=o(35),r=o(47),l=o(180),s=function(e){r.a.call(this,{handleDownEvent:s.handleDownEvent_,handleDragEvent:s.handleDragEvent_,handleUpEvent:s.handleUpEvent_});var t=e?e:{};this.box_=new l.a(t.className||'ol-dragbox'),this.minArea_=t.minArea===void 0?64:t.minArea,this.startPixel_=null,this.condition_=t.condition?t.condition:i.a.always,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:s.defaultBoxEndCondition};n.a.inherits(s,r.a),s.defaultBoxEndCondition=function(e,t,o){var a=o[0]-t[0],n=o[1]-t[1];return a*a+n*n>=this.minArea_},s.handleDragEvent_=function(e){i.a.mouseOnly(e)&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new s.Event(s.EventType_.BOXDRAG,e.coordinate,e)))},s.prototype.getGeometry=function(){return this.box_.getGeometry()},s.prototype.onBoxEnd=n.a.nullFunction,s.handleUpEvent_=function(e){return!i.a.mouseOnly(e)||(this.box_.setMap(null),this.boxEndCondition_(e,this.startPixel_,e.pixel)&&(this.onBoxEnd(e),this.dispatchEvent(new s.Event(s.EventType_.BOXEND,e.coordinate,e))),!1)},s.handleDownEvent_=function(e){return!!i.a.mouseOnly(e)&&i.a.mouseActionButton(e)&&this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new s.Event(s.EventType_.BOXSTART,e.coordinate,e)),!0)},s.EventType_={BOXSTART:'boxstart',BOXDRAG:'boxdrag',BOXEND:'boxend'},s.Event=function(e,t,o){a.a.call(this,e),this.coordinate=t,this.mapBrowserEvent=o},n.a.inherits(s.Event,a.a),t.a=s},function(e,t,o){'use strict';var a=Math.abs,n=Math.min,i=o(0),r=o(55),l=o(44),s=function(e){this.geometry_=null,this.element_=document.createElement('div'),this.element_.style.position='absolute',this.element_.className='ol-box '+e,this.map_=null,this.startPixel_=null,this.endPixel_=null};i.a.inherits(s,r.a),s.prototype.disposeInternal=function(){this.setMap(null)},s.prototype.render_=function(){var e=this.startPixel_,t=this.endPixel_,o='px',i=this.element_.style;i.left=n(e[0],t[0])+o,i.top=n(e[1],t[1])+o,i.width=a(t[0]-e[0])+o,i.height=a(t[1]-e[1])+o},s.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left=t.top=t.width=t.height='inherit'}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},s.prototype.setPixels=function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()},s.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,t=this.endPixel_,o=[e,[e[0],t[1]],t,[t[0],e[1]]],a=o.map(this.map_.getCoordinateFromPixel,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new l.a([a])},s.prototype.getGeometry=function(){return this.geometry_},t.a=s},function(e,t,o){'use strict';var a=o(0),n=o(57),i=o(5),r=o(182),l=o(35),s=o(23),d=function(e){s.a.call(this,{handleEvent:d.handleEvent});var t=e||{};this.defaultCondition_=function(e){return l.a.noModifierKeys(e)&&l.a.targetNotEditable(e)},this.condition_=t.condition===void 0?this.defaultCondition_:t.condition,this.duration_=t.duration===void 0?100:t.duration,this.pixelDelta_=t.pixelDelta===void 0?128:t.pixelDelta};a.a.inherits(d,s.a),d.handleEvent=function(e){var t=!1;if(e.type==i.a.KEYDOWN){var o=e.originalEvent,a=o.keyCode;if(this.condition_(e)&&(a==r.a.DOWN||a==r.a.LEFT||a==r.a.RIGHT||a==r.a.UP)){var l=e.map,d=l.getView(),p=d.getResolution()*this.pixelDelta_,g=0,c=0;a==r.a.DOWN?c=-p:a==r.a.LEFT?g=-p:a==r.a.RIGHT?g=p:c=p;var u=[g,c];n.a.rotate(u,d.getRotation()),s.a.pan(d,u,this.duration_),e.preventDefault(),t=!0}}return!t},t.a=d},function(e,t){'use strict';t.a={LEFT:37,UP:38,RIGHT:39,DOWN:40}},function(e,t,o){'use strict';var a=o(0),n=o(5),i=o(35),r=o(23),l=function(e){r.a.call(this,{handleEvent:l.handleEvent});var t=e?e:{};this.condition_=t.condition?t.condition:i.a.targetNotEditable,this.delta_=t.delta?t.delta:1,this.duration_=t.duration===void 0?100:t.duration};a.a.inherits(l,r.a),l.handleEvent=function(e){var t=!1;if(e.type==n.a.KEYDOWN||e.type==n.a.KEYPRESS){var o=e.originalEvent,a=o.charCode;if(this.condition_(e)&&(a==43||a==45)){var i=e.map,l=a==43?this.delta_:-this.delta_,s=i.getView();r.a.zoomByDelta(s,l,void 0,this.duration_),e.preventDefault(),t=!0}}return!t},t.a=l},function(e,t,o){'use strict';var a=Math.max,n=o(0),i=o(17),r=o(26),l=o(5),s=o(18),d=o(23),p=o(6),g=function(e){d.a.call(this,{handleEvent:g.handleEvent});var t=e||{};this.delta_=0,this.duration_=void 0===t.duration?250:t.duration,this.timeout_=void 0===t.timeout?80:t.timeout,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=t.constrainResolution||!1,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5};n.a.inherits(g,d.a),g.handleEvent=function(e){var t=e.type;if(t!==l.a.WHEEL&&t!==l.a.MOUSEWHEEL)return!0;e.preventDefault();var o=e.map,n=e.originalEvent;this.useAnchor_&&(this.lastAnchor_=e.coordinate);var d;if(e.type==l.a.WHEEL?(d=n.deltaY,s.a.FIREFOX&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(d/=s.a.DEVICE_PIXEL_RATIO),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(d*=40)):e.type==l.a.MOUSEWHEEL&&(d=-n.wheelDeltaY,s.a.SAFARI&&(d/=3)),0===d)return!1;var p=Date.now();if(void 0===this.startTime_&&(this.startTime_=p),(!this.mode_||p-this.startTime_>this.trackpadEventGap_)&&(this.mode_=4>Math.abs(d)?g.Mode_.TRACKPAD:g.Mode_.WHEEL),this.mode_===g.Mode_.TRACKPAD){var c=o.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):c.setHint(i.a.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var u=c.getResolution()*Math.pow(2,d/this.trackpadDeltaPerZoom_),_=c.getMinResolution(),y=c.getMaxResolution(),h=0;if(u<_?(u=a(u,_/this.trackpadZoomBuffer_),h=1):u>y&&(u=Math.min(u,y*this.trackpadZoomBuffer_),h=-1),this.lastAnchor_){var m=c.calculateCenterZoom(u,this.lastAnchor_);c.setCenter(c.constrainCenter(m))}return c.setResolution(u),0==h&&this.constrainResolution_&&c.animate({resolution:c.constrainResolution(u,0<d?-1:1),easing:r.a.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),0<h?c.animate({resolution:_,easing:r.a.easeOut,anchor:this.lastAnchor_,duration:500}):0>h&&c.animate({resolution:y,easing:r.a.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=p,!1}this.delta_+=d;var f=a(this.timeout_-(p-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),f),!1},g.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0;var e=this.getMap().getView();e.setHint(i.a.INTERACTING,-1)},g.prototype.handleWheelZoom_=function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var o=n.a.MOUSEWHEELZOOM_MAXDELTA,a=p.a.clamp(this.delta_,-o,o);d.a.zoomByDelta(t,-a,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},g.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},g.Mode_={TRACKPAD:'trackpad',WHEEL:'wheel'},t.a=g},function(e,t,o){'use strict';var a=o(0),n=o(17),i=o(12),r=o(23),l=o(47),s=o(78),d=function(e){l.a.call(this,{handleDownEvent:d.handleDownEvent_,handleDragEvent:d.handleDragEvent_,handleUpEvent:d.handleUpEvent_});var t=e||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold===void 0?0.3:t.threshold,this.duration_=t.duration===void 0?250:t.duration};a.a.inherits(d,l.a),d.handleDragEvent_=function(e){var t=0,o=this.targetPointers[0],a=this.targetPointers[1],n=Math.atan2(a.clientY-o.clientY,a.clientX-o.clientX);if(void 0!==this.lastAngle_){var i=n-this.lastAngle_;this.rotationDelta_+=i,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=i}this.lastAngle_=n;var d=e.map,p=d.getView();if(p.getConstraints().rotation!==s.a.disable){var g=d.getViewport().getBoundingClientRect(),c=l.a.centroid(this.targetPointers);if(c[0]-=g.left,c[1]-=g.top,this.anchor_=d.getCoordinateFromPixel(c),this.rotating_){var u=p.getRotation();d.render(),r.a.rotateWithoutConstraints(p,u+t,this.anchor_)}}},d.handleUpEvent_=function(e){if(2>this.targetPointers.length){var t=e.map,o=t.getView();if(o.setHint(n.a.INTERACTING,-1),this.rotating_){var a=o.getRotation();r.a.rotate(o,a,this.anchor_,this.duration_)}return!1}return!0},d.handleDownEvent_=function(e){if(2<=this.targetPointers.length){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().setHint(n.a.INTERACTING,1),!0}return!1},d.prototype.shouldStopEvent=i.a.FALSE,t.a=d},function(e,t,o){'use strict';var a=o(0),n=o(17),i=o(12),r=o(23),l=o(47),s=function(e){l.a.call(this,{handleDownEvent:s.handleDownEvent_,handleDragEvent:s.handleDragEvent_,handleUpEvent:s.handleUpEvent_});var t=e?e:{};this.constrainResolution_=t.constrainResolution||!1,this.anchor_=null,this.duration_=t.duration===void 0?400:t.duration,this.lastDistance_=void 0,this.lastScaleDelta_=1};a.a.inherits(s,l.a),s.handleDragEvent_=function(e){var t=1,o=this.targetPointers[0],a=this.targetPointers[1],n=o.clientX-a.clientX,i=o.clientY-a.clientY,s=Math.sqrt(n*n+i*i);this.lastDistance_!==void 0&&(t=this.lastDistance_/s),this.lastDistance_=s;var d=e.map,p=d.getView(),g=p.getResolution(),c=p.getMaxResolution(),u=p.getMinResolution(),_=g*t;_>c?(t=c/g,_=c):_<u&&(t=u/g,_=u),1!=t&&(this.lastScaleDelta_=t);var y=d.getViewport().getBoundingClientRect(),h=l.a.centroid(this.targetPointers);h[0]-=y.left,h[1]-=y.top,this.anchor_=d.getCoordinateFromPixel(h),d.render(),r.a.zoomWithoutConstraints(p,_,this.anchor_)},s.handleUpEvent_=function(e){if(2>this.targetPointers.length){var t=e.map,o=t.getView();o.setHint(n.a.INTERACTING,-1);var a=o.getResolution();if(this.constrainResolution_||a<o.getMinResolution()||a>o.getMaxResolution()){var i=this.lastScaleDelta_-1;r.a.zoom(o,a,this.anchor_,this.duration_,i)}return!1}return!0},s.handleDownEvent_=function(e){if(2<=this.targetPointers.length){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().setHint(n.a.INTERACTING,1),!0}return!1},s.prototype.shouldStopEvent=i.a.FALSE,t.a=s},function(e,t,o){'use strict';var a=o(0),n=o(41),i=o(53),r=o(15),l=o(54),s=o(7),d=o(4),p=o(5),g=o(1),c=o(105),u=o(2),_=o(24),y=function(e){var t=e||{},o=u.a.assign({},t);delete o.layers;var a=t.layers;c.a.call(this,o),this.layersListenerKeys_=[],this.listenerKeys_={},d.a.listen(this,r.a.getChangeEventType(y.Property_.LAYERS),this.handleLayersChanged_,this),a?Array.isArray(a)?a=new n.a(a.slice(),{unique:!0}):(s.a.assert(a instanceof n.a,43),a=a):a=new n.a(void 0,{unique:!0}),this.setLayers(a)};a.a.inherits(y,c.a),y.prototype.createRenderer=function(){},y.prototype.handleLayerChange_=function(){this.changed()},y.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(d.a.unlistenByKey),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push(d.a.listen(e,i.a.ADD,this.handleLayersAdd_,this),d.a.listen(e,i.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(d.a.unlistenByKey);u.a.clear(this.listenerKeys_);var o=e.getArray(),n,r,s;for(n=0,r=o.length;n<r;n++)s=o[n],this.listenerKeys_[a.a.getUid(s).toString()]=[d.a.listen(s,l.a.PROPERTYCHANGE,this.handleLayerChange_,this),d.a.listen(s,p.a.CHANGE,this.handleLayerChange_,this)];this.changed()},y.prototype.handleLayersAdd_=function(e){var t=e.element,o=a.a.getUid(t).toString();this.listenerKeys_[o]=[d.a.listen(t,l.a.PROPERTYCHANGE,this.handleLayerChange_,this),d.a.listen(t,p.a.CHANGE,this.handleLayerChange_,this)],this.changed()},y.prototype.handleLayersRemove_=function(e){var t=e.element,o=a.a.getUid(t).toString();this.listenerKeys_[o].forEach(d.a.unlistenByKey),delete this.listenerKeys_[o],this.changed()},y.prototype.getLayers=function(){return this.get(y.Property_.LAYERS)},y.prototype.setLayers=function(e){this.set(y.Property_.LAYERS,e)},y.prototype.getLayersArray=function(e){var t=void 0===e?[]:e;return this.getLayers().forEach(function(e){e.getLayersArray(t)}),t},y.prototype.getLayerStatesArray=function(e){var t=e===void 0?[]:e,o=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});var a=this.getLayerState(),n,i,r;for(n=o,i=t.length;n<i;n++)r=t[n],r.opacity*=a.opacity,r.visible=r.visible&&a.visible,r.maxResolution=Math.min(r.maxResolution,a.maxResolution),r.minResolution=Math.max(r.minResolution,a.minResolution),void 0!==a.extent&&(void 0===r.extent?r.extent=a.extent:r.extent=g.a.getIntersection(r.extent,a.extent));return t},y.prototype.getSourceState=function(){return _.a.READY},y.Property_={LAYERS:'layers'},t.a=y},function(e,t,o){'use strict';var a=o(25),n=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};n.getKey=function(e,t,o){var n=o?a.a.asString(o):'null';return t+':'+e+':'+n},n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var e=0,t,o;for(t in this.cache_)o=this.cache_[t],0!=(3&e++)||o.hasListener()||(delete this.cache_[t],--this.cacheSize_)}},n.prototype.get=function(e,t,o){var a=n.getKey(e,t,o);return a in this.cache_?this.cache_[a]:null},n.prototype.set=function(e,t,o,a){var i=n.getKey(e,t,o);this.cache_[i]=a,++this.cacheSize_},t.a=n},function(e,t,o){'use strict';var a=Math.round,n=o(13),i=o(0),r=o(3),l=o(34),s=o(8),d=o(48),p=o(64),g=o(36),c=o(21),u=o(108),_=o(80),y=o(37),h=o(24),m=function(e,t){_.a.call(this,e,t),this.context_=s.a.createCanvasContext2D(),this.canvas_=this.context_.canvas,this.canvas_.style.width='100%',this.canvas_.style.height='100%',this.canvas_.style.display='block',this.canvas_.className=l.a.CLASS_UNSELECTABLE,e.insertBefore(this.canvas_,e.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=n.a.create()};i.a.inherits(m,_.a),m.prototype.dispatchComposeEvent_=function(e,t){var o=this.getMap(),a=this.context_;if(o.hasListener(e)){var n=t.extent,i=t.pixelRatio,r=t.viewState,l=r.rotation,s=this.getTransform(t),d=new u.a(a,i,n,s,l),g=new p.a(e,d,t,a,null);o.dispatchEvent(g)}},m.prototype.getTransform=function(e){var t=e.viewState,o=this.canvas_.width/2,a=this.canvas_.height/2,i=e.pixelRatio/t.resolution,r=-t.rotation,l=-t.center[0],s=-t.center[1];return n.a.compose(this.transform_,o,a,i,-i,r,l,s)},m.prototype.getType=function(){return y.a.CANVAS},m.prototype.renderFrame=function(e){if(!e)return void(this.renderedVisible_&&(this.canvas_.style.display='none',this.renderedVisible_=!1));var t=this.context_,o=e.pixelRatio,n=a(e.size[0]*o),l=a(e.size[1]*o);this.canvas_.width!=n||this.canvas_.height!=l?(this.canvas_.width=n,this.canvas_.height=l):t.clearRect(0,0,n,l);var s=e.viewState.rotation;this.calculateMatrices2D(e),this.dispatchComposeEvent_(g.a.PRECOMPOSE,e);var p=e.layerStatesArray;r.a.stableSort(p,_.a.sortByZIndex),s&&(t.save(),c.a.rotateAtOffset(t,s,n/2,l/2));var u=e.viewState.resolution,y,i,m,f,E;for(y=0,i=p.length;y<i;++y)(E=p[y],m=E.layer,f=this.getLayerRenderer(m),d.a.visibleAtResolution(E,u)&&E.sourceState==h.a.READY)&&f.prepareFrame(e,E)&&f.composeFrame(e,E,t);s&&t.restore(),this.dispatchComposeEvent_(g.a.POSTCOMPOSE,e),this.renderedVisible_||(this.canvas_.style.display='',this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e)},m.prototype.forEachLayerAtPixel=function(e,t,o,a,r,l){var s=t.viewState,p=s.resolution,g=t.layerStatesArray,c=g.length,u=n.a.apply(t.pixelToCoordinateTransform,e.slice()),_,y;for(y=c-1;0<=y;--y){var i=g[y],h=i.layer;if(d.a.visibleAtResolution(i,p)&&r.call(l,h)){var m=this.getLayerRenderer(h);if(_=m.forEachLayerAtCoordinate(u,t,o,a),_)return _}}},t.a=m},function(e,t,o){'use strict';var a=o(0),n=o(3),i=o(34),r=o(8),l=o(4),s=o(48),d=o(64),p=o(36),g=o(109),c=o(80),u=o(37),_=o(24),y=o(119),h=o(77),m=o(14),f=o(82),E=o(115);var T},function(e,t,o){'use strict';var a=o(0),n=o(3),i=o(25),r=o(1),l=o(2),s=o(27),d=o(192),p=o(67),g=o(68),c=o(14),u=o(30);var _},function(e,t,o){'use strict';var a=o(0),n=o(39),i=o(40)},function(e,t,o){'use strict';var a=o(0),n=o(114),i=o(30);var r},function(e,t,o){'use strict';var a=o(0),n=o(39),i=o(40)},function(e,t,o){'use strict';var a=o(60),n={};n.lineStringIsClosed=function(e,t,o,n){var i=o-n;return e[t]===e[i]&&e[t+1]===e[i+1]&&3<(o-t)/n&&!!a.a.linearRing(e,t,o,n)}},function(e,t,o){'use strict';var a=o(0),n=o(39),i=o(40)},function(e,t,o){'use strict';var a=Math.max,n=Math.min,i=o(0),r=o(3),l=o(25),s=o(1),d=o(2),p=o(46),g=o(63),c=o(27),u=o(198),_=o(116),y=o(67),h=o(68),m=o(69),f=o(199),E=o(117),T=o(14),S=o(30),x},function(e,t,o){'use strict';var a=o(0),n=o(39),i=o(40)},function(){'use strict';var e=function(e){this.first_=void 0,this.last_=void 0,this.head_=void 0,this.circular_=!(e!==void 0)||e,this.length_=0};e.prototype.insertItem=function(e){var t={prev:void 0,next:void 0,data:e},o=this.head_;if(!o)this.first_=t,this.last_=t,this.circular_&&(t.next=t,t.prev=t);else{var a=o.next;t.prev=o,t.next=a,o.next=t,a&&(a.prev=t),o===this.last_&&(this.last_=t)}this.head_=t,this.length_++},e.prototype.removeItem=function(){var e=this.head_;if(e){var t=e.next,o=e.prev;t&&(t.prev=o),o&&(o.next=t),this.head_=t||o,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===e?this.first_=this.head_:this.last_===e&&(this.last_=o?this.head_.prev:this.head_),this.length_--}},e.prototype.firstItem=function(){return this.head_=this.first_,this.head_?this.head_.data:void 0},e.prototype.lastItem=function(){return this.head_=this.last_,this.head_?this.head_.data:void 0},e.prototype.nextItem=function(){return this.head_&&this.head_.next?(this.head_=this.head_.next,this.head_.data):void 0},e.prototype.getNextItem=function(){return this.head_&&this.head_.next?this.head_.next.data:void 0},e.prototype.prevItem=function(){return this.head_&&this.head_.prev?(this.head_=this.head_.prev,this.head_.data):void 0},e.prototype.getPrevItem=function(){return this.head_&&this.head_.prev?this.head_.prev.data:void 0},e.prototype.getCurrItem=function(){return this.head_?this.head_.data:void 0},e.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},e.prototype.concat=function(e){if(e.head_){if(this.head_){var t=this.head_.next;this.head_.next=e.first_,e.first_.prev=this.head_,t.prev=e.last_,e.last_.next=t,this.length_+=e.length_}else this.head_=e.head_,this.first_=e.first_,this.last_=e.last_,this.length_=e.length_;e.head_=void 0,e.first_=void 0,e.last_=void 0,e.length_=0}},e.prototype.getLength=function(){return this.length_}},function(e){'use strict';function t(e,r,l,d,p){for(l=l||0,d=d||e.length-1,p=p||a;d>l;){if(600<d-l){var g=d-l+1,n=r-l+1,c=Math.log(g),u=0.5*Math.exp(2*c/3),s=0.5*Math.sqrt(c*u*(g-u)/g)*(0>n-g/2?-1:1),_=Math.max(l,i(r-n*u/g+s)),y=Math.min(d,i(r+(g-n)*u/g+s));t(e,r,_,y,p)}var h=e[r],m=l,f=d;for(o(e,l,r),0<p(e[d],h)&&o(e,l,d);m<f;){for(o(e,m,f),m++,f--;0>p(e[m],h);)m++;for(;0<p(e[f],h);)f--}0===p(e[l],h)?o(e,l,f):(f++,o(e,f,d)),f<=r&&(l=f+1),r<=f&&(d=f-1)}}function o(e,t,o){var a=e[t];e[t]=e[o],e[o]=a}function a(e,t){return e<t?-1:e>t?1:0}var i=Math.floor;e.exports=t},function(e,t,o){'use strict';var a=Math.round,n=Math.ceil,i=o(0),r=o(38),l=o(8),s=o(18),d=o(68),p=o(114),g=o(202),c=o(30),u},function(e,t,o){'use strict';var a=Math.min,n=o(0),i=o(203),r=function(e){var t=e||{};this.currentSize_=void 0===t.initialSize?n.a.INITIAL_ATLAS_SIZE:t.initialSize,this.maxSize_=void 0===t.maxSize?-1==n.a.MAX_ATLAS_SIZE?void 0===n.a.WEBGL_MAX_TEXTURE_SIZE?2048:n.a.WEBGL_MAX_TEXTURE_SIZE:n.a.MAX_ATLAS_SIZE:t.maxSize,this.space_=void 0===t.space?1:t.space,this.atlases_=[new i.a(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new i.a(this.currentHitSize_,this.space_)]};r.prototype.getInfo=function(e){var t=this.getInfo_(this.atlases_,e);if(!t)return null;var o=this.getInfo_(this.hitAtlases_,e);return this.mergeInfos_(t,o)},r.prototype.getInfo_=function(e,t){var o,a,n,i;for(n=0,i=e.length;n<i;++n)if(o=e[n],a=o.get(t),a)return a;return null},r.prototype.mergeInfos_=function(e,t){return{offsetX:e.offsetX,offsetY:e.offsetY,image:e.image,hitImage:t.image}},r.prototype.add=function(e,t,o,a,i,r){if(t+this.space_>this.maxSize_||o+this.space_>this.maxSize_)return null;var l=this.add_(!1,e,t,o,a,r);if(!l)return null;var s=i===void 0?n.a.nullFunction:i,d=this.add_(!0,e,t,o,s,r);return this.mergeInfos_(l,d)},r.prototype.add_=function(e,t,o,n,r,l){var s=e?this.hitAtlases_:this.atlases_,d,p,g,c;for(g=0,c=s.length;g<c;++g){if(d=s[g],p=d.add(t,o,n,r,l),p)return p;if(!p&&g===c-1){var u;e?(u=a(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=u):(u=a(2*this.currentSize_,this.maxSize_),this.currentSize_=u),d=new i.a(u,this.space_),s.push(d),++c}}return null}},function(e,t,o){'use strict';var a=o(8),n=function(e,t){this.space_=t,this.emptyBlocks_=[{x:0,y:0,width:e,height:e}],this.entries_={},this.context_=a.a.createCanvasContext2D(e,e),this.canvas_=this.context_.canvas};n.prototype.get=function(e){return this.entries_[e]||null},n.prototype.add=function(e,t,o,a,n){var r,l,i;for(l=0,i=this.emptyBlocks_.length;l<i;++l)if(r=this.emptyBlocks_[l],r.width>=t+this.space_&&r.height>=o+this.space_){var s={offsetX:r.x+this.space_,offsetY:r.y+this.space_,image:this.canvas_};return this.entries_[e]=s,a.call(n,this.context_,r.x+this.space_,r.y+this.space_),this.split_(l,r,t+this.space_,o+this.space_),s}return null},n.prototype.split_=function(e,t,o,a){var n=t.width-o,i=t.height-a,r,l;n>i?(r={x:t.x+o,y:t.y,width:t.width-o,height:t.height},l={x:t.x,y:t.y+a,width:o,height:t.height-a},this.updateBlocks_(e,r,l)):(r={x:t.x+o,y:t.y,width:t.width-o,height:a},l={x:t.x,y:t.y+a,width:t.width,height:t.height-a},this.updateBlocks_(e,r,l))},n.prototype.updateBlocks_=function(e,t,o){var a=[e,1];0<t.width&&0<t.height&&a.push(t),0<o.width&&0<o.height&&a.push(o),this.emptyBlocks_.splice.apply(this.emptyBlocks_,a)},t.a=n},function(e,t,o){'use strict';var a=Math.round,n=o(0),i=o(57),r=o(8),l=o(1),s=o(123),d=o(13),p=function(e){s.a.call(this,e),this.coordinateToCanvasPixelTransform=d.a.create(),this.hitCanvasContext_=null};n.a.inherits(p,s.a),p.prototype.composeFrame=function(e,t,o){this.preCompose(o,e);var n=this.getImage();if(n){var i=t.extent,r=i!==void 0&&!l.a.containsExtent(i,e.extent)&&l.a.intersects(i,e.extent);r&&this.clip(o,e,i);var s=this.getImageTransform(),d=o.globalAlpha;o.globalAlpha=t.opacity;var p=s[4],g=s[5],c=n.width*s[0],u=n.height*s[3];o.drawImage(n,0,0,+n.width,+n.height,a(p),a(g),a(c),a(u)),o.globalAlpha=d,r&&o.restore()}this.postCompose(o,e,t)},p.prototype.getImage=function(){},p.prototype.getImageTransform=function(){},p.prototype.forEachFeatureAtCoordinate=function(e,t,o,a,n){var i=this.getLayer(),r=i.getSource(),l=t.viewState.resolution,s=t.viewState.rotation,d=t.skippedFeatureUids;return r.forEachFeatureAtCoordinate(e,l,s,o,d,function(e){return a.call(n,e,i)})},p.prototype.forEachLayerAtCoordinate=function(e,t,o,a){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==n.a.nullFunction)return s.a.prototype.forEachLayerAtCoordinate.apply(this,arguments);var l=d.a.apply(this.coordinateToCanvasPixelTransform,e.slice());i.a.scale(l,t.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=r.a.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),l[0],l[1],1,1,0,0,1,1);var p=this.hitCanvasContext_.getImageData(0,0,1,1).data;return 0<p[3]?o.call(a,this.getLayer(),p):void 0}},t.a=p},function(e,t,o){'use strict';var a=Math.round,n=o(0),i=o(11),r=o(70),l=o(3),s=o(1),d=o(6),p=o(125),g=o(207),c=o(31),u=o(13),_=o(14),y=o(30),h},function(e,t,o){'use strict';var a=o(0),n=o(39),i=o(40)},function(e,t,o){'use strict';var a=o(0),n=o(39),i=o(40)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(0),n=o(71),i=o(210),r=o(72),l=function(e){var t=e.layer.indexOf('-'),o=-1==t?e.layer:e.layer.slice(0,t),a=l.ProviderConfig[o],n=l.LayerConfig[e.layer],i=e.url===void 0?'https://stamen-tiles-{a-d}.a.ssl.fastly.net/'+e.layer+'/{z}/{x}/{y}.'+n.extension:e.url;r['default'].call(this,{attributions:l.ATTRIBUTIONS,cacheSize:e.cacheSize,crossOrigin:'anonymous',maxZoom:e.maxZoom==void 0?a.maxZoom:e.maxZoom,minZoom:e.minZoom==void 0?a.minZoom:e.minZoom,opaque:n.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:i,wrapX:e.wrapX})};a.a.inherits(l,r['default']),l.ATTRIBUTIONS=[new n.a({html:'Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),i.a.ATTRIBUTION],l.LayerConfig={terrain:{extension:'jpg',opaque:!0},"terrain-background":{extension:'jpg',opaque:!0},"terrain-labels":{extension:'png',opaque:!1},"terrain-lines":{extension:'png',opaque:!1},"toner-background":{extension:'png',opaque:!0},toner:{extension:'png',opaque:!0},"toner-hybrid":{extension:'png',opaque:!1},"toner-labels":{extension:'png',opaque:!1},"toner-lines":{extension:'png',opaque:!1},"toner-lite":{extension:'png',opaque:!0},watercolor:{extension:'jpg',opaque:!0}},l.ProviderConfig={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}},t['default']=l},function(e,t,o){'use strict';var a=Math.floor,n=Math.ceil,i=Math.max,r=Math.min,l=o(0),s=o(7),d=o(70),p=o(3),g=o(1),c=o(6),u=o(31),_=o(83),y=function(e){this.minZoom=void 0===e.minZoom?0:e.minZoom,this.resolutions_=e.resolutions,s.a.assert(p.a.isSorted(this.resolutions_,function(e,t){return t-e},!0),17),this.maxZoom=this.resolutions_.length-1,this.origin_=void 0===e.origin?null:e.origin,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,s.a.assert(this.origins_.length==this.resolutions_.length,20));var t=e.extent;void 0===t||this.origin_||this.origins_||(this.origin_=g.a.getTopLeft(t)),s.a.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,s.a.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0===e.tileSize?this.tileSizes_?null:l.a.DEFAULT_TILE_SIZE:e.tileSize,s.a.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0===t?null:t,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0===e.sizes?t&&this.calculateTileRanges_(t):this.fullTileRanges_=e.sizes.map(function(e){var t=new d.a(r(0,e[0]),i(e[0]-1,-1),r(0,e[1]),i(e[1]-1,-1));return t},this)};y.tmpTileCoord_=[0,0,0],y.prototype.forEachTileCoord=function(e,t,o){for(var a=this.getTileRangeForExtentAndZ(e,t),n=a.minX,i=a.maxX;n<=i;++n)for(var r=a.minY,l=a.maxY;r<=l;++r)o([t,n,r])},y.prototype.forEachTileCoordParentTileRange=function(e,t,o,a,n){for(var i=this.getTileCoordExtent(e,n),r=e[0]-1;r>=this.minZoom;){if(t.call(o,r,this.getTileRangeForExtentAndZ(i,r,a)))return!0;--r}return!1},y.prototype.getExtent=function(){return this.extent_},y.prototype.getMaxZoom=function(){return this.maxZoom},y.prototype.getMinZoom=function(){return this.minZoom},y.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},y.prototype.getResolution=function(e){return this.resolutions_[e]},y.prototype.getResolutions=function(){return this.resolutions_},y.prototype.getTileCoordChildTileRange=function(e,t,o){if(e[0]<this.maxZoom){var a=this.getTileCoordExtent(e,o);return this.getTileRangeForExtentAndZ(a,e[0]+1,t)}return null},y.prototype.getTileRangeExtent=function(e,t,o){var a=this.getOrigin(e),n=this.getResolution(e),i=u.a.toSize(this.getTileSize(e),this.tmpSize_),r=a[0]+t.minX*i[0]*n,l=a[0]+(t.maxX+1)*i[0]*n,s=a[1]+t.minY*i[1]*n,d=a[1]+(t.maxY+1)*i[1]*n;return g.a.createOrUpdate(r,s,l,d,o)},y.prototype.getTileRangeForExtentAndResolution=function(e,t,o){var a=y.tmpTileCoord_;this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,a);var n=a[1],i=a[2];return this.getTileCoordForXYAndResolution_(e[2],e[3],t,!0,a),d.a.createOrUpdate(n,a[1],i,a[2],o)},y.prototype.getTileRangeForExtentAndZ=function(e,t,o){var a=this.getResolution(t);return this.getTileRangeForExtentAndResolution(e,a,o)},y.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),o=this.getResolution(e[0]),a=u.a.toSize(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+0.5)*a[0]*o,t[1]+(e[2]+0.5)*a[1]*o]},y.prototype.getTileCoordExtent=function(e,t){var o=this.getOrigin(e[0]),a=this.getResolution(e[0]),n=u.a.toSize(this.getTileSize(e[0]),this.tmpSize_),i=o[0]+e[1]*n[0]*a,r=o[1]+e[2]*n[1]*a,l=i+n[0]*a,s=r+n[1]*a;return g.a.createOrUpdate(i,r,l,s,t)},y.prototype.getTileCoordForCoordAndResolution=function(e,t,o){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,o)},y.prototype.getTileCoordForXYAndResolution_=function(e,t,o,i,r){var l=this.getZForResolution(o),s=o/this.getResolution(l),d=this.getOrigin(l),p=u.a.toSize(this.getTileSize(l),this.tmpSize_),g=i?0.5:0,c=i?0:0.5,y=a((e-d[0])/o+g),h=a((t-d[1])/o+c),m=s*y/p[0],f=s*h/p[1];return i?(m=n(m)-1,f=n(f)-1):(m=a(m),f=a(f)),_.a.createOrUpdate(l,m,f,r)},y.prototype.getTileCoordForCoordAndZ=function(e,t,o){var a=this.getResolution(t);return this.getTileCoordForXYAndResolution_(e[0],e[1],a,!1,o)},y.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},y.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},y.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:null},y.prototype.getZForResolution=function(e,t){var o=p.a.linearFindNearest(this.resolutions_,e,t||0);return c.a.clamp(o,this.minZoom,this.maxZoom)},y.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,o=Array(t),a=this.minZoom;a<t;++a)o[a]=this.getTileRangeForExtentAndZ(e,a);this.fullTileRanges_=o},t.a=y},function(e,t,o){'use strict';var a=o(0),n=o(71),i=o(72),r=function(e){var t=e||{},o;o=void 0===t.attributions?[r.ATTRIBUTION]:t.attributions;var a=t.crossOrigin===void 0?'anonymous':t.crossOrigin,n=t.url===void 0?'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png':t.url;i['default'].call(this,{attributions:o,cacheSize:t.cacheSize,crossOrigin:a,opaque:!(t.opaque!==void 0)||t.opaque,maxZoom:t.maxZoom===void 0?19:t.maxZoom,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:n,wrapX:t.wrapX})};a.a.inherits(r,i['default']),r.ATTRIBUTION=new n.a({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'}),t.a=r},function(e,t,o){'use strict';var a=o(0),n=o(73),i=o(11),r=o(8),l=o(4),s=o(5),d=function(e,t,o,a,i){n.a.call(this,e,t),this.src_=o,this.image_=new Image,null!==a&&(this.image_.crossOrigin=a),this.imageListenerKeys_=null,this.tileLoadFunction_=i};a.a.inherits(d,n.a),d.prototype.disposeInternal=function(){this.state==i.a.LOADING&&(this.unlistenImage_(),this.image_.src=d.blankImage.toDataURL('image/png')),this.interimTile&&this.interimTile.dispose(),this.state=i.a.ABORT,this.changed(),n.a.prototype.disposeInternal.call(this)},d.prototype.getImage=function(){return this.image_},d.prototype.getKey=function(){return this.src_},d.prototype.handleImageError_=function(){this.state=i.a.ERROR,this.unlistenImage_(),this.image_=d.blankImage,this.changed()},d.prototype.handleImageLoad_=function(){this.state=this.image_.naturalWidth&&this.image_.naturalHeight?i.a.LOADED:i.a.EMPTY,this.unlistenImage_(),this.changed()},d.prototype.load=function(){(this.state==i.a.IDLE||this.state==i.a.ERROR)&&(this.state=i.a.LOADING,this.changed(),this.imageListenerKeys_=[l.a.listenOnce(this.image_,s.a.ERROR,this.handleImageError_,this),l.a.listenOnce(this.image_,s.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},d.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(l.a.unlistenByKey),this.imageListenerKeys_=null},d.blankImage=function(){var e=r.a.createCanvasContext2D(1,1);return e.fillStyle='rgba(0,0,0,0)',e.fillRect(0,0,1,1),e.canvas}(),t.a=d},function(e,t,o){'use strict';var a=o(0),n=o(73),i=o(11),r=o(4),l=o(5),s=o(1),d=o(6),p=o(213),g=o(214),c=function(e,t,o,r,l,c,u,_,y,h,m){n.a.call(this,l,i.a.IDLE),this.renderEdges_=void 0!==m&&m,this.pixelRatio_=u,this.gutter_=_,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=c?c:l,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var f=r.getTileCoordExtent(this.wrappedTileCoord_),E=this.targetTileGrid_.getExtent(),T=this.sourceTileGrid_.getExtent(),S=E?s.a.getIntersection(f,E):f;if(0===s.a.getArea(S))return void(this.state=i.a.EMPTY);var x=e.getExtent();x&&(T?T=s.a.getIntersection(T,x):T=x);var C=r.getResolution(this.wrappedTileCoord_[0]),R=s.a.getCenter(S),I=p.a.calculateSourceResolution(e,o,R,C);if(!isFinite(I)||0>=I)return void(this.state=i.a.EMPTY);var L=void 0===h?a.a.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD:h;if(this.triangulation_=new g.a(e,o,S,T,I*L),0===this.triangulation_.getTriangles().length)return void(this.state=i.a.EMPTY);this.sourceZ_=t.getZForResolution(I);var v=this.triangulation_.calculateSourceExtent();if(T&&(e.canWrapX()?(v[1]=d.a.clamp(v[1],T[1],T[3]),v[3]=d.a.clamp(v[3],T[1],T[3])):v=s.a.getIntersection(v,T)),!s.a.getArea(v))this.state=i.a.EMPTY;else{for(var O=t.getTileRangeForExtentAndZ(v,this.sourceZ_),P=O.minX;P<=O.maxX;P++)for(var A=O.minY,b;A<=O.maxY;A++)b=y(this.sourceZ_,P,A,u),b&&this.sourceTiles_.push(b);0===this.sourceTiles_.length&&(this.state=i.a.EMPTY)}};a.a.inherits(c,n.a),c.prototype.disposeInternal=function(){this.state==i.a.LOADING&&this.unlistenSources_(),n.a.prototype.disposeInternal.call(this)},c.prototype.getImage=function(){return this.canvas_},c.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(t){t&&t.getState()==i.a.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})},this),this.sourceTiles_.length=0,0===e.length)this.state=i.a.ERROR;else{var t=this.wrappedTileCoord_[0],o=this.targetTileGrid_.getTileSize(t),a='number'==typeof o?o:o[0],n='number'==typeof o?o:o[1],r=this.targetTileGrid_.getResolution(t),l=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=p.a.render(a,n,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),r,s,this.triangulation_,e,this.gutter_,this.renderEdges_),this.state=i.a.LOADED}this.changed()},c.prototype.load=function(){if(this.state==i.a.IDLE){this.state=i.a.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t){var o=t.getState();if(o==i.a.IDLE||o==i.a.LOADING){e++;var a;a=r.a.listen(t,l.a.CHANGE,function(){var o=t.getState();(o==i.a.LOADED||o==i.a.ERROR||o==i.a.EMPTY)&&(r.a.unlistenByKey(a),e--,0==e&&(this.unlistenSources_(),this.reproject_()))},this),this.sourcesListenerKeys_.push(a)}},this),this.sourceTiles_.forEach(function(e){var t=e.getState();t==i.a.IDLE&&e.load()}),0==e&&setTimeout(this.reproject_.bind(this),0)}},c.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(r.a.unlistenByKey),this.sourcesListenerKeys_=null},t.a=c},function(e,t,o){'use strict';var a=Math.round,n=o(8),i=o(1),r=o(6),l=o(10),s={};s.calculateSourceResolution=function(e,t,o,a){var n=l['default'].transform(o,t,e),r=l['default'].getPointResolution(t,a,o),s=t.getMetersPerUnit();s!==void 0&&(r*=s);var d=e.getMetersPerUnit();d!==void 0&&(r/=d);var p=e.getExtent();if(!p||i.a.containsCoordinate(p,n)){var g=l['default'].getPointResolution(e,r,n)/r;isFinite(g)&&0<g&&(r/=g)}return r},s.enlargeClipPoint_=function(e,t,o,n){var i=o-e,r=n-t,l=Math.sqrt(i*i+r*r);return[a(o+i/l),a(n+r/l)]},s.render=function(e,t,o,l,d,p,g,c,u,_,y){var h=n.a.createCanvasContext2D(a(o*e),a(o*t));if(0===u.length)return h.canvas;h.scale(o,o);var m=i.a.createEmpty();u.forEach(function(e){i.a.extend(m,e.extent)});var f=i.a.getWidth(m),E=i.a.getHeight(m),T=n.a.createCanvasContext2D(a(o*f/l),a(o*E/l)),S=o/l;u.forEach(function(e){var t=e.extent[0]-m[0],o=-(e.extent[3]-m[3]),a=i.a.getWidth(e.extent),n=i.a.getHeight(e.extent);T.drawImage(e.image,_,_,e.image.width-2*_,e.image.height-2*_,t*S,o*S,a*S,n*S)});var x=i.a.getTopLeft(g);return c.getTriangles().forEach(function(e){var t=e.source,a=e.target,n=t[0][0],i=t[0][1],d=t[1][0],g=t[1][1],c=t[2][0],u=t[2][1],_=(a[0][0]-x[0])/p,y=-(a[0][1]-x[1])/p,f=(a[1][0]-x[0])/p,E=-(a[1][1]-x[1])/p,S=(a[2][0]-x[0])/p,C=-(a[2][1]-x[1])/p,R=n,I=i;n=0,i=0,d-=R,g-=I,c-=R,u-=I;var L=[[d,g,0,0,f-_],[c,u,0,0,S-_],[0,0,d,g,E-y],[0,0,c,u,C-y]],v=r.a.solveLinearSystem(L);if(v){h.save(),h.beginPath();var O=(_+f+S)/3,P=(y+E+C)/3,A=s.enlargeClipPoint_(O,P,_,y),b=s.enlargeClipPoint_(O,P,f,E),F=s.enlargeClipPoint_(O,P,S,C);h.moveTo(b[0],b[1]),h.lineTo(A[0],A[1]),h.lineTo(F[0],F[1]),h.clip(),h.transform(v[0],v[2],v[1],v[3],_,y),h.translate(m[0]-R,m[3]-I),h.scale(l/o,-l/o),h.drawImage(T.canvas,0,0),h.restore()}}),y&&(h.save(),h.strokeStyle='black',h.lineWidth=1,c.getTriangles().forEach(function(e){var t=e.target,o=(t[0][0]-x[0])/p,a=-(t[0][1]-x[1])/p,n=(t[1][0]-x[0])/p,i=-(t[1][1]-x[1])/p,r=(t[2][0]-x[0])/p,l=-(t[2][1]-x[1])/p;h.beginPath(),h.moveTo(n,i),h.lineTo(o,a),h.lineTo(r,l),h.closePath(),h.stroke()}),h.restore()),h.canvas},t.a=s},function(e,t,o){'use strict';var n=Math.abs,a=Math.max,i=Math.min,r=o(0),l=o(1),s=o(6),d=o(10),p=function(e,t,o,n,s){this.sourceProj_=e,this.targetProj_=t;var p={},g=d['default'].getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+'/'+e[1];return p[t]||(p[t]=g(e)),p[t]},this.maxSourceExtent_=n,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&l.a.getWidth(n)==l.a.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?l.a.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?l.a.getWidth(this.targetProj_.getExtent()):null;var c=l.a.getTopLeft(o),u=l.a.getTopRight(o),_=l.a.getBottomRight(o),y=l.a.getBottomLeft(o),h=this.transformInv_(c),m=this.transformInv_(u),f=this.transformInv_(_),E=this.transformInv_(y);if(this.addQuad_(c,u,_,y,h,m,f,E,r.a.RASTER_REPROJECTION_MAX_SUBDIVISION),this.wrapsXInSource_){var T=Infinity;this.triangles_.forEach(function(e){T=i(T,e.source[0][0],e.source[1][0],e.source[2][0])}),this.triangles_.forEach(function(e){if(a(e.source[0][0],e.source[1][0],e.source[2][0])-T>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-T>this.sourceWorldWidth_/2&&(t[0][0]-=this.sourceWorldWidth_),t[1][0]-T>this.sourceWorldWidth_/2&&(t[1][0]-=this.sourceWorldWidth_),t[2][0]-T>this.sourceWorldWidth_/2&&(t[2][0]-=this.sourceWorldWidth_);var o=i(t[0][0],t[1][0],t[2][0]),n=a(t[0][0],t[1][0],t[2][0]);n-o<this.sourceWorldWidth_/2&&(e.source=t)}},this)}p={}};p.prototype.addTriangle_=function(e,t,o,a,n,i){this.triangles_.push({source:[a,n,i],target:[e,t,o]})},p.prototype.addQuad_=function(e,t,o,a,i,d,p,g,c){var u=l.a.boundingExtent([i,d,p,g]),_=this.sourceWorldWidth_?l.a.getWidth(u)/this.sourceWorldWidth_:null,y=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&0.5<_&&1>_,m=!1;if(0<c){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var f=l.a.boundingExtent([e,t,o,a]),E=l.a.getWidth(f)/this.targetWorldWidth_;m|=E>r.a.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}!h&&this.sourceProj_.isGlobal()&&_&&(m|=_>r.a.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH)}if(m||!this.maxSourceExtent_||l.a.intersects(u,this.maxSourceExtent_)){if(!m&&(!isFinite(i[0])||!isFinite(i[1])||!isFinite(d[0])||!isFinite(d[1])||!isFinite(p[0])||!isFinite(p[1])||!isFinite(g[0])||!isFinite(g[1])))if(0<c)m=!0;else return;if(0<c){if(!m){var T=[(e[0]+o[0])/2,(e[1]+o[1])/2],S=this.transformInv_(T),x;if(h){var C=(s.a.modulo(i[0],y)+s.a.modulo(p[0],y))/2;x=C-s.a.modulo(S[0],y)}else x=(i[0]+p[0])/2-S[0];var R=(i[1]+p[1])/2-S[1],I=x*x+R*R;m=I>this.errorThresholdSquared_}if(m){if(n(e[0]-o[0])<=n(e[1]-o[1])){var L=[(t[0]+o[0])/2,(t[1]+o[1])/2],v=this.transformInv_(L),O=[(a[0]+e[0])/2,(a[1]+e[1])/2],P=this.transformInv_(O);this.addQuad_(e,t,L,O,i,d,v,P,c-1),this.addQuad_(O,L,o,a,P,v,p,g,c-1)}else{var A=[(e[0]+t[0])/2,(e[1]+t[1])/2],b=this.transformInv_(A),F=[(o[0]+a[0])/2,(o[1]+a[1])/2],D=this.transformInv_(F);this.addQuad_(e,A,F,a,i,b,D,g,c-1),this.addQuad_(A,t,o,F,b,d,p,D,c-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(e,o,a,i,p,g),this.addTriangle_(e,t,o,i,d,p)}},p.prototype.calculateSourceExtent=function(){var e=l.a.createEmpty();return this.triangles_.forEach(function(t){var o=t.source;l.a.extendCoordinate(e,o[0]),l.a.extendCoordinate(e,o[1]),l.a.extendCoordinate(e,o[2])}),e},p.prototype.getTriangles=function(){return this.triangles_},t.a=p},function(e,t,o){'use strict';var a=o(0),n=o(127),i=o(11),r=o(16),l=o(10),s=o(31),d=o(130),p=o(83),g=o(32),c=function(e){d.a.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=e.opaque!==void 0&&e.opaque,this.tilePixelRatio_=e.tilePixelRatio===void 0?1:e.tilePixelRatio,this.tileGrid=e.tileGrid===void 0?null:e.tileGrid,this.tileCache=new n.a(e.cacheSize),this.tmpSize=[0,0],this.key_=''};a.a.inherits(c,d.a),c.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},c.prototype.expireCache=function(e,t){var o=this.getTileCacheForProjection(e);o&&o.expireCache(t)},c.prototype.forEachLoadedTile=function(e,t,o,a){var n=this.getTileCacheForProjection(e);if(!n)return!1;for(var r=!0,l=o.minX,s,d,p;l<=o.maxX;++l)for(var g=o.minY;g<=o.maxY;++g)d=this.getKeyZXY(t,l,g),p=!1,n.containsKey(d)&&(s=n.get(d),p=s.getState()===i.a.LOADED,p&&(p=!1!==a(s))),p||(r=!1);return r},c.prototype.getGutter=function(){return 0},c.prototype.getKey=function(){return this.key_},c.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},c.prototype.getKeyZXY=p.a.getKeyZXY,c.prototype.getOpaque=function(){return this.opaque_},c.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},c.prototype.getTile=function(){},c.prototype.getTileGrid=function(){return this.tileGrid},c.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:g.a.getForProjection(e)},c.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();return t&&!l['default'].equivalent(t,e)?null:this.tileCache},c.prototype.getTilePixelRatio=function(){return this.tilePixelRatio_},c.prototype.getTilePixelSize=function(e,t,o){var a=this.getTileGridForProjection(o),n=this.getTilePixelRatio(t),i=s.a.toSize(a.getTileSize(e),this.tmpSize);return 1==n?i:s.a.scale(i,n,this.tmpSize)},c.prototype.getTileCoordForTileUrlFunction=function(e,t){var o=void 0===t?this.getProjection():t,a=this.getTileGridForProjection(o);return this.getWrapX()&&o.isGlobal()&&(e=g.a.wrapX(a,e,o)),p.a.withinExtentAndZ(e,a)?e:null},c.prototype.refresh=function(){this.tileCache.clear(),this.changed()},c.prototype.useTile=a.a.nullFunction,c.Event=function(e,t){r.a.call(this,e),this.tile=t},a.a.inherits(c.Event,r.a),t.a=c},function(e,t){'use strict';t.a={TILELOADSTART:'tileloadstart',TILELOADEND:'tileloadend',TILELOADERROR:'tileloaderror'}},function(e,t,o){'use strict';var a=o(0),n=o(17),i=o(8),r=o(1),l=o(36),s=o(21),d=o(131),p=o(123),g=o(85),c=function(e){p.a.call(this,e),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=r.a.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.context_=i.a.createCanvasContext2D()};a.a.inherits(c,p.a),c.prototype.composeFrame=function(e,t,o){var a=e.extent,n=e.pixelRatio,i=t.managed?e.skippedFeatureUids:{},d=e.viewState,p=d.projection,g=d.rotation,c=p.getExtent(),u=this.getLayer().getSource(),_=this.getTransform(e,0);this.preCompose(o,e,_);var y=t.extent,h=y!==void 0;h&&this.clip(o,e,y);var m=this.replayGroup_;if(m&&!m.isEmpty()){var f=this.getLayer(),E=0,T=0,S=1!==t.opacity,x=f.hasListener(l.a.RENDER),C;if(S||x){var R=o.canvas.width,I=o.canvas.height;if(g){var L=Math.round(Math.sqrt(R*R+I*I));E=(L-R)/2,T=(L-I)/2,R=I=L}this.context_.canvas.width=R,this.context_.canvas.height=I,C=this.context_}else C=o;var v=C.globalAlpha;S||(C.globalAlpha=t.opacity),C!=o&&C.translate(E,T);var O=e.size[0]*n,P=e.size[1]*n;if(s.a.rotateAtOffset(C,-g,O/2,P/2),m.replay(C,n,_,g,i),u.getWrapX()&&p.canWrapX()&&!r.a.containsExtent(c,a)){for(var A=a[0],b=r.a.getWidth(c),F=0,D;A<c[0];)--F,D=b*F,_=this.getTransform(e,D),m.replay(C,n,_,g,i),A+=b;for(F=0,A=a[2];A>c[2];)++F,D=b*F,_=this.getTransform(e,D),m.replay(C,n,_,g,i),A-=b;_=this.getTransform(e,0)}if(s.a.rotateAtOffset(C,g,O/2,P/2),C!=o){if(x&&this.dispatchRenderEvent(C,e,_),S){var w=o.globalAlpha;o.globalAlpha=t.opacity,o.drawImage(C.canvas,-E,-T),o.globalAlpha=w}else o.drawImage(C.canvas,-E,-T);C.translate(-E,-T)}S||(C.globalAlpha=v)}h&&o.restore(),this.postCompose(o,e,t,_)},c.prototype.forEachFeatureAtCoordinate=function(e,t,o,n,i){if(this.replayGroup_){var r=t.viewState.resolution,l=t.viewState.rotation,s=this.getLayer(),d={};return this.replayGroup_.forEachFeatureAtCoordinate(e,r,l,o,{},function(e){var t=a.a.getUid(e).toString();if(!(t in d))return d[t]=!0,n.call(i,e,s)})}},c.prototype.handleStyleImageChange_=function(){this.renderIfReadyAndVisible()},c.prototype.prepareFrame=function(e){var t=this.getLayer(),o=t.getSource();this.updateAttributions(e.attributions,o.getAttributions()),this.updateLogos(e,o);var a=e.viewHints[n.a.ANIMATING],l=e.viewHints[n.a.INTERACTING],s=t.getUpdateWhileAnimating(),p=t.getUpdateWhileInteracting();if(!this.dirty_&&!s&&a||!p&&l)return!0;var c=e.extent,u=e.viewState,_=u.projection,y=u.resolution,h=e.pixelRatio,m=t.getRevision(),f=t.getRenderBuffer(),E=t.getRenderOrder();void 0===E&&(E=g.a.defaultOrder);var T=r.a.buffer(c,f*y),S=u.projection.getExtent();if(o.getWrapX()&&u.projection.canWrapX()&&!r.a.containsExtent(S,e.extent)){var x=r.a.getWidth(S),C=Math.max(r.a.getWidth(T)/2,x);T[0]=S[0]-C,T[2]=S[2]+C}if(!this.dirty_&&this.renderedResolution_==y&&this.renderedRevision_==m&&this.renderedRenderOrder_==E&&r.a.containsExtent(this.renderedExtent_,T))return!0;this.replayGroup_=null,this.dirty_=!1;var R=new d.a(g.a.getTolerance(y,h),T,y,o.getOverlaps(),t.getRenderBuffer());o.loadFeatures(T,y,_);var I=function(e){var o=e.getStyleFunction(),a;if(o?a=o.call(e,y):(o=t.getStyleFunction(),o&&(a=o(e,y))),a){var n=this.renderFeature(e,y,h,a,R);this.dirty_=this.dirty_||n}}.bind(this);if(E){var L=[];o.forEachFeatureInExtent(T,function(e){L.push(e)},this),L.sort(E);for(var v=0,i=L.length;v<i;++v)I(L[v])}else o.forEachFeatureInExtent(T,I,this);return R.finish(),this.renderedResolution_=y,this.renderedRevision_=m,this.renderedRenderOrder_=E,this.renderedExtent_=T,this.replayGroup_=R,!0},c.prototype.renderFeature=function(e,t,o,a,n){if(!a)return!1;var r=!1;if(Array.isArray(a))for(var l=0,i=a.length;l<i;++l)r=g.a.renderFeature(n,e,a[l],g.a.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)||r;else r=g.a.renderFeature(n,e,a,g.a.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)||r;return r},t.a=c},function(e,t,o){'use strict';var a=o(0),n=o(51),i=o(50),r=function(e,t,o,a){i.a.call(this,e,t,o,a),this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.snapToPixel_=void 0,this.width_=void 0};a.a.inherits(r,i.a),r.prototype.drawCoordinates_=function(e,t,o,a){return this.appendFlatCoordinates(e,t,o,a,!1,!1)},r.prototype.drawPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var o=e.getFlatCoordinates(),a=e.getStride(),i=this.coordinates.length,r=this.drawCoordinates_(o,0,o.length,a);this.instructions.push([n.a.DRAW_IMAGE,i,r,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([n.a.DRAW_IMAGE,i,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(e,t)}},r.prototype.drawMultiPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var o=e.getFlatCoordinates(),a=e.getStride(),i=this.coordinates.length,r=this.drawCoordinates_(o,0,o.length,a);this.instructions.push([n.a.DRAW_IMAGE,i,r,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([n.a.DRAW_IMAGE,i,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(e,t)}},r.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.snapToPixel_=void 0,this.width_=void 0},r.prototype.setImageStyle=function(e){var t=e.getAnchor(),o=e.getSize(),a=e.getHitDetectionImage(1),n=e.getImage(1),i=e.getOrigin();this.anchorX_=t[0],this.anchorY_=t[1],this.hitDetectionImage_=a,this.image_=n,this.height_=o[1],this.opacity_=e.getOpacity(),this.originX_=i[0],this.originY_=i[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScale(),this.snapToPixel_=e.getSnapToPixel(),this.width_=o[0]},t.a=r},function(e,t,o){'use strict';var a=o(0),n=o(3),i=o(38),r=o(1),l=o(21),s=o(51),d=o(50),p=function(e,t,o,a){d.a.call(this,e,t,o,a),this.bufferedMaxExtent_=null,this.state_={currentStrokeStyle:void 0,currentLineCap:void 0,currentLineDash:null,currentLineDashOffset:void 0,currentLineJoin:void 0,currentLineWidth:void 0,currentMiterLimit:void 0,lastStroke:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}};a.a.inherits(p,d.a),p.prototype.drawFlatCoordinates_=function(e,t,o,a){var n=this.coordinates.length,i=this.appendFlatCoordinates(e,t,o,a,!1,!1),r=[s.a.MOVE_TO_LINE_TO,n,i];return this.instructions.push(r),this.hitDetectionInstructions.push(r),o},p.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=r.a.clone(this.maxExtent),0<this.maxLineWidth)){var e=this.resolution*(this.maxLineWidth+1)/2;r.a.buffer(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},p.prototype.setStrokeStyle_=function(){var e=this.state_,t=e.strokeStyle,o=e.lineCap,a=e.lineDash,i=e.lineDashOffset,r=e.lineJoin,l=e.lineWidth,d=e.miterLimit;e.currentStrokeStyle==t&&e.currentLineCap==o&&n.a.equals(e.currentLineDash,a)&&e.currentLineDashOffset==i&&e.currentLineJoin==r&&e.currentLineWidth==l&&e.currentMiterLimit==d||(e.lastStroke!=void 0&&e.lastStroke!=this.coordinates.length&&(this.instructions.push([s.a.STROKE]),e.lastStroke=this.coordinates.length),e.lastStroke=0,this.instructions.push([s.a.SET_STROKE_STYLE,t,l,o,r,d,a,i,!0,1],[s.a.BEGIN_PATH]),e.currentStrokeStyle=t,e.currentLineCap=o,e.currentLineDash=a,e.currentLineDashOffset=i,e.currentLineJoin=r,e.currentLineWidth=l,e.currentMiterLimit=d)},p.prototype.drawLineString=function(e,t){var o=this.state_,a=o.strokeStyle,n=o.lineWidth;if(void 0!==a&&void 0!==n){this.setStrokeStyle_(),this.beginGeometry(e,t),this.hitDetectionInstructions.push([s.a.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,!0,1],[s.a.BEGIN_PATH]);var i=e.getFlatCoordinates(),r=e.getStride();this.drawFlatCoordinates_(i,0,i.length,r),this.hitDetectionInstructions.push([s.a.STROKE]),this.endGeometry(e,t)}},p.prototype.drawMultiLineString=function(e,t){var o=this.state_,a=o.strokeStyle,n=o.lineWidth;if(void 0!==a&&void 0!==n){this.setStrokeStyle_(),this.beginGeometry(e,t),this.hitDetectionInstructions.push([s.a.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,!0,1],[s.a.BEGIN_PATH]);var r=e.getEnds(),l=e.getFlatCoordinates(),d=e.getStride(),p=0,g,i;for(g=0,i=r.length;g<i;++g)p=this.drawFlatCoordinates_(l,p,r[g],d);this.hitDetectionInstructions.push([s.a.STROKE]),this.endGeometry(e,t)}},p.prototype.finish=function(){var e=this.state_;e.lastStroke!=void 0&&e.lastStroke!=this.coordinates.length&&this.instructions.push([s.a.STROKE]),this.reverseHitDetectionInstructions(),this.state_=null},p.prototype.setFillStrokeStyle=function(e,t){var o=t.getColor();this.state_.strokeStyle=i.a.asColorLike(o?o:l.a.defaultStrokeStyle);var a=t.getLineCap();this.state_.lineCap=a===void 0?l.a.defaultLineCap:a;var n=t.getLineDash();this.state_.lineDash=n?n:l.a.defaultLineDash;var r=t.getLineDashOffset();this.state_.lineDashOffset=r?r:l.a.defaultLineDashOffset;var s=t.getLineJoin();this.state_.lineJoin=s===void 0?l.a.defaultLineJoin:s;var d=t.getWidth();this.state_.lineWidth=d===void 0?l.a.defaultLineWidth:d;var p=t.getMiterLimit();this.state_.miterLimit=p===void 0?l.a.defaultMiterLimit:p,this.state_.lineWidth>this.maxLineWidth&&(this.maxLineWidth=this.state_.lineWidth,this.bufferedMaxExtent_=null)},t.a=p},function(e,t,o){'use strict';var a=o(0),n=o(3),r=o(25),i=o(38),l=o(1),s=o(33),d=o(21),p=o(51),g=o(50),c=function(e,t,o,a){g.a.call(this,e,t,o,a),this.bufferedMaxExtent_=null,this.state_={currentFillStyle:void 0,currentStrokeStyle:void 0,currentLineCap:void 0,currentLineDash:null,currentLineDashOffset:void 0,currentLineJoin:void 0,currentLineWidth:void 0,currentMiterLimit:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}};a.a.inherits(c,g.a),c.prototype.drawFlatCoordinatess_=function(e,t,o,a){var n=this.state_,r=void 0!==n.fillStyle,l=void 0!=n.strokeStyle,s=o.length,d=[p.a.BEGIN_PATH];this.instructions.push(d),this.hitDetectionInstructions.push(d);for(var g=0;g<s;++g){var i=o[g],c=this.coordinates.length,u=this.appendFlatCoordinates(e,t,i,a,!0,!l),_=[p.a.MOVE_TO_LINE_TO,c,u];if(this.instructions.push(_),this.hitDetectionInstructions.push(_),l){var y=[p.a.CLOSE_PATH];this.instructions.push(y),this.hitDetectionInstructions.push(y)}t=i}var h=[p.a.FILL];if(this.hitDetectionInstructions.push(h),r&&this.instructions.push(h),l){var m=[p.a.STROKE];this.instructions.push(m),this.hitDetectionInstructions.push(m)}return t},c.prototype.drawCircle=function(e,t){var o=this.state_,a=o.fillStyle,n=o.strokeStyle;if(void 0!==a||void 0!==n){this.setFillStrokeStyles_(e),this.beginGeometry(e,t),this.hitDetectionInstructions.push([p.a.SET_FILL_STYLE,r.a.asString(d.a.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([p.a.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,!0,1]);var i=e.getFlatCoordinates(),l=e.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(i,0,i.length,l,!1,!1);var g=[p.a.BEGIN_PATH],c=[p.a.CIRCLE,s];this.instructions.push(g,c),this.hitDetectionInstructions.push(g,c);var u=[p.a.FILL];if(this.hitDetectionInstructions.push(u),void 0!==o.fillStyle&&this.instructions.push(u),void 0!==o.strokeStyle){var _=[p.a.STROKE];this.instructions.push(_),this.hitDetectionInstructions.push(_)}this.endGeometry(e,t)}},c.prototype.drawPolygon=function(e,t){var o=this.state_;this.setFillStrokeStyles_(e),this.beginGeometry(e,t),this.hitDetectionInstructions.push([p.a.SET_FILL_STYLE,r.a.asString(d.a.defaultFillStyle)]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([p.a.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,!0,1]);var a=e.getEnds(),n=e.getOrientedFlatCoordinates(),i=e.getStride();this.drawFlatCoordinatess_(n,0,a,i),this.endGeometry(e,t)},c.prototype.drawMultiPolygon=function(e,t){var o=this.state_,a=o.fillStyle,n=o.strokeStyle;if(void 0!==a||void 0!==n){this.setFillStrokeStyles_(e),this.beginGeometry(e,t),this.hitDetectionInstructions.push([p.a.SET_FILL_STYLE,r.a.asString(d.a.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([p.a.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,!0,1]);var l=e.getEndss(),s=e.getOrientedFlatCoordinates(),g=e.getStride(),c=0,u,i;for(u=0,i=l.length;u<i;++u)c=this.drawFlatCoordinatess_(s,c,l[u],g);this.endGeometry(e,t)}},c.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state_=null;var e=this.tolerance;if(0!==e){var t=this.coordinates,o,a;for(o=0,a=t.length;o<a;++o)t[o]=s.a.snap(t[o],e)}},c.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=l.a.clone(this.maxExtent),0<this.maxLineWidth)){var e=this.resolution*(this.maxLineWidth+1)/2;l.a.buffer(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},c.prototype.setFillStrokeStyle=function(e,t){var o=this.state_;if(e){var a=e.getColor();o.fillStyle=i.a.asColorLike(a?a:d.a.defaultFillStyle)}else o.fillStyle=void 0;if(t){var n=t.getColor();o.strokeStyle=i.a.asColorLike(n?n:d.a.defaultStrokeStyle);var r=t.getLineCap();o.lineCap=void 0===r?d.a.defaultLineCap:r;var l=t.getLineDash();o.lineDash=l?l.slice():d.a.defaultLineDash;var s=t.getLineDashOffset();o.lineDashOffset=s?s:d.a.defaultLineDashOffset;var p=t.getLineJoin();o.lineJoin=void 0===p?d.a.defaultLineJoin:p;var g=t.getWidth();o.lineWidth=void 0===g?d.a.defaultLineWidth:g;var c=t.getMiterLimit();o.miterLimit=void 0===c?d.a.defaultMiterLimit:c,o.lineWidth>this.maxLineWidth&&(this.maxLineWidth=o.lineWidth,this.bufferedMaxExtent_=null)}else o.strokeStyle=void 0,o.lineCap=void 0,o.lineDash=null,o.lineDashOffset=void 0,o.lineJoin=void 0,o.lineWidth=void 0,o.miterLimit=void 0},c.prototype.setFillStrokeStyles_=function(e){var t=this.state_,o=t.fillStyle,a=t.strokeStyle,i=t.lineCap,r=t.lineDash,l=t.lineDashOffset,s=t.lineJoin,d=t.lineWidth,g=t.miterLimit;if(o!==void 0&&('string'!=typeof o||t.currentFillStyle!=o)){var c=[p.a.SET_FILL_STYLE,o];if('string'!=typeof o){var u=e.getExtent();c.push([u[0],u[3]])}this.instructions.push(c),t.currentFillStyle=t.fillStyle}a===void 0||t.currentStrokeStyle==a&&t.currentLineCap==i&&n.a.equals(t.currentLineDash,r)&&t.currentLineDashOffset==l&&t.currentLineJoin==s&&t.currentLineWidth==d&&t.currentMiterLimit==g||(this.instructions.push([p.a.SET_STROKE_STYLE,a,d,i,s,g,r,l,!0,1]),t.currentStrokeStyle=a,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=l,t.currentLineJoin=s,t.currentLineWidth=d,t.currentMiterLimit=g)},t.a=c},function(e,t,o){'use strict';var a=o(0),n=o(38),i=o(21),r=o(51),l=o(50),s=function(e,t,o,a){l.a.call(this,e,t,o,a),this.replayFillState_=null,this.replayStrokeState_=null,this.replayTextState_=null,this.text_='',this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null};a.a.inherits(s,l.a),s.prototype.drawText=function(e,t,o,a,n,i){if(''!==this.text_&&this.textState_&&(this.textFillState_||this.textStrokeState_)){this.textFillState_&&this.setReplayFillState_(this.textFillState_),this.textStrokeState_&&this.setReplayStrokeState_(this.textStrokeState_),this.setReplayTextState_(this.textState_),this.beginGeometry(n,i);var l=this.coordinates.length,s=this.appendFlatCoordinates(e,t,o,a,!1,!1),d=!!this.textFillState_,p=!!this.textStrokeState_,g=[r.a.DRAW_TEXT,l,s,this.text_,this.textOffsetX_,this.textOffsetY_,this.textRotation_,this.textScale_,d,p,this.textRotateWithView_];this.instructions.push(g),this.hitDetectionInstructions.push(g),this.endGeometry(n,i)}},s.prototype.setReplayFillState_=function(e){var t=this.replayFillState_;if(!(t&&t.fillStyle==e.fillStyle)){var o=[r.a.SET_FILL_STYLE,e.fillStyle];this.instructions.push(o),this.hitDetectionInstructions.push(o),t?t.fillStyle=e.fillStyle:this.replayFillState_={fillStyle:e.fillStyle}}},s.prototype.setReplayStrokeState_=function(e){var t=this.replayStrokeState_;if(!(t&&t.lineCap==e.lineCap&&t.lineDash==e.lineDash&&t.lineDashOffset==e.lineDashOffset&&t.lineJoin==e.lineJoin&&t.lineWidth==e.lineWidth&&t.miterLimit==e.miterLimit&&t.strokeStyle==e.strokeStyle)){var o=[r.a.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash,e.lineDashOffset,!1,1];this.instructions.push(o),this.hitDetectionInstructions.push(o),t?(t.lineCap=e.lineCap,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle):this.replayStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle}}},s.prototype.setReplayTextState_=function(e){var t=this.replayTextState_;if(!(t&&t.font==e.font&&t.textAlign==e.textAlign&&t.textBaseline==e.textBaseline)){var o=[r.a.SET_TEXT_STYLE,e.font,e.textAlign,e.textBaseline];this.instructions.push(o),this.hitDetectionInstructions.push(o),t?(t.font=e.font,t.textAlign=e.textAlign,t.textBaseline=e.textBaseline):this.replayTextState_={font:e.font,textAlign:e.textAlign,textBaseline:e.textBaseline}}},s.prototype.setTextStyle=function(e){if(!e)this.text_='';else{var t=e.getFill();if(!t)this.textFillState_=null;else{var o=t.getColor(),a=n.a.asColorLike(o?o:i.a.defaultFillStyle);if(!this.textFillState_)this.textFillState_={fillStyle:a};else{var r=this.textFillState_;r.fillStyle=a}}var l=e.getStroke();if(!l)this.textStrokeState_=null;else{var s=l.getColor(),d=l.getLineCap(),p=l.getLineDash(),g=l.getLineDashOffset(),c=l.getLineJoin(),u=l.getWidth(),_=l.getMiterLimit(),y=d===void 0?i.a.defaultLineCap:d,h=p?p.slice():i.a.defaultLineDash,m=g===void 0?i.a.defaultLineDashOffset:g,f=c===void 0?i.a.defaultLineJoin:c,E=u===void 0?i.a.defaultLineWidth:u,T=_===void 0?i.a.defaultMiterLimit:_,S=n.a.asColorLike(s?s:i.a.defaultStrokeStyle);if(!this.textStrokeState_)this.textStrokeState_={lineCap:y,lineDash:h,lineDashOffset:m,lineJoin:f,lineWidth:E,miterLimit:T,strokeStyle:S};else{var x=this.textStrokeState_;x.lineCap=y,x.lineDash=h,x.lineDashOffset=m,x.lineJoin=f,x.lineWidth=E,x.miterLimit=T,x.strokeStyle=S}}var C=e.getFont(),R=e.getOffsetX(),I=e.getOffsetY(),L=e.getRotateWithView(),v=e.getRotation(),O=e.getScale(),P=e.getText(),A=e.getTextAlign(),b=e.getTextBaseline(),F=C===void 0?i.a.defaultFont:C,D=A===void 0?i.a.defaultTextAlign:A,w=b===void 0?i.a.defaultTextBaseline:b;if(!this.textState_)this.textState_={font:F,textAlign:D,textBaseline:w};else{var N=this.textState_;N.font=F,N.textAlign=D,N.textBaseline=w}this.text_=P===void 0?'':P,this.textOffsetX_=R===void 0?0:R,this.textOffsetY_=I===void 0?0:I,this.textRotateWithView_=L!==void 0&&L,this.textRotation_=v===void 0?0:v,this.textScale_=O===void 0?1:O}},t.a=s},function(e,t,o){'use strict';var a=o(0),n=o(17),i=o(1),r=o(110),l=o(85),s=o(125),d=o(13);var p},function(e,t,o){'use strict';var a=Math.PI,n=Math.sin,r=Math.cos,i=o(0),l=o(38),s=o(8),d=o(18),p=o(49),g=o(21),c=o(132),u=function(e){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0===e.fill?null:e.fill,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0===e.radius?e.radius1:e.radius,this.radius2_=e.radius2,this.angle_=void 0===e.angle?0:e.angle,this.stroke_=void 0===e.stroke?null:e.stroke,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_);var t=void 0===e.snapToPixel||e.snapToPixel,o=void 0!==e.rotateWithView&&e.rotateWithView;c.a.call(this,{opacity:1,rotateWithView:o,rotation:void 0===e.rotation?0:e.rotation,scale:1,snapToPixel:t})};i.a.inherits(u,c.a),u.prototype.clone=function(){var e=new u({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},u.prototype.getAnchor=function(){return this.anchor_},u.prototype.getAngle=function(){return this.angle_},u.prototype.getFill=function(){return this.fill_},u.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_},u.prototype.getImage=function(){return this.canvas_},u.prototype.getImageSize=function(){return this.imageSize_},u.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},u.prototype.getImageState=function(){return p.a.LOADED},u.prototype.getOrigin=function(){return this.origin_},u.prototype.getPoints=function(){return this.points_},u.prototype.getRadius=function(){return this.radius_},u.prototype.getRadius2=function(){return this.radius2_},u.prototype.getSize=function(){return this.size_},u.prototype.getStroke=function(){return this.stroke_},u.prototype.listenImageChange=function(){},u.prototype.load=function(){},u.prototype.unlistenImageChange=function(){},u.prototype.render_=function(e){var t='',o='',a=0,n=null,i=0,r=0,p,c;this.stroke_&&(c=this.stroke_.getColor(),null===c&&(c=g.a.defaultStrokeStyle),c=l.a.asColorLike(c),r=this.stroke_.getWidth(),r===void 0&&(r=g.a.defaultLineWidth),n=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),!d.a.CANVAS_LINE_DASH&&(n=null,i=0),o=this.stroke_.getLineJoin(),o===void 0&&(o=g.a.defaultLineJoin),t=this.stroke_.getLineCap(),t===void 0&&(t=g.a.defaultLineCap),a=this.stroke_.getMiterLimit(),a===void 0&&(a=g.a.defaultMiterLimit));var u=2*(this.radius_+r)+1,_={strokeStyle:c,strokeWidth:r,size:u,lineCap:t,lineDash:n,lineDashOffset:i,lineJoin:o,miterLimit:a};if(e===void 0){var y=s.a.createCanvasContext2D(u,u);this.canvas_=y.canvas,u=this.canvas_.width,p=u,this.draw_(_,y,0,0),this.createHitDetectionCanvas_(_)}else{u=Math.round(u);var h=!this.fill_,m;h&&(m=this.drawHitDetectionCanvas_.bind(this,_));var f=this.getChecksum(),E=e.add(f,u,u,this.draw_.bind(this,_),m);this.canvas_=E.image,this.origin_=[E.offsetX,E.offsetY],p=E.image.width,h?(this.hitDetectionCanvas_=E.hitImage,this.hitDetectionImageSize_=[E.hitImage.width,E.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[p,p])}this.anchor_=[u/2,u/2],this.size_=[u,u],this.imageSize_=[p,p]},u.prototype.draw_=function(e,t,o,s){var d,i,p;t.setTransform(1,0,0,1,0,0),t.translate(o,s),t.beginPath();var c=this.points_;if(c===Infinity)t.arc(e.size/2,e.size/2,this.radius_,0,2*a,!0);else{var u=this.radius2_===void 0?this.radius_:this.radius2_;for(u!==this.radius_&&(c=2*c),d=0;d<=c;d++)i=2*d*a/c-a/2+this.angle_,p=0==d%2?this.radius_:u,t.lineTo(e.size/2+p*r(i),e.size/2+p*n(i))}if(this.fill_){var _=this.fill_.getColor();null===_&&(_=g.a.defaultFillStyle),t.fillStyle=l.a.asColorLike(_),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke()),t.closePath()},u.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionImageSize_=[e.size,e.size],this.fill_)return void(this.hitDetectionCanvas_=this.canvas_);var t=s.a.createCanvasContext2D(e.size,e.size);this.hitDetectionCanvas_=t.canvas,this.drawHitDetectionCanvas_(e,t,0,0)},u.prototype.drawHitDetectionCanvas_=function(e,t,o,l){t.setTransform(1,0,0,1,0,0),t.translate(o,l),t.beginPath();var s=this.points_;if(s===Infinity)t.arc(e.size/2,e.size/2,this.radius_,0,2*a,!0);else{var d=this.radius2_===void 0?this.radius_:this.radius2_;d!==this.radius_&&(s=2*s);var p,i,c;for(p=0;p<=s;p++)c=2*p*a/s-a/2+this.angle_,i=0==p%2?this.radius_:d,t.lineTo(e.size/2+i*r(c),e.size/2+i*n(c))}t.fillStyle=g.a.defaultFillStyle,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.stroke()),t.closePath()},u.prototype.getChecksum=function(){var e=this.stroke_?this.stroke_.getChecksum():'-',t=this.fill_?this.fill_.getChecksum():'-',o=!this.checksums_||e!=this.checksums_[1]||t!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6];if(o){var a='r'+e+t+(this.radius_===void 0?'-':this.radius_.toString())+(this.radius2_===void 0?'-':this.radius2_.toString())+(this.angle_===void 0?'-':this.angle_.toString())+(this.points_===void 0?'-':this.points_.toString());this.checksums_=[a,e,t,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},t.a=u},function(e,t,o){'use strict';var a=o(3),i={};i.DOCUMENT=document.implementation.createDocument('','',null),i.createElementNS=function(e,t){return i.DOCUMENT.createElementNS(e,t)},i.getAllTextContent=function(e,t){return i.getAllTextContent_(e,t,[]).join('')},i.getAllTextContent_=function(e,t,o){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)t?o.push((e.nodeValue+'').replace(/(\r\n|\r|\n)/g,'')):o.push(e.nodeValue);else{var a;for(a=e.firstChild;a;a=a.nextSibling)i.getAllTextContent_(a,t,o)}return o},i.isDocument=function(e){return e instanceof Document},i.isNode=function(e){return e instanceof Node},i.getAttributeNS=function(e,t,o){return e.getAttributeNS(t,o)||''},i.setAttributeNS=function(e,t,o,a){e.setAttributeNS(t,o,a)},i.parse=function(e){return new DOMParser().parseFromString(e,'application/xml')},i.makeArrayExtender=function(e,t){return function(o,n){var i=e.call(t,o,n);if(i!==void 0){var r=n[n.length-1];a.a.extend(r,i)}}},i.makeArrayPusher=function(e,t){return function(o,a){var n=e.call(t===void 0?this:t,o,a);if(n!==void 0){var i=a[a.length-1];i.push(n)}}},i.makeReplacer=function(e,t){return function(o,a){var n=e.call(t===void 0?this:t,o,a);n!==void 0&&(a[a.length-1]=n)}},i.makeObjectPropertyPusher=function(e,t,o){return function(a,n){var i=e.call(o===void 0?this:o,a,n);if(i!==void 0){var r=n[n.length-1],l=t===void 0?a.localName:t,s;s=l in r?r[l]:r[l]=[],s.push(i)}}},i.makeObjectPropertySetter=function(e,t,o){return function(a,n){var i=e.call(o===void 0?this:o,a,n);if(i!==void 0){var r=n[n.length-1],l=t===void 0?a.localName:t;r[l]=i}}},i.makeChildAppender=function(e,t){return function(o,a,n){e.call(t===void 0?this:t,o,a,n);var i=n[n.length-1],r=i.node;r.appendChild(o)}},i.makeArraySerializer=function(e){var t,o;return function(a,n,r){if(t==void 0){t={};var l={};l[a.localName]=e,t[a.namespaceURI]=l,o=i.makeSimpleNodeFactory(a.localName)}i.serialize(t,o,n,r)}},i.makeSimpleNodeFactory=function(e,t){var o=e;return function(e,a,n){var r=a[a.length-1],l=r.node,s=o;void 0===s&&(s=n);var d=t;return void 0===t&&(d=l.namespaceURI),i.createElementNS(d,s)}},i.OBJECT_PROPERTY_NODE_FACTORY=i.makeSimpleNodeFactory(),i.makeSequence=function(e,t){for(var o=t.length,a=Array(o),n=0;n<o;++n)a[n]=e[t[n]];return a},i.makeStructureNS=function(e,t,o){var a=o===void 0?{}:o,n,i;for(n=0,i=e.length;n<i;++n)a[e[n]]=t;return a},i.parseNode=function(e,t,o,a){var i;for(i=t.firstElementChild;i;i=i.nextElementSibling){var n=e[i.namespaceURI];if(n!==void 0){var r=n[i.localName];r!==void 0&&r.call(a,i,o)}}},i.pushParseAndPop=function(e,t,o,a,n){return a.push(e),i.parseNode(t,o,a,n),a.pop()},i.serialize=function(e,t,o,a,n,r){for(var l=(n===void 0?o:n).length,s=0,i,d;s<l;++s)i=o[s],void 0!==i&&(d=t.call(r,i,a,void 0===n?void 0:n[s]),void 0!==d&&e[d.namespaceURI][d.localName].call(r,d,i,a))},i.pushSerializeAndPop=function(e,t,o,a,n,r,l){return n.push(e),i.serialize(t,o,a,n,r,l),n.pop()},t.a=i},function(e,t){'use strict';var o={};o.all=function(){return[[-Infinity,-Infinity,Infinity,Infinity]]},o.bbox=function(e){return[e]},o.tile=function(e){return function(t,o){var a=e.getZForResolution(o),n=e.getTileRangeForExtentAndZ(t,a),i=[],r=[a,0,0];for(r[1]=n.minX;r[1]<=n.maxX;++r[1])for(r[2]=n.minY;r[2]<=n.maxY;++r[2])i.push(e.getTileCoordExtent(r));return i}},t.a=o},function(e,t){'use strict';t.a={ADDFEATURE:'addfeature',CHANGEFEATURE:'changefeature',CLEAR:'clear',REMOVEFEATURE:'removefeature'}},function(e,t,o){'use strict';var a=o(7),n=o(4),i=o(5),r=o(0),l=o(15),s=o(58),d=o(74),p=function(e){if(l.a.call(this),this.id_=void 0,this.geometryName_='geometry',this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,n.a.listen(this,l.a.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),void 0!==e)if(e instanceof s.a||!e){this.setGeometry(e)}else{this.setProperties(e)}};r.a.inherits(p,l.a),p.prototype.clone=function(){var e=new p(this.getProperties());e.setGeometryName(this.getGeometryName());var t=this.getGeometry();t&&e.setGeometry(t.clone());var o=this.getStyle();return o&&e.setStyle(o),e},p.prototype.getGeometry=function(){return this.get(this.geometryName_)},p.prototype.getId=function(){return this.id_},p.prototype.getGeometryName=function(){return this.geometryName_},p.prototype.getStyle=function(){return this.style_},p.prototype.getStyleFunction=function(){return this.styleFunction_},p.prototype.handleGeometryChange_=function(){this.changed()},p.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(n.a.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=n.a.listen(e,i.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},p.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},p.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?p.createStyleFunction(e):void 0,this.changed()},p.prototype.setId=function(e){this.id_=e,this.changed()},p.prototype.setGeometryName=function(e){n.a.unlisten(this,l.a.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=e,n.a.listen(this,l.a.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},p.createStyleFunction=function(e){var t;if('function'==typeof e)t=2==e.length?function(t){return e(this,t)}:e;else{var o;Array.isArray(e)?o=e:(a.a.assert(e instanceof d['default'],41),o=[e]),t=function(){return o}}return t},t.a=p},function(e,t,o){'use strict';var a=o(0),n=o(89),i=o(88),r=function(){n.a.call(this)};a.a.inherits(r,n.a),r.prototype.getObject_=function(e){if('string'==typeof e){var t=JSON.parse(e);return t?t:null}return null===e?null:e},r.prototype.getType=function(){return i.a.JSON},r.prototype.readFeature=function(e,t){return this.readFeatureFromObject(this.getObject_(e),this.getReadOptions(e,t))},r.prototype.readFeatures=function(e,t){return this.readFeaturesFromObject(this.getObject_(e),this.getReadOptions(e,t))},r.prototype.readFeatureFromObject=function(){},r.prototype.readFeaturesFromObject=function(){},r.prototype.readGeometry=function(e,t){return this.readGeometryFromObject(this.getObject_(e),this.getReadOptions(e,t))},r.prototype.readGeometryFromObject=function(){},r.prototype.readProjection=function(e){return this.readProjectionFromObject(this.getObject_(e))},r.prototype.readProjectionFromObject=function(){},r.prototype.writeFeature=function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))},r.prototype.writeFeatureObject=function(){},r.prototype.writeFeatures=function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))},r.prototype.writeFeaturesObject=function(){},r.prototype.writeGeometry=function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))},r.prototype.writeGeometryObject=function(){},t.a=r},function(e,t,o){'use strict';var a=o(0),n=o(4),r=o(5),l=o(1),i=o(58),s=o(9),d=o(2),p=function(e){i.a.call(this),this.geometries_=e?e:null,this.listenGeometriesChange_()};a.a.inherits(p,i.a),p.cloneGeometries_=function(e){var t=[],o,a;for(o=0,a=e.length;o<a;++o)t.push(e[o].clone());return t},p.prototype.unlistenGeometriesChange_=function(){var e,t;if(this.geometries_)for(e=0,t=this.geometries_.length;e<t;++e)n.a.unlisten(this.geometries_[e],r.a.CHANGE,this.changed,this)},p.prototype.listenGeometriesChange_=function(){var e,t;if(this.geometries_)for(e=0,t=this.geometries_.length;e<t;++e)n.a.listen(this.geometries_[e],r.a.CHANGE,this.changed,this)},p.prototype.clone=function(){var e=new p(null);return e.setGeometries(this.geometries_),e},p.prototype.closestPointXY=function(e,t,o,a){if(a<l.a.closestSquaredDistanceXY(this.getExtent(),e,t))return a;var n=this.geometries_,r,i;for(r=0,i=n.length;r<i;++r)a=n[r].closestPointXY(e,t,o,a);return a},p.prototype.containsXY=function(e,t){var o=this.geometries_,a,n;for(a=0,n=o.length;a<n;++a)if(o[a].containsXY(e,t))return!0;return!1},p.prototype.computeExtent=function(e){l.a.createOrUpdateEmpty(e);for(var t=this.geometries_,o=0,a=t.length;o<a;++o)l.a.extend(e,t[o].getExtent());return e},p.prototype.getGeometries=function(){return p.cloneGeometries_(this.geometries_)},p.prototype.getGeometriesArray=function(){return this.geometries_},p.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(d.a.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t))return this.simplifiedGeometryCache[t];var o=[],a=this.geometries_,n=!1,r,i;for(r=0,i=a.length;r<i;++r){var l=a[r],s=l.getSimplifiedGeometry(e);o.push(s),s!==l&&(n=!0)}if(n){var g=new p(null);return g.setGeometriesArray(o),this.simplifiedGeometryCache[t]=g,g}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},p.prototype.getType=function(){return s.a.GEOMETRY_COLLECTION},p.prototype.intersectsExtent=function(e){var t=this.geometries_,o,a;for(o=0,a=t.length;o<a;++o)if(t[o].intersectsExtent(e))return!0;return!1},p.prototype.isEmpty=function(){return 0===this.geometries_.length},p.prototype.rotate=function(e,t){for(var o=this.geometries_,a=0,n=o.length;a<n;++a)o[a].rotate(e,t);this.changed()},p.prototype.scale=function(e,t,o){var a=o;a||(a=l.a.getCenter(this.getExtent()));for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].scale(e,t,a);this.changed()},p.prototype.setGeometries=function(e){this.setGeometriesArray(p.cloneGeometries_(e))},p.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},p.prototype.applyTransform=function(e){var t=this.geometries_,o,a;for(o=0,a=t.length;o<a;++o)t[o].applyTransform(e);this.changed()},p.prototype.translate=function(e,t){var o=this.geometries_,a,n;for(a=0,n=o.length;a<n;++a)o[a].translate(e,t);this.changed()},p.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),i.a.prototype.disposeInternal.call(this)},t.a=p},function(e,t){'use strict';var o=Math.sqrt,a={};a.lineString=function(e,t,a,n){var r=e[t],l=e[t+1],s=0,d;for(d=t+n;d<a;d+=n){var i=e[d],p=e[d+1];s+=o((i-r)*(i-r)+(p-l)*(p-l)),r=i,l=p}return s},a.linearRing=function(e,t,n,i){var r=a.lineString(e,t,n,i),l=e[n-i]-e[t],s=e[n-i+1]-e[t+1];return r+=o(l*l+s*s),r},t.a=a},function(e,t,o){'use strict';var a=Math.sqrt,n=o(0),r=o(3),i=o(1),l=o(19),s=o(9),d=o(91),p=o(44),g=o(20),c=o(60),u=o(232),_=o(45),h=o(46),y=o(28),m=o(29),f=o(103),E=o(62),T=o(63),S=o(33),x=function(e,t){g.a.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(e,t)};n.a.inherits(x,g.a),x.prototype.appendPolygon=function(e){var t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{var o=this.flatCoordinates.length;r.a.extend(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();var a,n;for(a=0,n=t.length;a<n;++a)t[a]+=o}this.endss_.push(t),this.changed()},x.prototype.clone=function(){for(var e=new x(null),t=this.endss_.length,o=Array(t),a=0;a<t;++a)o[a]=this.endss_[a].slice();return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),o),e},x.prototype.closestPointXY=function(e,t,o,n){return n<i.a.closestSquaredDistanceXY(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=a(_.a.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_.a.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,o,n))},x.prototype.containsXY=function(e,t){return h.a.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},x.prototype.getArea=function(){return c.a.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},x.prototype.getCoordinates=function(e){var t;return void 0===e?t=this.flatCoordinates:(t=this.getOrientedFlatCoordinates().slice(),T.a.orientLinearRingss(t,0,this.endss_,this.stride,e)),m.a.coordinatesss(t,0,this.endss_,this.stride)},x.prototype.getEndss=function(){return this.endss_},x.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=u.a.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=f.a.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},x.prototype.getInteriorPoints=function(){var e=new d.a(null);return e.setFlatCoordinates(l.a.XY,this.getFlatInteriorPoints().slice()),e},x.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;T.a.linearRingssAreOriented(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=T.a.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},x.prototype.getSimplifiedGeometryInternal=function(e){var t=[],o=[];t.length=S.a.quantizess(this.flatCoordinates,0,this.endss_,this.stride,a(e),t,0,o);var n=new x(null);return n.setFlatCoordinates(l.a.XY,t,o),n},x.prototype.getPolygon=function(e){if(0>e||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var o=this.endss_[e-1];t=o[o.length-1]}var a=this.endss_[e].slice(),n=a[a.length-1];if(0!==t){var r,i;for(r=0,i=a.length;r<i;++r)a[r]-=t}var l=new p.a(null);return l.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t,n),a),l},x.prototype.getPolygons=function(){var e=this.layout,t=this.flatCoordinates,o=this.endss_,a=[],n=0,r,i,l,s;for(r=0,i=o.length;r<i;++r){var d=o[r].slice(),g=d[d.length-1];if(0!=n)for(l=0,s=d.length;l<s;++l)d[l]-=n;var c=new p.a(null);c.setFlatCoordinates(e,t.slice(n,g),d),a.push(c),n=g}return a},x.prototype.getType=function(){return s.a.MULTI_POLYGON},x.prototype.intersectsExtent=function(e){return E.a.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},x.prototype.setCoordinates=function(e,t){if(!e)this.setFlatCoordinates(l.a.XY,null,this.endss_);else{this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var o=y.a.coordinatesss(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===o.length)this.flatCoordinates.length=0;else{var a=o[o.length-1];this.flatCoordinates.length=0===a.length?0:a[a.length-1]}this.changed()}},x.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t),this.endss_=o,this.changed()},x.prototype.setPolygons=function(e){var t=this.getLayout(),o=[],a=[],n,i,l;for(n=0,i=e.length;n<i;++n){var s=e[n];0===n&&(t=s.getLayout());var d=o.length;l=s.getEnds();var p,g;for(p=0,g=l.length;p<g;++p)l[p]+=d;r.a.extend(o,s.getFlatCoordinates()),a.push(l)}this.setFlatCoordinates(t,o,a)},t.a=x},function(e,t,o){'use strict';var a=o(1),n={};n.linearRingss=function(e,t,o,n){var r=[],l=a.a.createEmpty(),s,i;for(s=0,i=o.length;s<i;++s){var d=o[s];l=a.a.createOrUpdateFromFlatCoordinates(e,t,d[0],n),r.push((l[0]+l[2])/2,(l[1]+l[3])/2),t=d[d.length-1]}return r},t.a=n},function(e,t,o){'use strict';var a=Math.abs;Object.defineProperty(t,'__esModule',{value:!0});var n=o(0),i=o(76),r=o(15),l=o(234),s=o(34),d=o(8),p=o(4),g=o(1),c=function(e){r.a.call(this),this.id_=e.id,this.insertFirst_=!(e.insertFirst!==void 0)||e.insertFirst,this.stopEvent_=!(e.stopEvent!==void 0)||e.stopEvent,this.element_=document.createElement('DIV'),this.element_.className='ol-overlay-container '+s.a.CLASS_SELECTABLE,this.element_.style.position='absolute',this.autoPan=e.autoPan!==void 0&&e.autoPan,this.autoPanAnimation_=e.autoPanAnimation||{},this.autoPanMargin_=e.autoPanMargin===void 0?20:e.autoPanMargin,this.rendered_={bottom_:'',left_:'',right_:'',top_:'',visible:!0},this.mapPostrenderListenerKey_=null,p.a.listen(this,r.a.getChangeEventType(c.Property_.ELEMENT),this.handleElementChanged,this),p.a.listen(this,r.a.getChangeEventType(c.Property_.MAP),this.handleMapChanged,this),p.a.listen(this,r.a.getChangeEventType(c.Property_.OFFSET),this.handleOffsetChanged,this),p.a.listen(this,r.a.getChangeEventType(c.Property_.POSITION),this.handlePositionChanged,this),p.a.listen(this,r.a.getChangeEventType(c.Property_.POSITIONING),this.handlePositioningChanged,this),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset===void 0?[0,0]:e.offset),this.setPositioning(e.positioning===void 0?l.a.TOP_LEFT:e.positioning),e.position!==void 0&&this.setPosition(e.position)};n.a.inherits(c,r.a),c.prototype.getElement=function(){return this.get(c.Property_.ELEMENT)},c.prototype.getId=function(){return this.id_},c.prototype.getMap=function(){return this.get(c.Property_.MAP)},c.prototype.getOffset=function(){return this.get(c.Property_.OFFSET)},c.prototype.getPosition=function(){return this.get(c.Property_.POSITION)},c.prototype.getPositioning=function(){return this.get(c.Property_.POSITIONING)},c.prototype.handleElementChanged=function(){d.a.removeChildren(this.element_);var e=this.getElement();e&&this.element_.appendChild(e)},c.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey_&&(d.a.removeNode(this.element_),p.a.unlistenByKey(this.mapPostrenderListenerKey_),this.mapPostrenderListenerKey_=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey_=p.a.listen(e,i.a.POSTRENDER,this.render,this),this.updatePixelPosition();var t=this.stopEvent_?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst_?t.insertBefore(this.element_,t.childNodes[0]||null):t.appendChild(this.element_)}},c.prototype.render=function(){this.updatePixelPosition()},c.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},c.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(c.Property_.POSITION)&&this.autoPan&&this.panIntoView_()},c.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},c.prototype.setElement=function(e){this.set(c.Property_.ELEMENT,e)},c.prototype.setMap=function(e){this.set(c.Property_.MAP,e)},c.prototype.setOffset=function(e){this.set(c.Property_.OFFSET,e)},c.prototype.setPosition=function(e){this.set(c.Property_.POSITION,e)},c.prototype.panIntoView_=function(){var e=this.getMap();if(e&&e.getTargetElement()){var t=this.getRect_(e.getTargetElement(),e.getSize()),o=this.getElement(),n=this.getRect_(o,[d.a.outerWidth(o),d.a.outerHeight(o)]),i=this.autoPanMargin_;if(!g.a.containsExtent(t,n)){var r=n[0]-t[0],l=t[2]-n[2],s=n[1]-t[1],p=t[3]-n[3],c=[0,0];if(0>r?c[0]=r-i:0>l&&(c[0]=a(l)+i),0>s?c[1]=s-i:0>p&&(c[1]=a(p)+i),0!==c[0]||0!==c[1]){var u=e.getView().getCenter(),_=e.getPixelFromCoordinate(u),y=[_[0]+c[0],_[1]+c[1]];e.getView().animate({center:e.getCoordinateFromPixel(y),duration:this.autoPanAnimation_.duration,easing:this.autoPanAnimation_.easing})}}}},c.prototype.getRect_=function(e,t){var o=e.getBoundingClientRect(),a=o.left+window.pageXOffset,n=o.top+window.pageYOffset;return[a,n,a+t[0],n+t[1]]},c.prototype.setPositioning=function(e){this.set(c.Property_.POSITIONING,e)},c.prototype.setVisible=function(e){this.rendered_.visible!==e&&(this.element_.style.display=e?'':'none',this.rendered_.visible=e)},c.prototype.updatePixelPosition=function(){var e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t)return void this.setVisible(!1);var o=e.getPixelFromCoordinate(t),a=e.getSize();this.updateRenderedPosition(o,a)},c.prototype.updateRenderedPosition=function(e,t){var o=this.element_.style,a=this.getOffset(),n=this.getPositioning();this.setVisible(!0);var i=a[0],r=a[1];if(n==l.a.BOTTOM_RIGHT||n==l.a.CENTER_RIGHT||n==l.a.TOP_RIGHT){''!==this.rendered_.left_&&(this.rendered_.left_=o.left='');var s=t[0]-e[0]-i+'px';this.rendered_.right_!=s&&(this.rendered_.right_=o.right=s)}else{''!==this.rendered_.right_&&(this.rendered_.right_=o.right=''),(n==l.a.BOTTOM_CENTER||n==l.a.CENTER_CENTER||n==l.a.TOP_CENTER)&&(i-=this.element_.offsetWidth/2);var d=e[0]+i+'px';this.rendered_.left_!=d&&(this.rendered_.left_=o.left=d)}if(n==l.a.BOTTOM_LEFT||n==l.a.BOTTOM_CENTER||n==l.a.BOTTOM_RIGHT){''!==this.rendered_.top_&&(this.rendered_.top_=o.top='');var p=t[1]-e[1]-r+'px';this.rendered_.bottom_!=p&&(this.rendered_.bottom_=o.bottom=p)}else{''!==this.rendered_.bottom_&&(this.rendered_.bottom_=o.bottom=''),(n==l.a.CENTER_LEFT||n==l.a.CENTER_CENTER||n==l.a.CENTER_RIGHT)&&(r-=this.element_.offsetHeight/2);var g=e[1]+r+'px';this.rendered_.top_!=g&&(this.rendered_.top_=o.top=g)}},c.Property_={ELEMENT:'element',MAP:'map',OFFSET:'offset',POSITION:'position',POSITIONING:'positioning'},t['default']=c},function(e,t){'use strict';t.a={BOTTOM_LEFT:'bottom-left',BOTTOM_CENTER:'bottom-center',BOTTOM_RIGHT:'bottom-right',CENTER_LEFT:'center-left',CENTER_CENTER:'center-center',CENTER_RIGHT:'center-right',TOP_LEFT:'top-left',TOP_CENTER:'top-center',TOP_RIGHT:'top-right'}},function(e,t,o){'use strict';function a(e,t){var o=Math.pow(10,t);return(Math.round(e*o)/o).toString()}var n=Math.log;Object.defineProperty(t,'__esModule',{value:!0});var i=o(236),r=o.n(i),l=o(10);t['default']=function(e,t){function o(e){return d.isDef()&&s?void d.animate(Object.assign({},e,s)):void('center'in e&&d.setCenter(e.center),'zoom'in e&&d.setZoom(e.zoom),'rotation'in e&&d.setRotation(e.rotation))}function i(){h({center:d.getCenter(),zoom:d.getZoom(),rotation:d.getRotation()})}t=t||{};var s='animate'in t?t.animate:{duration:250};var d=e.getView(),p=d.getProjection().getCode(),g,c,u;if(d.isDef())g=d.getZoom(),c=d.getCenter(),u=d.getRotation();else{var _=e.getViewport();g=_?Math.LOG2E*n(_.clientWidth/256):0,c=[0,0],u=0}var y={center:{default:c,serialize:function(e,t){var o;return o=t&&'zoom'in t?Math.max(0,Math.ceil(n(t.zoom)/Math.LN2)):3,e=l['default'].transform(e,p,'EPSG:4326'),a(e[0],o)+','+a(e[1],o)},deserialize:function(e){var t=e.split(',');if(2!==t.length)throw new Error('Expected lon,lat but got '+e);var o=[parseFloat(t[0]),parseFloat(t[1])];return l['default'].transform(o,'EPSG:4326',p)}},zoom:{default:g,serialize:function(e){return a(e,1)},deserialize:Number},rotation:{default:u,serialize:function(e){return a(e,2)},deserialize:Number}},h=r.a.register(y,o);return e.on('moveend',i),function(){e.un('moveend',i),r.a.unregister(o)}}},function(e,t,o){function a(){l&&window.removeEventListener('popstate',n),window.addEventListener('popstate',n),l=new i(r.deserialize(location.hash),function(e,t){var o={};for(var a in e)e[a]!==t[a]&&(o[a]=e[a]);history.pushState(e,'',r.serialize(o))})}function n(){l.update(r.deserialize(location.hash))}var i=o(237).Store,r=o(245),l;t.register=function(e,t){return l.register(e,t)},t.unregister=function(e){l.unregister(e)},t.serialize=function(e){return r.serialize(l.serialize(e))},t.reset=a,a()},function(e,t,o){var a=o(238).Schema,n=o(52),i=o(139),r=t.Store=function(e,t){this._values=e,this._defaults={},this._providers=[],this._callback=t,this._callbackTimer=null};r.prototype._scheduleCallback=function(){this._callbackTimer&&clearTimeout(this._callbackTimer),this._callbackTimer=setTimeout(this._debouncedCallback.bind(this))},r.prototype._debouncedCallback=function(){this._callbackTimer=null,this._callback(this._values,this._defaults)},r.prototype.update=function(e){this._updateTimer&&clearTimeout(this._updateTimer),this._updateTimer=setTimeout(this._debouncedUpdate.bind(this,e))},r.prototype._debouncedUpdate=function(e){this._updateTimer=null;for(var t=this._values,o=this._providers.slice(),a=o.length-1;0<=a;--a){var n=o[a],i=n.schema,r=!1,l={};i.forEachKey(function(o,a){var n;if(!(a in e)){n=i.getDefault(o);var s=i.serialize(o,n);t[a]!==s&&(r=!0,t[a]=s,l[o]=n)}else if(t[a]!==e[a])try{n=i.deserialize(o,e[a]),t[a]=e[a],l[o]=n,r=!0}catch(e){}}),r&&0<=this._providers.indexOf(n)&&n.callback(l)}},r.prototype.unregister=function(e){var t;if(this._providers=this._providers.filter(function(o){var a=o.callback===e;return a&&(t=o),!a}),!t)throw new Error('Unable to unregister hashed state provider');var o=this._values,a=this._defaults;t.schema.forEachKey(function(e,t){delete o[t],delete a[t]}),this._scheduleCallback()},r.prototype.register=function(e,t){for(var o={schema:new a(e),callback:t},n=0,i=this._providers.length,r;n<i;++n){if(r=o.schema.conflicts(this._providers[n].schema),r)throw new Error('Provider already registered using the same name: '+r);if(o.callback===this._providers[n].callback)throw new Error('Provider already registered with the same callback')}return this._providers.push(o),this._initializeProvider(o),function(e){if(-1===this._providers.indexOf(o))throw new Error('Unregistered provider attempting to update state');var t=o.schema,a=!1,n=this._values;t.forEachKey(function(o,i){if(o in e){var r=t.serialize(o,e[o],e);n[i]!==r&&(a=!0,n[i]=r)}}),a&&this._scheduleCallback()}.bind(this)},r.prototype._initializeProvider=function(e){var t={},o={},a=this._values;for(var n in e.schema.forEachKey(function(n,i){var r=e.schema.getDefault(n),l=e.schema.serialize(n,r),s;if(i in a)try{s=e.schema.deserialize(n,a[i])}catch(e){s=r}else s=r;t[n]=s,o[i]=l,a[i]=e.schema.serialize(n,s)}),o)this._defaults[n]=o[n];e.callback(t)},r.prototype.serialize=function(e){for(var t={},o=0,a=this._providers.length,r;o<a;++o)r=this._providers[o],r.schema.forEachKey(function(o,a){a in e&&(t[a]=r.schema.serialize(o,e[a],e))});for(var l in e)if(!(l in t)){var s=e[l],d=n.typeOf(s),p=i.get(d);t[l]=p(s)}return t}},function(e,t,o){var a=o(239).Field,n=o(52),i=t.Schema=function(e){e=n.extend({},e);var t={},o;for(var i in'_'in e&&(o=e._,delete e._),e)t[i]=new a(e[i]);this._prefix=o,this._fields=t};i.prototype.getPrefixed=function(e){return this._prefix?this._prefix+'.'+e:e},i.prototype.forEachKey=function(e,t){var o;for(var a in this._fields)if(o=e.call(t,a,this.getPrefixed(a)),!1===o)return},i.prototype.serialize=function(e,t,o){if(!(e in this._fields))throw new Error('Unknown key: '+e);return this._fields[e].serialize(t,o)},i.prototype.deserialize=function(e,t){if(!(e in this._fields))throw new Error('Unknown key: '+e);return this._fields[e].deserialize(t)},i.prototype.getDefault=function(e){if(!(e in this._fields))throw new Error('Unknown key: '+e);return this._fields[e].default},i.prototype.conflicts=function(e){var t={};for(var o in this._fields)t[this.getPrefixed(o)]=!0;var a=!1;return e.forEachKey(function(e,o){return o in t&&(a=o),!a}),a}},function(e,t,o){var a=o(52),n=o(139),i=o(244);t.Field=function(e){if('object'!==a.typeOf(e))this.default=e;else if(!('default'in e))throw new Error('Missing default');else this.default=e.default;var t=a.typeOf(this.default);this.serialize=e.serialize||n.get(t),this.deserialize=e.deserialize||i.get(t)}},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(o){'object'==typeof window&&(t=window)}e.exports=t},function(e){function t(){throw new Error('setTimeout has not been defined')}function o(){throw new Error('clearTimeout has not been defined')}function a(e){if(p===setTimeout)return setTimeout(e,0);if((p===t||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function n(e){if(g===clearTimeout)return clearTimeout(e);if((g===o||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(e);try{return g(e)}catch(t){try{return g.call(null,e)}catch(t){return g.call(this,e)}}}function i(){u&&y&&(u=!1,y.length?c=y.concat(c):_=-1,c.length&&r())}function r(){if(!u){var e=a(i);u=!0;for(var t=c.length;t;){for(y=c,c=[];++_<t;)y&&y[_].run();_=-1,t=c.length}y=null,u=!1,n(e)}}function l(e,t){this.fun=e,this.array=t}function s(){}var d=e.exports={},p,g;(function(){try{p='function'==typeof setTimeout?setTimeout:t}catch(o){p=t}try{g='function'==typeof clearTimeout?clearTimeout:o}catch(t){g=o}})();var c=[],u=!1,_=-1,y;d.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];c.push(new l(e,t)),1!==c.length||u||a(r)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title='browser',d.browser=!0,d.env={},d.argv=[],d.version='',d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.prependListener=s,d.prependOnceListener=s,d.listeners=function(){return[]},d.binding=function(){throw new Error('process.binding is not supported')},d.cwd=function(){return'/'},d.chdir=function(){throw new Error('process.chdir is not supported')},d.umask=function(){return 0}},function(e){e.exports=function(e){return e&&'object'==typeof e&&'function'==typeof e.copy&&'function'==typeof e.fill&&'function'==typeof e.readUInt8}},function(e){e.exports='function'==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}},function(e,t,o){var a=o(52),n=decodeURIComponent,i=function(){},r={string:function(e){if(!e||'string'!=typeof e)throw new Error('Expected string to deserialize: '+e);return n(e)},number:function(e){if(!e||'string'!=typeof e)throw new Error('Expected string to deserialize: '+e);var t=+n(e);if(isNaN(t))throw new Error('Expected to deserialize a number: '+e);return t},boolean:function(e){if(!e||'string'!=typeof e)throw new Error('Expected string to deserialize: '+e);var t;if('1'===e)t=!0;else if('0'===e)t=!1;else throw new Error('Expected "1" or "0" for boolean: '+e);return t},date:function(e){if(!e||'string'!=typeof e)throw new Error('Expected string to deserialize: '+e);var t=new Date(n(e));if(isNaN(t.getTime()))throw new Error('Expected to deserialize a date: '+e);return t},array:function(e){if(!e||'string'!=typeof e)throw new Error('Expected string to deserialize: '+e);var t;try{t=JSON.parse(n(e))}catch(e){i()}if(!t||'array'!==a.typeOf(t))throw new Error('Expected to deserialize an array: '+e);return t},object:function(e){if(!e||'string'!=typeof e)throw new Error('Expected string to deserialize: '+e);var t;try{t=JSON.parse(n(e))}catch(e){i()}if(!t||'object'!==a.typeOf(t))throw new Error('Expected to deserialize an object: '+e);return t}};t.get=function(e){if(!(e in r))throw new Error('Unable to deserialize type: '+e);return r[e]}},function(e,t,o){var a=o(52);t.deserialize=function(e){var t;if(2<e.length){var o=e.substring(2);t=o.split('/')}else t=[];return a.unzip(t)},t.serialize=function(e){var t='#',o=a.zip(e);return 0<o.length&&(t='#/'+o.join('/')),t}},function(e,t,o){'use strict';function a(e,t){if(!Array.isArray(e)){var o=e.stops;if(o)for(var n=0,i=o.length;n<i;++n)a(o[n][1],t);return}var r=e.map(function(e){return _()(e,1).split(' 1px ')[1]});m.a.load({google:{families:r},fontactive:function(e){var o=r.indexOf(e);if(-1<o){var a=r[o];D||(D=[]),-1==D.indexOf(a)&&(D.push(r[o]),t())}},inactive:function(){t()},timeout:1500})}function n(e,t){'layout'in e&&'text-field'in e.layout&&a(e.layout['text-font']||b,t)}function r(e,t){return t&&0!=e.indexOf('http')&&(e=t+e),e}function i(e,t,o){e=r(e,t);var a=e.match(F);return a?a[1]+o+(2<a.length?a[2]:''):e+o}function l(e,t,o,a){return new Promise(function(r,l){function s(){m||t.sprite&&!d||D&&!(0<D.length)?m&&e.setStyle(m):(m=Object(y.a)(e,t,o,void 0,d,p,D),r())}'object'!=typeof t&&(t=JSON.parse(t)),8!=t.version&&l(new Error('glStyle version 8 required.'));var d,p,g;if(t.sprite){g=1.5<=window.devicePixelRatio?0.5:1;var c=new window.XMLHttpRequest,u=0.5==g?'@2x':'',_=i(t.sprite,a,u+'.json');c.open('GET',_),c.onload=c.onerror=function(){c.responseText||l(new Error('Sprites cannot be loaded from '+_)),d=JSON.parse(c.responseText),s()},c.send(),p=i(t.sprite,a,u+'.png');var h=document.createElement('IMG');h.onload=function(){s()},h.src=p}var m;if(e instanceof L.a||e instanceof I['default'])try{for(var f=t.layers,E=0,T=f.length;E<T;++E)('string'==typeof o&&f[E].source==o||0<=o.indexOf(f[E].id))&&n(f[E],s);s()}catch(t){window.setTimeout(function(){l(t)},0)}})}function s(e,t){function o(){var o=t.layout||{},a=t.paint||{},n=e.getTargetElement(),i=e.getView().getZoom();'background-color'in a&&(n.style.backgroundColor=c()(a['background-color'],{function:'piecewise-constant'})(i)),'background-opacity'in a&&(n.style.backgroundOpacity=c()(a['background-opacity'],{function:'interpolated'})(i)),'none'==o.visibility&&(n.style.backgroundColor='',n.style.backgroundOpacity='')}e.getTargetElement()&&o(),e.on(['change:resolution','change:target'],o)}function d(e,t){var o;return e.some(function(e){if(e.id==t)return o=e.source,!0}),o}function p(e,t,o,a,n){function p(o){if(0<_.length){t.addLayer(o);var n=function(){l(o,e,_,a).then(function(){o.setVisible(!0)},function(t){console.error(t)})};o.getSource()?n():o.once('change:source',n)}}var g=t.getView();'center'in e&&!g.getCenter()&&g.setCenter(f['default'].fromLonLat(e.center)),'zoom'in e&&g.getZoom()==void 0&&g.setZoom(e.zoom),'zoom'in e||'center'in e||g.fit(g.getProjection().getExtent(),{nearest:!0,size:t.getSize()}),e.sprite&&0==e.sprite.indexOf('mapbox://')&&(e.sprite=o+'/sprite'+n);for(var c=e.layers,u=new S['default'],_=[],y=0,h=c.length,m,T,b,F,D,w,N;y<h;++y)if(m=c[y],'background'==m.type)s(t,m);else{if(F=m.source||d(c,m.ref),F!=b){p(D),_=[],T=e.sources[F],N=T.url;var k=T.tiles;if(N&&0==N.indexOf('mapbox://')&&(w=N.replace('mapbox://',''),k=['a','b','c','d'].map(function(e){return'https://'+e+'.tiles.mapbox.com/v4/'+w+'/{z}/{x}/{y}.'+('vector'==T.type?'vector.pbf':'png')+n})),'vector'==T.type)D=k?new L.a({source:new P.a({attributions:T.attribution,format:new x.a,tileGrid:E.a.createXYZ({tileSize:512,maxZoom:'maxzoom'in T?T.maxzoom:22,minZoom:T.minzoom}),urls:k}),visible:!1,zIndex:y}):function(){var e=new L.a({visible:!1,zIndex:y}),t=new v.a({url:N}),o=t.on('change',function(){if('ready'==t.getState()){var a=t.getTileGrid();e.setSource(new P.a({attributions:t.getAttributions(),format:new x.a,tileGrid:E.a.createXYZ({extent:t.getProjection().getExtent(),minZoom:a.getMinZoom(),maxZoom:a.getMaxZoom(),tileSize:512}),tileUrlFunction:t.getTileUrlFunction()})),C.a.unByKey(o)}});return e}();else if('raster'==T.type){var G;G=T.tiles?new A['default']({attributions:T.attribution,minZoom:T.minzoom,maxZoom:'maxzoom'in T?T.maxzoom:22,tileSize:T.tileSize||512,url:N,urls:T.tiles,crossOrigin:'anonymous'}):function(){return new v.a({url:N,crossOrigin:'anonymous'})}(),G.setTileLoadFunction(function(e,t){if(-1!=t.indexOf('{bbox-epsg-3857}')){var o=G.getTileGrid().getTileCoordExtent(e.getTileCoord());t=t.replace('{bbox-epsg-3857}',o.toString())}e.getImage().src=t}),D=new R['default']({source:G,visible:!m.layout||'none'!==m.layout.visibility})}else if('geojson'==T.type){var M=T.data,U,z;'string'==typeof M?z=r(M,a):U=u.readFeatures(M,{featureProjection:'EPSG:3857'}),D=new I['default']({source:new O['default']({attributions:T.attribution,features:U,format:u,url:z}),visible:!1,zIndex:y})}b=F}_.push(m.id)}p(D)}Object.defineProperty(t,'__esModule',{value:!0}),t.applyStyle=l,t.applyBackground=function(e,t){t.layers.some(function(t){if('background'==t.type)return s(e,t),!0})},t.apply=function(e,t){var o,n,i;if(e instanceof T['default']||(e=new T['default']({target:e})),'string'==typeof t){var r=t.match(F);r&&(n=r[1],o=2<r.length?r[2]:'');var l=new XMLHttpRequest;l.open('GET',t);var s=document.createElement('A');s.href=t,i=s.pathname.split('/').slice(0,-1).join('/')+'/',l.addEventListener('load',function(){var t=JSON.parse(l.responseText);p(t,e,n,i,o)}),l.addEventListener('error',function(){throw new Error('Could not load '+t)}),l.send()}else p(t,e);return e};var g=o(140),c=o.n(g),u=o(141),_=o.n(u),y=o(252),h=o(255),m=o.n(h),f=o(10),E=o(32),T=o(92),S=o(135),x=o(256),C=o(75),R=o(120),I=o(84),L=o(263),v=o(265),O=o(133),P=o(267),A=o(72),b=['Open Sans Regular','Arial Unicode MS Regular'],F=/^(.*)(\?.*)$/,D},function(e){'use strict';function t(e){return e>y?l(e,1/3):e/_+c}function o(e){return e>u?e*e*e:_*(e-c)}function a(e){return 255*(0.0031308>=e?12.92*e:1.055*l(e,1/2.4)-0.055)}function n(e){return e/=255,0.04045>=e?e/12.92:l((e+0.055)/1.055,2.4)}function i(e){const o=n(e[0]),i=n(e[1]),a=n(e[2]),r=t((0.4124564*o+0.3575761*i+0.1804375*a)/d),l=t((0.2126729*o+0.7151522*i+0.072175*a)/p),s=t((0.0193339*o+0.119192*i+0.9503041*a)/g);return[116*l-16,500*(r-l),200*(l-s),e[3]]}function r(e){let t=(e[0]+16)/116,n=isNaN(e[1])?t:t+e[1]/500,i=isNaN(e[2])?t:t-e[2]/200;return t=p*o(t),n=d*o(n),i=g*o(i),[a(3.2404542*n-1.5371385*t-0.4985314*i),a(-0.969266*n+1.8760108*t+0.041556*i),a(0.0556434*n-0.2040259*t+1.0572252*i),e[3]]}var s=Math.PI,l=Math.pow;const d=0.95047,p=1,g=1.08883,c=4/29,u=6/29,_=3*u*u,y=u*u*u;e.exports={lab:{forward:i,reverse:r},hcl:{forward:function(e){const t=i(e),o=t[0],n=t[1],a=t[2],r=Math.atan2(a,n)*(180/s);return[0>r?r+360:r,Math.sqrt(n*n+a*a),o,e[3]]},reverse:function(e){const t=e[0]*(s/180),o=e[1],a=e[2];return r([a,Math.cos(t)*o,Math.sin(t)*o,e[3]])}}}},function(e,t,o){'use strict';const a=o(249).parseCSSColor;e.exports=function(e){if('string'==typeof e){const t=a(e);return t?[t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]]:void 0}return Array.isArray(e)?e:void 0}},function(e,t){function o(e){return e=Math.round(e),0>e?0:255<e?255:e}function a(e){return 0>e?0:1<e?1:e}function n(e){return'%'===e[e.length-1]?o(255*(parseFloat(e)/100)):o(parseInt(e))}function i(e){return'%'===e[e.length-1]?a(parseFloat(e)/100):a(parseFloat(e))}function r(e,t,o){return 0>o?o+=1:1<o&&(o-=1),1>6*o?e+6*((t-e)*o):1>2*o?t:2>3*o?e+6*((t-e)*(2/3-o)):e}function l(e){var t=e.replace(/ /g,'').toLowerCase();if(t in d)return d[t].slice();if('#'===t[0]){if(4===t.length){var a=parseInt(t.substr(1),16);return 0<=a&&4095>=a?[(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,1]:null}if(7===t.length){var a=parseInt(t.substr(1),16);return 0<=a&&16777215>=a?[(16711680&a)>>16,(65280&a)>>8,255&a,1]:null}return null}var p=t.indexOf('('),g=t.indexOf(')');if(-1!==p&&g+1===t.length){var c=t.substr(0,p),u=t.substr(p+1,g-(p+1)).split(','),_=1;switch(c){case'rgba':if(4!==u.length)return null;_=i(u.pop());case'rgb':return 3===u.length?[n(u[0]),n(u[1]),n(u[2]),_]:null;case'hsla':if(4!==u.length)return null;_=i(u.pop());case'hsl':if(3!==u.length)return null;var y=(parseFloat(u[0])%360+360)%360/360,h=i(u[1]),s=i(u[2]),l=0.5>=s?s*(h+1):s+h-s*h,m=2*s-l;return[o(255*r(m,l,y+1/3)),o(255*r(m,l,y)),o(255*r(m,l,y-1/3)),_];default:return null;}}return null}var d={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{t.parseCSSColor=l}catch(t){}},function(e){'use strict';e.exports=function(e){for(let t=1;t<arguments.length;t++){const o=arguments[t];for(const t in o)e[t]=o[t]}return e}},function(e){'use strict';e.exports=function(e){return e instanceof Number?'number':e instanceof String?'string':e instanceof Boolean?'boolean':Array.isArray(e)?'array':null===e?'null':typeof e}},function(e,t,o){'use strict';function a(){}function n(e){for(var t in F)t in e||(e[t]=F[t])}function i(e){for(var t in e.layout)e.paint[t]||(e.paint[t]=e.layout[t])}function r(e,t){for(var o={function:t},a=0,n=b[t].length,i;a<n;++a)i=b[t][a],i in e&&(e[i]=R()(e[i],o))}function l(e,t){if(t){var o,a,n;if(!Array.isArray(e)){var i=e.stops;if(i)for(a=0,n=i.length;a<n;++a)l(i[a][1],t);return}if(!w[e])for(a=0,n=e.length;a<n;++a)if(o=e[a],-1<=t.indexOf(o)){w[e]=o;break}}else w[e]=e[0]}function s(e,t){e.paint||(e.paint={}),e.ref||i(e),n(e.paint),e.paint['text-field']&&l(e.paint['text-font'],t),Array.isArray(e.filter)&&(e.filter=L()(e.filter)),r(e.paint,'interpolated'),r(e.paint,'piecewise-constant')}function d(e,t){if(e.ref)for(var o=t.layers,a=0,n=o.length,i;a<n;++a)if(i=o[a],i.id==e.ref)return e.type=i.type,e.source=i.source,e['source-layer']=i['source-layer'],e.minzoom=i.minzoom,e.maxzoom=i.maxzoom,e.filter=i.filter,void(e.layout=i.layout)}function p(e,t){for(var o=0,a=t.length,n;o<a;++o)if(n=t[o],n<e&&o+1<a){var i=t[o]/t[o+1];return o+h(t[o]/e)/h(i)}return a-1}function g(e,t){if(e&&t!==void 0){var o=G[e];if(!o){N.style.color=e,document.body.appendChild(N);var a=getComputedStyle(N).getPropertyValue('color');document.body.removeChild(N);var n=a.match(k)[1].split(',').map(Number);3==n.length&&n.push(1),G[e]=o={color:n,opacity:n[3]}}e=o.color,e[3]=o.opacity*t,0===e[3]&&(e=void 0)}return e}function c(e){return e*Math.PI/180}function u(e,t){var o=e.match(M);if(o){var a=t[o[2]]||'';return o[1]+a+o[3]}return e}function _(e,t){var o=e.getExtent(),a=t.getExtent();return a[2]-a[0]-(o[2]-o[0])}var y=Math.ceil,h=Math.log,m=Math.max,f=Math.min,E=o(74),T=o(87),S=o(69),x=o(86),C=o(140),R=o.n(C),I=o(253),L=o.n(I),v=o(141),O=o.n(v),P=o(254),A=o.n(P),b={interpolated:['line-miter-limit','fill-opacity','line-opacity','line-width','text-halo-width','text-max-width','text-offset','text-opacity','text-rotate','text-size','icon-opacity','icon-rotate','icon-size','circle-radius'],"piecewise-constant":['fill-color','fill-outline-color','icon-image','line-cap','line-color','line-join','line-dasharray','text-anchor','text-color','text-field','text-font','text-halo-color','circle-color','circle-stroke-color']},F={"fill-opacity":1,"line-cap":'butt',"line-join":'miter',"line-miter-limit":2,"line-opacity":1,"line-width":1,"text-anchor":'center',"text-color":'#000000',"text-font":['Open Sans Regular','Arial Unicode MS Regular'],"text-halo-color":'rgba(0, 0, 0, 0)',"text-halo-width":0,"text-max-width":10,"text-offset":[0,0],"text-opacity":1,"text-rotate":0,"text-size":16,"icon-opacity":1,"icon-rotate":0,"icon-size":1,"circle-color":'#000000',"circle-stroke-color":'#000000'},D={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},w={},N=document.createElement('div'),k=/^rgba?\((.*)\)$/,G={},M=/^(.*)\{(.*)\}(.*)$/;t.a=function(e,t,o,n,r,l,h){function C(e,t,o){var a=[o,t,e].join(),n=b[a];if(!n){P.font=t;var r=P.measureText('M').width,l=e.split(' '),s='';n=[];for(var d=0,i=l.length,p;d<i;++d)p=l[d],P.measureText(s+p).width<=r*o?s+=(s?' ':'')+p:(s&&n.push(s),s=p);s&&n.push(s),b[a]=n}return n}function R(e,t,o,a){var n=a.pixelRatio,r=[Infinity,Infinity],l=[-Infinity,-Infinity],s=[],d,p,g,c,u,_,h;e&&(g=e.img,u=e.scale*n,c=e.imgData,_=c.width,h=c.height,d=o[0]-_/2*u,p=o[1]-h/2*u,r[0]=d,r[1]=p,l[0]=o[0]+_/2*u,l[1]=o[1]+h/2*u);var E,T,S;if(t){var x=[t.font,t.fill,t.stroke,t.lineWidth,t.text].join();if(E=N[x],!E){P.font=t.font;for(var C=t.lines,R=1.5*P.measureText('M').width,I=0,L=0,v=0,i=C.length;v<i;++v)I=m(I,P.measureText(C[v]).width),L+=R;var O=t.lineWidth;E=N[x]=document.createElement('CANVAS'),E.width=y((2*O+I)*n),E.height=y((2*O+L)*n);var A=E.getContext('2d');for(A.font=t.font,A.textBaseline='top',A.textAlign='center',A.translate(E.width/2,0),A.scale(n,n),v=0;v<i;++v)t.stroke&&(A.strokeStyle=t.stroke,A.lineWidth=O,A.strokeText(C[v],0,O+v*R)),t.fill&&(A.fillStyle=t.fill,A.fillText(C[v],0,O+v*R))}var b=E.width,F=E.height,D=b/2,w=F/2,G=t.textSize*n,M=t.anchor,U=t.offset;T=o[0]-D+U[0]*G,S=o[1]-w+U[1]*G,-1==M.indexOf('top')?-1!=M.indexOf('bottom')&&(S-=w):S+=w,-1==M.indexOf('left')?-1!=M.indexOf('right')&&(T-=D):T+=D,r[0]=f(r[0],T),r[1]=f(r[1],S),l[0]=m(l[0],T+b),l[1]=m(l[1],S+F)}var z=a.context.canvas;if(0<=l[0]&&z.width>=r[0]&&0<=l[1]&&z.height>=r[1]){var Y=[r.map(Math.round),l.map(Math.round)].join();k.getLabel(Y)||(e&&s.push({translate:[d,p],rotate:e.rotation,alpha:e.opacity,drawImage:[g,c.x,c.y,_,h,0,0,_*u,h*u]}),t&&s.push({translate:[T,S],rotate:t.rotation,alpha:t.opacity,drawImage:[E,0,0]}),X[0]=m(X[0],(l[0]-r[0])/2),X[1]=m(X[1],(l[1]-r[1])/2),k.ingestLabel({bottomLeft:r,topRight:l},Y,1,s))}}if(!n){n=[];for(var I=156543.03392804097;22>n.length;I/=2)n.push(I)}if('object'==typeof t&&(t=JSON.stringify(t)),t=JSON.parse(t),8!=t.version)throw new Error('glStyle version 8 required.');var L;if(l){var v=new Image;v.onload=function(){L=v,e.changed()},v.src=l}for(var P=document.createElement('CANVAS').getContext('2d'),b={},N={},k=new A.a(a,a),G=t.layers,M={},U=0,z=G.length,X,Y;U<z;++U)if(Y=G[U],Y.layout||(Y.layout={}),d(Y,t),'string'==typeof o&&Y.source==o||-1!==o.indexOf(Y.id)){var j=Y['source-layer'],K=M[j];K||(K=M[j]=[]),K.push({layer:Y,index:U}),s(Y,h)}var B={},W=[],V=function(e,t){var o=e.getProperties(),a=M[o.layer];if(a){var l=n.indexOf(t);-1==l&&(l=p(t,n));for(var s=D[e.getGeometry().getType()],d={properties:o,type:s},y=-1,h=0,i=a.length;h<i;++h){var m=a[h],f=m.layer,I=f.paint;if(!('none'===I.visibility||'minzoom'in f&&l<f.minzoom||'maxzoom'in f&&l>=f.maxzoom)&&(!f.filter||f.filter(d))){var v=m.index,P,A,b,N,k,G;if(3==s&&!('fill-pattern'in I)&&'fill-color'in I&&(A=I['fill-opacity'](l,o),P=g(I['fill-color'](l,o),A),P&&(++y,G=W[y],(!G||!G.getFill()||G.getStroke()||G.getText())&&(G=W[y]=new E['default']({fill:new T['default']})),b=G.getFill(),b.setColor(P),G.setZIndex(v)),'fill-outline-color'in I&&(k=g(I['fill-outline-color'](l,o),A)),k&&(++y,G=W[y],(!G||!G.getStroke()||G.getFill()||G.getText())&&(G=W[y]=new E['default']({stroke:new S['default']})),N=G.getStroke(),N.setLineCap(F['line-cap']),N.setLineJoin(F['line-join']),N.setMiterLimit(F['line-miter-limit']),N.setColor(k),N.setWidth(1),N.setLineDash(null),G.setZIndex(v))),1!=s){P=!('line-pattern'in I)&&'line-color'in I?g(I['line-color'](l,o),I['line-opacity'](l,o)):void 0;var U=I['line-width'](l,o);P&&0<U&&(++y,G=W[y],(!G||!G.getStroke()||G.getFill()||G.getText())&&(G=W[y]=new E['default']({stroke:new S['default']})),N=G.getStroke(),N.setLineCap(I['line-cap'](l,o)),N.setLineJoin(I['line-join'](l,o)),N.setMiterLimit(I['line-miter-limit'](l,o)),N.setColor(P),N.setWidth(U),N.setLineDash(I['line-dasharray']?I['line-dasharray'](l,o).map(function(e){return e*U}):null),G.setZIndex(v))}var z;if(1==s&&'icon-image'in I){var Y=I['icon-image'](l,o);if(Y){var j=u(Y,o);if(G=B[j],r&&L){var K=r[j];K&&(z={img:L,imgData:K,scale:I['icon-size'](l,o)/K.pixelRatio,rotation:c(I['icon-rotate'](l,o)),opacity:I['icon-opacity'](l,o)})}}}if(1==s&&'circle-radius'in I){++y;var V=I['circle-radius'](l,o)+'.'+I['circle-stroke-color'](l,o)+'.'+I['circle-color'](l,o);G=B[V],G||(G=new E['default']({image:new x['default']({radius:I['circle-radius'](l,o),stroke:new S['default']({color:g(I['circle-stroke-color'](l,o),A)}),fill:new T['default']({color:g(I['circle-color'](l,o),A)})})})),G.setZIndex(v),W[y]=G}var H;if('text-field'in I){var Z=I['text-field'](l,o);H=u(Z,o)}var q;if(H&&2!==s){var J=I['text-size'](l,o),Q=O()(w[I['text-font'](l,o)],J),$=I['text-transform'];'uppercase'==$?H=H.toUpperCase():'lowercase'==$&&(H=H.toLowerCase());var ee=C(H,Q,I['text-max-width'](l,o));q={text:H,lines:ee,font:Q,textSize:J,anchor:I['text-anchor'](l,o),offset:I['text-offset'](l,o),rotation:c(I['text-rotate'](l,o)),opacity:I['text-opacity'](l,o)},q.fill=I['text-color'](l,o),I['text-halo-width']&&(q.lineWidth=I['text-halo-width'](l,o),q.stroke=I['text-halo-color'](l,o))}if(z||q){++y,G=W[y],(!G||!G.getRenderer()||G.getFill()||G.getStroke())&&(G=W[y]=new E['default']),G.setRenderer(function(e,t){var o=t.context.canvas;if(!X){var a=t.pixelRatio;X=[50*a,20*a]}e[0]>-X[0]&&e[1]>-X[1]&&e[0]<o.width+X[0]&&e[1]<o.height+X[1]&&R(z,q,e,t)});var te=e.getGeometry();'Polygon'==te.getType()?G.setGeometry(te.getInteriorPoint()):'MultiPolygon'==te.getType()&&G.setGeometry(te.getPolygons().sort(_)[0].getInteriorPoint()),G.setZIndex(v)}}}if(-1<y)return W.length=y+1,W}};return e.on('change',function(){N={}}),e.on('precompose',function(){k.destroy()}),e.on('postcompose',function(t){for(var e=t.context,o=k.getShown(),a=0,n=o.length;a<n;++a)for(var i=o[a],r=i.labelObject,l=0,s=r.length;l<s;++l){var d=r[l],p=e.globalAlpha;e.translate.apply(e,d.translate),d.rotate&&e.rotate(d.rotate),1!=d.alpha&&(e.globalAlpha=p*d.alpha),e.drawImage.apply(e,d.drawImage),1!=d.alpha&&(e.globalAlpha=p),d.rotate&&e.rotate(-d.rotate),e.translate.apply(e,d.translate.map((e)=>-e))}}),e.setStyle(V),V}},function(e){'use strict';function t(e){if(!e)return'true';const t=e[0];if(1>=e.length)return'any'===t?'false':'true';const o='=='===t?a(e[1],e[2],'===',!1):'!='===t?a(e[1],e[2],'!==',!1):'<'===t||'>'===t||'<='===t||'>='===t?a(e[1],e[2],t,!0):'any'===t?n(e.slice(1),'||'):'all'===t?n(e.slice(1),'&&'):'none'===t?l(n(e.slice(1),'||')):'in'===t?i(e[1],e.slice(2)):'!in'===t?l(i(e[1],e.slice(2))):'has'===t?r(e[1]):'!has'===t?l(r(e[1])):'true';return`(${o})`}function o(e){return'$type'===e?'f.type':'$id'===e?'f.id':`p[${JSON.stringify(e)}]`}function a(e,t,a,n){const i=o(e),r='$type'===e?d.indexOf(t):JSON.stringify(t);return(n?`typeof ${i}=== typeof ${r}&&`:'')+i+a+r}function n(e,o){return e.map(t).join(o)}function i(e,t){'$type'===e&&(t=t.map((e)=>{return d.indexOf(e)}));const a=JSON.stringify(t.sort(s)),n=o(e);return 200>=t.length?`${a}.indexOf(${n}) !== -1`:`${'function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }('}${n}, ${a},0,${t.length-1})`}function r(e){return'$id'===e?'"id" in f':`${JSON.stringify(e)} in p`}function l(e){return`!(${e})`}function s(e,t){return e<t?-1:e>t?1:0}e.exports=function(e){return new Function('f',`var p = (f && f.properties || {}); return ${t(e)}`)};const d=['Unknown','Point','LineString','Polygon']},function(e,t,o){(function(t,a){e.exports=a(o(118))})(this,function(e){return function(e){function t(a){if(o[a])return o[a].exports;var n=o[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var o={};return t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,a){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var o=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(o,'a',o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=1)}([function(t){t.exports=e},function(e,t,o){'use strict';function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var i=function(){function e(e,t){for(var o=0,a;o<t.length;o++)a=t[o],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),r=o(0),l=function(e){return e&&e.__esModule?e:{default:e}}(r),s=function(){function e(t,o){n(this,e),this.tree=(0,l.default)(6),this.allLabels={},this._point=void 0,this.hasChanged=new Set,this.loaded=!1,this.allChanged=!1,this.hideLabel=t,this.showLabel=o;this}return i(e,[{key:'_total',value:function(e){var t=0;for(var o in this.allLabels)this.allLabels[o].state==e&&(t+=1);return t}},{key:'totalShown',value:function(){return this._total('show')}},{key:'totalHidden',value:function(){return this._total('hide')}},{key:'_getLabelsByState',value:function(e){var t=[];for(var o in this.allLabels)this.allLabels[o].state==e&&t.push(this.allLabels[o]);return t}},{key:'getHidden',value:function(){return this._getLabelsByState('hide')}},{key:'getShown',value:function(){return this._getLabelsByState('show')}},{key:'getCollisions',value:function(e){var t=this.allLabels[e],o=this.tree.search(t),a=o.indexOf(t);return void 0!==a&&o.splice(a,1),o}},{key:'getLabel',value:function(e){return this.allLabels[e]}},{key:'destroy',value:function(){this._resetTree(),this.allLabels={}}},{key:'forceLabelStates',value:function(e){var t=this;this.tree.all().forEach(function(o){t._labelHasChangedState(o,e)})}},{key:'_labelHasChangedState',value:function(e,t){var o=t||e.state;'show'===o&&this.showLabel(e),'hide'===o&&this.hideLabel(e)}},{key:'setupLabelStates',value:function(){var e=this;if(this.allChanged)for(var t in this.allChanged=!1,this.hasChanged.clear(),this._resetTree(),this.allLabels){var o=this.allLabels[t];this.ingestLabel({bottomLeft:[o.minX,o.minY],topRight:[o.maxX,o.maxY]},o.id,o.weight,o.labelObject,o.name,o.isDragged)}else if(this.hasChanged.size){var n=[].concat(a(this.hasChanged));this.hasChanged.clear(),n.forEach(function(t){var o=e.allLabels[t];e.ingestLabel({bottomLeft:[o.minX,o.minY],topRight:[o.maxX,o.maxY]},o._id,o.weight,o.labelObject,o.name,o.isDragged)})}}},{key:'update',value:function(){this.allChanged=!0,this.setupLabelStates(),this.handleExCollisions(),this._hideShownCollisions(),this.forceLabelStates()}},{key:'handleExCollisions',value:function(){var e=this;this.getHidden().forEach(function(t){e._handleExCollisions(t)})}},{key:'_resetTree',value:function(){this.tree.clear()}},{key:'_makeLabel',value:function(e,t,o,a,n,i){return{minX:e.bottomLeft[0],minY:e.bottomLeft[1],maxX:e.topRight[0],maxY:e.topRight[1],state:'hide',id:t,weight:o||1,labelObject:a,labelName:n,isDragged:i}}},{key:'removeFromTree',value:function(e,t){var o=e.id||e,a=this.allLabels[o];this.tree.remove(a),delete this.allLabels[o],t&&this.forceLabelStates(!0)}},{key:'_addToTree',value:function(e){this.allLabels[e.id]=e,this.tree.insert(e)}},{key:'_hideShownCollisions',value:function(){var e=this;this.getShown().forEach(function(t){e.getCollisions(t.id).forEach(function(e){'show'==e.state&&(e.state='hide')})})}},{key:'_handleCollisions',value:function(e,t){var o;t.isDragged&&(t.weight=Infinity);var a=t;e.forEach(function(e){e.isDragged&&(o=e.weight,a=e,a.weight=Infinity),e.weight>a.weight?(a.state='hide',a=e):e.state='hide'}),a.state='show',o&&(a.weight=o)}},{key:'_handleExCollisions',value:function(e){if('hide'===e.state){for(var t=!1,o=this.tree.search(e),a=0;a<o.length;a++)if('hide'!==o[a].state){t=!0;break}t||(e.state='show')}}},{key:'ingestLabel',value:function(e,t,o,a,n,i){var r=this._makeLabel(e,t,o,a,n,i),l=this.allLabels[t];l&&this.removeFromTree(l),this._addToTree(r);var s=this.getCollisions(t);return!s.length||i?void(r.state='show'):void this._handleCollisions(s,r,i)}},{key:'labelHasChanged',value:function(e){this.hasChanged.add(e)}}]),e}();t.default=s}])})},function(e,o,a){var n;(function(){function i(e){return e.call.apply(e.bind,arguments)}function r(e,t){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),e.apply(t,a)}}return function(){return e.apply(t,arguments)}}function s(){return s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf('native code')?i:r,s.apply(null,arguments)}function l(e,t){this.a=e,this.o=t||e,this.c=this.o.document}function p(t,o,a,n){if(o=t.c.createElement(o),a)for(var i in a)a.hasOwnProperty(i)&&('style'==i?o.style.cssText=a[i]:o.setAttribute(i,a[i]));return n&&o.appendChild(t.c.createTextNode(n)),o}function t(e,t,o){e=e.c.getElementsByTagName(t)[0],e||(e=document.documentElement),e.insertBefore(o,e.lastChild)}function d(e){e.parentNode&&e.parentNode.removeChild(e)}function g(t,o,a){o=o||[],a=a||[];for(var n=t.className.split(/\s+/),i=0;i<o.length;i+=1){for(var e=!1,r=0;r<n.length;r+=1)if(o[i]===n[r]){e=!0;break}e||n.push(o[i])}for(o=[],i=0;i<n.length;i+=1){for(e=!1,r=0;r<a.length;r+=1)if(n[i]===a[r]){e=!0;break}e||o.push(n[i])}t.className=o.join(' ').replace(/\s+/g,' ').replace(/^\s+|\s+$/,'')}function u(t,o){for(var a=t.className.split(/\s+/),n=0,i=a.length;n<i;n++)if(a[n]==o)return!0;return!1}function _(e){return e.o.location.hostname||e.a.location.hostname}function y(o,a,n){function i(){s&&r&&e&&(s(l),s=null)}a=p(o,'link',{rel:'stylesheet',href:a,media:'all'});var r=!1,e=!0,l=null,s=n||null;q?(a.onload=function(){r=!0,i()},a.onerror=function(){r=!0,l=Error('Stylesheet failed to load'),i()}):setTimeout(function(){r=!0,i()},0),t(o,'head',a)}function h(t,o,a,n){var i=t.c.getElementsByTagName('head')[0];if(i){var e=p(t,'script',{src:o}),r=!1;return e.onload=e.onreadystatechange=function(){r||this.readyState&&'loaded'!=this.readyState&&'complete'!=this.readyState||(r=!0,a&&a(null),e.onload=e.onreadystatechange=null,'HEAD'==e.parentNode.tagName&&i.removeChild(e))},i.appendChild(e),setTimeout(function(){r||(r=!0,a&&a(Error('Script load timeout')))},n||5E3),e}return null}function x(){this.a=0,this.c=null}function m(e){return e.a++,function(){e.a--,c(e)}}function C(e,t){e.c=t,c(e)}function c(e){0==e.a&&e.c&&(e.c(),e.c=null)}function f(e){this.a=e||'-'}function E(e,t){this.c=e,this.f=4,this.a='n';var o=(t||'n4').match(/^([nio])([1-9])$/i);o&&(this.a=o[1],this.f=parseInt(o[2],10))}function v(e){return b(e)+' '+(e.f+'00 300px ')+A(e.c)}function A(e){var t=[];e=e.split(/,\s*/);for(var o=0,a;o<e.length;o++)a=e[o].replace(/['"]/g,''),-1!=a.indexOf(' ')||/^\d/.test(a)?t.push('\''+a+'\''):t.push(a);return t.join(',')}function I(e){return e.a+e.f}function b(e){var t='normal';return'o'===e.a?t='oblique':'i'===e.a&&(t='italic'),t}function F(e){var t=4,o='n',a=null;return e&&((a=e.match(/(normal|oblique|italic)/i))&&a[1]&&(o=a[1].substr(0,1).toLowerCase()),(a=e.match(/([1-9]00|normal|bold)/i))&&a[1]&&(/bold/i.test(a[1])?t=7:/[1-9]00/.test(a[1])&&(t=parseInt(a[1].substr(0,1),10)))),o+t}function D(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new f('-'),this.j=!1!==t.events,this.g=!1!==t.classes}function w(e){e.g&&g(e.f,[e.a.c('wf','loading')]),L(e,'loading')}function G(e){if(e.g){var t=u(e.f,e.a.c('wf','active')),o=[],a=[e.a.c('wf','loading')];t||o.push(e.a.c('wf','inactive')),g(e.f,o,a)}L(e,'inactive')}function L(e,t,o){e.j&&e.h[t]&&(o?e.h[t](o.c,I(o)):e.h[t]())}function k(){this.c={}}function z(t,o,a){var n=[],i;for(i in o)if(o.hasOwnProperty(i)){var e=t.c[i];e&&n.push(e(o[i],a))}return n}function j(e,t){this.c=e,this.f=t,this.a=p(this.c,'span',{"aria-hidden":'true'},this.f)}function M(e){t(e.c,'body',e.a)}function N(e){return'display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'+A(e.c)+';'+('font-style:'+b(e)+';font-weight:'+(e.f+'00;'))}function O(t,o,a,n,i,e){this.g=t,this.j=o,this.a=n,this.c=a,this.f=i||3E3,this.h=e||void 0}function P(t,o,a,n,i,e,r){this.v=t,this.B=o,this.c=a,this.a=n,this.s=r||'BESbswy',this.f={},this.w=i||3E3,this.u=e||null,this.m=this.j=this.h=this.g=null,this.g=new j(this.c,this.s),this.h=new j(this.c,this.s),this.j=new j(this.c,this.s),this.m=new j(this.c,this.s),t=new E(this.a.c+',serif',I(this.a)),t=N(t),this.g.a.style.cssText=t,t=new E(this.a.c+',sans-serif',I(this.a)),t=N(t),this.h.a.style.cssText=t,t=new E('serif',I(this.a)),t=N(t),this.j.a.style.cssText=t,t=new E('sans-serif',I(this.a)),t=N(t),this.m.a.style.cssText=t,M(this.g),M(this.h),M(this.j),M(this.m)}function K(){if(null==R){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);R=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return R}function T(e,t,o){for(var a in ge)if(ge.hasOwnProperty(a)&&t===e.f[ge[a]]&&o===e.f[ge[a]])return!0;return!1}function B(e){var t=e.g.a.offsetWidth,o=e.h.a.offsetWidth,a;(a=t===e.f.serif&&o===e.f['sans-serif'])||(a=K()&&T(e,t,o)),a?pe()-e.A>=e.w?K()&&T(e,t,o)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?H(e,e.v):H(e,e.B):U(e):H(e,e.v)}function U(e){setTimeout(s(function(){B(this)},e),50)}function H(e,t){setTimeout(s(function(){d(this.g.a),d(this.h.a),d(this.j.a),d(this.m.a),t(this.a)},e),0)}function V(e,t,o){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=o}function W(e){0==--e.f&&e.j&&(e.m?(e=e.a,e.g&&g(e.f,[e.a.c('wf','active')],[e.a.c('wf','loading'),e.a.c('wf','inactive')]),L(e,'active')):G(e.a))}function J(e){this.j=e,this.a=new k,this.h=0,this.f=this.g=!0}function Q(t,o,a,i,d){var e=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=i||null||{};if(0===a.length&&e)G(o.a);else{o.f+=a.length,e&&(o.j=e);var p=[],l;for(l=0;l<a.length;l++){var c=a[l],u=t[c.c],n=o.a,r=c;if(n.g&&g(n.f,[n.a.c('wf',r.c,I(r).toString(),'loading')]),L(n,'fontloading',r),n=null,null==S)if(window.FontFace){var r=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),_=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);S=r?42<parseInt(r[1],10):!_}else S=!1;n=S?new O(s(o.g,o),s(o.h,o),o.c,c,o.s,u):new P(s(o.g,o),s(o.h,o),o.c,c,o.s,d||null,u),p.push(n)}for(l=0;l<p.length;l++)p[l].start()}},0)}function $(t,o,a){var n=[],i=a.timeout;w(o);var n=z(t.a,a,t.c),e=new V(t.c,o,i);for(t.h=n.length,o=0,a=n.length;o<a;o++)n[o].load(function(o,a,n){Q(t,e,o,a,n)})}function ee(e,t){this.c=e,this.a=t}function te(e,t){this.c=e,this.a=t}function oe(e,t){this.c=e?e:X,this.a=[],this.f=[],this.g=t||''}function ae(t,o){for(var a=o.length,n=0,i;n<a;n++){i=o[n].split(':'),3==i.length&&t.f.push(i.pop());var e='';2==i.length&&''!=i[1]&&(e=':'),t.a.push(i.join(e))}}function ne(e){if(0==e.a.length)throw Error('No fonts to load!');if(-1!=e.c.indexOf('kit='))return e.c;for(var t=e.a.length,o=[],a=0;a<t;a++)o.push(e.a[a].replace(/ /g,'+'));return t=e.c+'?family='+o.join('%7C'),0<e.f.length&&(t+='&subset='+e.f.join(',')),0<e.g.length&&(t+='&text='+encodeURIComponent(e.g)),t}function ie(e){this.f=e,this.a=[],this.c={}}function re(t){for(var o=t.f.length,a=0;a<o;a++){var i=t.f[a].split(':'),s=i[0].replace(/\+/g,' '),e=['n4'];if(2<=i.length){var d=i[1],p;if(p=[],d)for(var d=d.split(','),g=d.length,c=0;c<g;c++){var l;if(l=d[c],l.match(/^[\w-]+$/)){var u=ye.exec(l.toLowerCase());if(null==u)l='';else{if(l=u[2],l=null==l||''==l?'n':_e[l],u=u[1],null==u||''==u)u='4';else var n=ue[u],u=n?n:isNaN(u)?'4':u.substr(0,1);l=[l,u].join('')}}else l='';l&&p.push(l)}0<p.length&&(e=p),3==i.length&&(i=i[2],p=[],i=i?i.split(','):p,0<i.length&&(i=ce[i[0]])&&(t.c[s]=i))}for(t.c[s]||(i=ce[s])&&(t.c[s]=i),i=0;i<e.length;i+=1)t.a.push(new E(s,e[i]))}}function le(e,t){this.c=e,this.a=t}function se(e,t){this.c=e,this.a=t}function de(e,t){this.c=e,this.f=t,this.a=[]}var pe=Date.now||function(){return+new Date},q=!!window.FontFace;f.prototype.c=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t].replace(/[\W_]+/g,'').toLowerCase());return e.join(this.a)};O.prototype.start=function(){var t=this.c.o.document,o=this,a=pe(),n=new Promise(function(n,i){function e(){pe()-a>=o.f?i():t.fonts.load(v(o.a),o.h).then(function(t){1<=t.length?n():setTimeout(e,25)},function(){i()})}e()}),i=null,e=new Promise(function(e,t){i=setTimeout(t,o.f)});Promise.race([e,n]).then(function(){i&&(clearTimeout(i),i=null),o.g(o.a)},function(){o.j(o.a)})};var ge={D:'serif',C:'sans-serif'},R=null;P.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f['sans-serif']=this.m.a.offsetWidth,this.A=pe(),B(this)};var S=null;V.prototype.g=function(e){var t=this.a;t.g&&g(t.f,[t.a.c('wf',e.c,I(e).toString(),'active')],[t.a.c('wf',e.c,I(e).toString(),'loading'),t.a.c('wf',e.c,I(e).toString(),'inactive')]),L(t,'fontactive',e),this.m=!0,W(this)},V.prototype.h=function(t){var o=this.a;if(o.g){var a=u(o.f,o.a.c('wf',t.c,I(t).toString(),'active')),n=[],i=[o.a.c('wf',t.c,I(t).toString(),'loading')];a||n.push(o.a.c('wf',t.c,I(t).toString(),'inactive')),g(o.f,n,i)}L(o,'fontinactive',t),W(this)};J.prototype.load=function(e){this.c=new l(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,$(this,new D(this.c,e),e)};ee.prototype.load=function(t){function o(){if(r['__mti_fntLst'+n]){var a=r['__mti_fntLst'+n](),i=[],e;if(a)for(var s=0,l;s<a.length;s++)l=a[s].fontfamily,void 0!=a[s].fontStyle&&void 0!=a[s].fontWeight?(e=a[s].fontStyle+a[s].fontWeight,i.push(new E(l,e))):i.push(new E(l));t(i)}else setTimeout(function(){o()},50)}var a=this,n=a.a.projectId,i=a.a.version;if(n){var r=a.c.o;h(this.c,(a.a.api||'https://fast.fonts.net/jsapi')+'/'+n+'.js'+(i?'?v='+i:''),function(i){i?t([]):(r['__MonotypeConfiguration__'+n]=function(){return a.a},o())}).id='__MonotypeAPIScript__'+n}else t([])},te.prototype.load=function(t){var o=this.a.urls||[],a=this.a.families||[],e=this.a.testStrings||{},n=new x,i,r;for(i=0,r=o.length;i<r;i++)y(this.c,o[i],m(n));var s=[];for(i=0,r=a.length;i<r;i++)if(o=a[i].split(':'),o[1])for(var d=o[1].split(','),p=0;p<d.length;p+=1)s.push(new E(o[0],d[p]));else s.push(new E(o[0]));C(n,function(){t(s,e)})};var X='https://fonts.googleapis.com/css';var ce={latin:'BESbswy',"latin-ext":'\xE7\xF6\xFC\u011F\u015F',cyrillic:'\u0439\u044F\u0416',greek:'\u03B1\u03B2\u03A3',khmer:'\u1780\u1781\u1782',Hanuman:'\u1780\u1781\u1782'},ue={thin:'1',extralight:'2',"extra-light":'2',ultralight:'2',"ultra-light":'2',light:'3',regular:'4',book:'4',medium:'5',"semi-bold":'6',semibold:'6',"demi-bold":'6',demibold:'6',bold:'7',"extra-bold":'8',extrabold:'8',"ultra-bold":'8',ultrabold:'8',black:'9',heavy:'9',l:'3',r:'4',b:'7'},_e={i:'i',italic:'i',n:'n',normal:'n'},ye=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;var he={Arimo:!0,Cousine:!0,Tinos:!0};le.prototype.load=function(t){var o=new x,a=this.c,n=new oe(this.a.api,this.a.text),i=this.a.families;ae(n,i);var e=new ie(i);re(e),y(a,ne(n),m(o)),C(o,function(){t(e.a,e.c,he)})},se.prototype.load=function(t){var e=this.a.id,o=this.c.o;e?h(this.c,(this.a.api||'https://use.typekit.net')+'/'+e+'.js',function(a){if(a)t([]);else if(o.Typekit&&o.Typekit.config&&o.Typekit.config.fn){a=o.Typekit.config.fn;for(var n=[],e=0;e<a.length;e+=2)for(var i=a[e],r=a[e+1],l=0;l<r.length;l++)n.push(new E(i,r[l]));try{o.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}t(n)}},2E3):t([])},de.prototype.load=function(e){var t=this.f.id,o=this.c.o,a=this;t?(o.__webfontfontdeckmodule__||(o.__webfontfontdeckmodule__={}),o.__webfontfontdeckmodule__[t]=function(t,o){for(var n=0,i=o.fonts.length,r;n<i;++n)r=o.fonts[n],a.a.push(new E(r.name,F('font-weight:'+r.weight+';font-style:'+r.style)));e(a.a)},h(this.c,(this.f.api||'https://f.fontdeck.com/s/css/js/')+_(this.c)+'/'+t+'.js',function(t){t&&e([])})):e([])};var me=new J(window);me.a.c.custom=function(e,t){return new te(t,e)},me.a.c.fontdeck=function(e,t){return new de(t,e)},me.a.c.monotype=function(e,t){return new ee(t,e)},me.a.c.typekit=function(e,t){return new se(t,e)},me.a.c.google=function(e,t){return new le(t,e)};var Y={load:s(me.load,me)};n=function(){return Y}.call(o,a,o,e),!(n!==void 0&&(e.exports=n))})()},function(e,t,o){'use strict';var a=o(0),n=o(257),r=o.n(n),l=o(259),i=o.n(l),s=o(89),d=o(88),p=o(19),g=o(9),c=o(90),u=o(137),_=o(91),y=o(61),h=o(44),m=o(59),f=o(22),E=o(262),T=function(e){s.a.call(this);var t=e?e:{};this.defaultDataProjection=new m.a({code:'',units:f.a.TILE_PIXELS}),this.featureClass_=t.featureClass?t.featureClass:E.a,this.geometryName_=t.geometryName,this.layerName_=t.layerName?t.layerName:'layer',this.layers_=t.layers?t.layers:null,this.extent_=null};a.a.inherits(T,s.a),T.prototype.getLastExtent=function(){return this.extent_},T.prototype.getType=function(){return d.a.ARRAY_BUFFER},T.prototype.readFeature_=function(e,t,o){var a=new this.featureClass_,n=e.id,i=e.properties;i[this.layerName_]=t,this.geometryName_&&a.setGeometryName(this.geometryName_);var r=s.a.transformWithOptions(T.readGeometry_(e),!1,this.adaptOptions(o));return a.setGeometry(r),a.setId(n),a.setProperties(i),a},T.prototype.readRenderFeature_=function(e,t){var o=e.loadGeometry(),a=[],n=[];T.calculateFlatCoordinates_(o,n,a);var i=e.type,r;1===i?r=1===o.length?g.a.POINT:g.a.MULTI_POINT:2===i?1===o.length?r=g.a.LINE_STRING:r=g.a.MULTI_LINE_STRING:3===i&&(r=g.a.POLYGON);var l=e.properties;l[this.layerName_]=t;var s=e.id;return new this.featureClass_(r,n,a,l,s)},T.prototype.readFeatures=function(e,t){var o=this.layers_,a=new r.a(e),n=new l.VectorTile(a),s=[],d=this.featureClass_,p,g;for(var c in n.layers)if(!(o&&-1==o.indexOf(c))){p=n.layers[c];for(var u=0,i=p.length,_;u<i;++u)_=p.feature(u),g=d===E.a?this.readRenderFeature_(_,c):this.readFeature_(_,c,t),s.push(g);this.extent_=p?[0,0,p.extent,p.extent]:null}return s},T.prototype.readProjection=function(){return this.defaultDataProjection},T.prototype.setLayers=function(e){this.layers_=e},T.calculateFlatCoordinates_=function(e,t,o){for(var a=0,n=0,i=e.length;n<i;++n){var r=e[n],l,s;for(l=0,s=r.length;l<s;++l){var d=r[l];t.push(d.x,d.y)}a+=2*l,o.push(a)}},T.readGeometry_=function(e){var t=e.type;if(0===t)return null;var o=e.loadGeometry(),a=[],n=[];T.calculateFlatCoordinates_(o,n,a);var i;return 1===t?i=1===o.length?new y.a(null):new _.a(null):2===t?1===o.length?i=new c.a(null):i=new u.a(null):3===t&&(i=new h.a(null)),i.setFlatCoordinates(p.a.XY,n,a),i},T.prototype.readFeature=function(){},T.prototype.readGeometry=function(){},T.prototype.writeFeature=function(){},T.prototype.writeGeometry=function(){},T.prototype.writeFeatures=function(){},t.a=T},function(e,t,o){'use strict';function a(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function n(e,t,o){var a=o.buf,n,i;if(i=a[o.pos++],n=(112&i)>>4,128>i)return r(e,n,t);if(i=a[o.pos++],n|=(127&i)<<3,128>i)return r(e,n,t);if(i=a[o.pos++],n|=(127&i)<<10,128>i)return r(e,n,t);if(i=a[o.pos++],n|=(127&i)<<17,128>i)return r(e,n,t);if(i=a[o.pos++],n|=(127&i)<<24,128>i)return r(e,n,t);if(i=a[o.pos++],n|=(1&i)<<31,128>i)return r(e,n,t);throw new Error('Expected varint not more than 10 bytes')}function i(e){return e.type===a.Bytes?e.readVarint()+e.pos:e.pos+1}function r(e,t,o){return o?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function l(e,t){var o,a;if(0<=e?(o=0|e%4294967296,a=0|e/4294967296):(o=~(-e%4294967296),a=~(-e/4294967296),4294967295^o?o=0|o+1:(o=0,a=0|a+1)),0x10000000000000000<=e||-0x10000000000000000>e)throw new Error('Given varint doesn\'t fit into 10 bytes');t.realloc(10),s(o,a,t),d(a,t)}function s(e,t,o){o.buf[o.pos++]=128|127&e,e>>>=7,o.buf[o.pos++]=128|127&e,e>>>=7,o.buf[o.pos++]=128|127&e,e>>>=7,o.buf[o.pos++]=128|127&e,e>>>=7,o.buf[o.pos]=127&e}function d(e,t){var o=(7&e)<<4;(t.buf[t.pos++]|=o|((e>>>=3)?128:0),!!e)&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!!e)&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!!e)&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!!e)&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e))}function p(e,t,o){var a=16383>=t?1:2097151>=t?2:268435455>=t?3:Math.ceil(Math.log(t)/(7*Math.LN2));o.realloc(a);for(var n=o.pos-1;n>=e;n--)o.buf[n+a]=o.buf[n]}function g(e,t){for(var o=0;o<e.length;o++)t.writeVarint(e[o])}function c(e,t){for(var o=0;o<e.length;o++)t.writeSVarint(e[o])}function u(e,t){for(var o=0;o<e.length;o++)t.writeFloat(e[o])}function _(e,t){for(var o=0;o<e.length;o++)t.writeDouble(e[o])}function y(e,t){for(var o=0;o<e.length;o++)t.writeBoolean(e[o])}function h(e,t){for(var o=0;o<e.length;o++)t.writeFixed32(e[o])}function m(e,t){for(var o=0;o<e.length;o++)t.writeSFixed32(e[o])}function f(e,t){for(var o=0;o<e.length;o++)t.writeFixed64(e[o])}function E(e,t){for(var o=0;o<e.length;o++)t.writeSFixed64(e[o])}function T(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function S(e,t,o){e[o]=t,e[o+1]=t>>>8,e[o+2]=t>>>16,e[o+3]=t>>>24}function x(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function C(e,t,o){for(var a='',n=t;n<o;){var i=e[n],r=null,l=239<i?4:223<i?3:191<i?2:1;if(n+l>o)break;var s,d,p;1==l?128>i&&(r=i):2==l?(s=e[n+1],128==(192&s)&&(r=(31&i)<<6|63&s,127>=r&&(r=null))):3==l?(s=e[n+1],d=e[n+2],128==(192&s)&&128==(192&d)&&(r=(15&i)<<12|(63&s)<<6|63&d,(2047>=r||55296<=r&&57343>=r)&&(r=null))):4==l&&(s=e[n+1],d=e[n+2],p=e[n+3],128==(192&s)&&128==(192&d)&&128==(192&p)&&(r=(15&i)<<18|(63&s)<<12|(63&d)<<6|63&p,(65535>=r||1114112<=r)&&(r=null))),null===r?(r=65533,l=1):65535<r&&(r-=65536,a+=I(55296|1023&r>>>10),r=56320|1023&r),a+=I(r),n+=l}return a}function R(e,t,o){for(var a=0,n,i;a<t.length;a++){if(n=t.charCodeAt(a),!(55295<n&&57344>n))i&&(e[o++]=239,e[o++]=191,e[o++]=189,i=null);else if(!i){56319<n||a+1===t.length?(e[o++]=239,e[o++]=191,e[o++]=189):i=n;continue}else if(56320>n){e[o++]=239,e[o++]=191,e[o++]=189,i=n;continue}else n=65536|(i-55296<<10|n-56320),i=null;128>n?e[o++]=n:(2048>n?e[o++]=192|n>>6:(65536>n?e[o++]=224|n>>12:(e[o++]=240|n>>18,e[o++]=128|63&n>>12),e[o++]=128|63&n>>6),e[o++]=128|63&n)}return o}var I=String.fromCharCode,L=Math.floor;e.exports=a;var v=o(258);a.Varint=0,a.Fixed64=1,a.Bytes=2,a.Fixed32=5;var O=4294967296,P=1/O;a.prototype={destroy:function(){this.buf=null},readFields:function(e,t,o){for(o=o||this.length;this.pos<o;){var a=this.readVarint(),n=this.pos;this.type=7&a,e(a>>3,t,this),this.pos===n&&this.skip(a)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=T(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=x(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=T(this.buf,this.pos)+T(this.buf,this.pos+4)*O;return this.pos+=8,e},readSFixed64:function(){var e=T(this.buf,this.pos)+x(this.buf,this.pos+4)*O;return this.pos+=8,e},readFloat:function(){var e=v.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=v.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t=this.buf,o,a;return(a=t[this.pos++],o=127&a,128>a)?o:(a=t[this.pos++],o|=(127&a)<<7,128>a)?o:(a=t[this.pos++],o|=(127&a)<<14,128>a)?o:(a=t[this.pos++],o|=(127&a)<<21,128>a)?o:(a=t[this.pos],o|=(15&a)<<28,n(o,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return 1==e%2?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,t=C(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var o=i(this);for(e=e||[];this.pos<o;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===a.Varint)for(;127<this.buf[this.pos++];);else if(t===a.Bytes)this.pos=this.readVarint()+this.pos;else if(t===a.Fixed32)this.pos+=4;else if(t===a.Fixed64)this.pos+=8;else throw new Error('Unimplemented type: '+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var o=new Uint8Array(t);o.set(this.buf),this.buf=o,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),S(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),S(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),S(this.buf,-1&e,this.pos),S(this.buf,L(e*P),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),S(this.buf,-1&e,this.pos),S(this.buf,L(e*P),this.pos+4),this.pos+=8},writeVarint:function(e){return(e=+e||0,268435455<e||0>e)?void l(e,this):void((this.realloc(4),this.buf[this.pos++]=127&e|(127<e?128:0),!(127>=e))&&(this.buf[this.pos++]=127&(e>>>=7)|(127<e?128:0),!(127>=e))&&(this.buf[this.pos++]=127&(e>>>=7)|(127<e?128:0),127>=e||(this.buf[this.pos++]=127&e>>>7)))},writeSVarint:function(e){this.writeVarint(0>e?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=e+'',this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=R(this.buf,e,this.pos);var o=this.pos-t;128<=o&&p(t,o,this),this.pos=t-1,this.writeVarint(o),this.pos+=o},writeFloat:function(e){this.realloc(4),v.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),v.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var o=0;o<t;o++)this.buf[this.pos++]=e[o]},writeRawMessage:function(e,t){this.pos++;var o=this.pos;e(t,this);var a=this.pos-o;128<=a&&p(o,a,this),this.pos=o-1,this.writeVarint(a),this.pos+=a},writeMessage:function(e,t,o){this.writeTag(e,a.Bytes),this.writeRawMessage(t,o)},writePackedVarint:function(e,t){this.writeMessage(e,g,t)},writePackedSVarint:function(e,t){this.writeMessage(e,c,t)},writePackedBoolean:function(e,t){this.writeMessage(e,y,t)},writePackedFloat:function(e,t){this.writeMessage(e,u,t)},writePackedDouble:function(e,t){this.writeMessage(e,_,t)},writePackedFixed32:function(e,t){this.writeMessage(e,h,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,m,t)},writePackedFixed64:function(e,t){this.writeMessage(e,f,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,E,t)},writeBytesField:function(e,t){this.writeTag(e,a.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,a.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,a.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,a.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,a.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,a.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,a.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,a.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,a.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,a.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,!!t)}}},function(e,t){var o=Math.pow;t.read=function(t,a,n,r,l){var p=8*l-r-1,g=(1<<p)-1,c=g>>1,u=-7,_=n?l-1:0,i=n?-1:1,d=t[a+_],s,e;for(_+=i,s=d&(1<<-u)-1,d>>=-u,u+=p;0<u;s=256*s+t[a+_],_+=i,u-=8);for(e=s&(1<<-u)-1,s>>=-u,u+=r;0<u;e=256*e+t[a+_],_+=i,u-=8);if(0===s)s=1-c;else{if(s===g)return e?NaN:(d?-1:1)*Infinity;e+=o(2,r),s-=c}return(d?-1:1)*e*o(2,s-r)},t.write=function(t,a,n,r,l,p){var g=8*p-l-1,u=(1<<g)-1,_=u>>1,y=23===l?5.960464477539063e-8-6.617444900424222e-24:0,h=r?0:p-1,i=r?1:-1,d=0>a||0===a&&0>1/a?1:0,s,f,m;for(a=Math.abs(a),isNaN(a)||a===Infinity?(f=isNaN(a)?1:0,s=u):(s=Math.floor(Math.log(a)/Math.LN2),1>a*(m=o(2,-s))&&(s--,m*=2),a+=1<=s+_?y/m:y*o(2,1-_),2<=a*m&&(s++,m/=2),s+_>=u?(f=0,s=u):1<=s+_?(f=(a*m-1)*o(2,l),s+=_):(f=a*o(2,_-1)*o(2,l),s=0));8<=l;t[n+h]=255&f,h+=i,f/=256,l-=8);for(s=s<<l|f,g+=l;0<g;t[n+h]=255&s,h+=i,s/=256,g-=8);t[n+h-i]|=128*d}},function(e,t,o){e.exports.VectorTile=o(260),e.exports.VectorTileFeature=o(143),e.exports.VectorTileLayer=o(142)},function(e,t,o){'use strict';function a(e,t,o){if(3===e){var a=new n(o,o.readVarint()+o.pos);a.length&&(t[a.name]=a)}}var n=o(142);e.exports=function(e,t){this.layers=e.readFields(a,{},t)}},function(e){'use strict';function t(e,t){this.x=e,this.y=t}var o=Math.atan2,a=Math.sqrt,n=Math.round,i=Math.sin,r=Math.cos;e.exports=t,t.prototype={clone:function(){return new t(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return a(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return a(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,o=e.y-this.y;return t*t+o*o},angle:function(){return o(this.y,this.x)},angleTo:function(e){return o(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return o(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,o=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=o,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=r(e),o=i(e),a=t*this.x-o*this.y,n=o*this.x+t*this.y;return this.x=a,this.y=n,this},_rotateAround:function(e,t){var o=r(e),a=i(e),n=t.x+o*(this.x-t.x)-a*(this.y-t.y),l=t.y+a*(this.x-t.x)+o*(this.y-t.y);return this.x=n,this.y=l,this},_round:function(){return this.x=n(this.x),this.y=n(this.y),this}},t.convert=function(e){return e instanceof t?e:Array.isArray(e)?new t(e[0],e[1]):e}},function(e,t,o){'use strict';var a=o(0),n=o(1),i=o(9),r=function(e,t,o,a,n){this.extent_,this.id_=n,this.type_=e,this.flatCoordinates_=t,this.ends_=o,this.properties_=a};r.prototype.get=function(e){return this.properties_[e]},r.prototype.getEnds=function(){return this.ends_},r.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===i.a.POINT?n.a.createOrUpdateFromCoordinate(this.flatCoordinates_):n.a.createOrUpdateFromFlatCoordinates(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},r.prototype.getId=function(){return this.id_},r.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},r.prototype.getFlatCoordinates=r.prototype.getOrientedFlatCoordinates,r.prototype.getGeometry=function(){return this},r.prototype.getProperties=function(){return this.properties_},r.prototype.getSimplifiedGeometry=r.prototype.getGeometry,r.prototype.getStride=function(){return 2},r.prototype.getStyleFunction=a.a.nullFunction,r.prototype.getType=function(){return this.type_},t.a=r},function(e,t,o){'use strict';var a=o(0),n=o(7),i=o(121),r=o(84),l=o(144),s=o(2),d=o(37),p=o(264),g=function(e){var t=e?e:{},o=s.a.assign({},t);delete o.preload,delete o.useInterimTilesOnError,r['default'].call(this,o),this.setPreload(t.preload?t.preload:0),this.setUseInterimTilesOnError(!t.useInterimTilesOnError||t.useInterimTilesOnError),n.a.assert(t.renderMode==void 0||t.renderMode==l.a.IMAGE||t.renderMode==l.a.HYBRID||t.renderMode==l.a.VECTOR,28),this.renderMode_=t.renderMode||l.a.HYBRID};a.a.inherits(g,r['default']),g.prototype.createRenderer=function(e){var t=null,o=e.getType();return a.a.ENABLE_CANVAS&&o===d.a.CANVAS&&(t=new p.a(this)),t},g.prototype.getPreload=function(){return this.get(i.a.PRELOAD)},g.prototype.getRenderMode=function(){return this.renderMode_},g.prototype.getUseInterimTilesOnError=function(){return this.get(i.a.USE_INTERIM_TILES_ON_ERROR)},g.prototype.setPreload=function(e){this.set(i.a.PRELOAD,e)},g.prototype.setUseInterimTilesOnError=function(e){this.set(i.a.USE_INTERIM_TILES_ON_ERROR,e)},g.prototype.getSource,t.a=g},function(e,t,o){'use strict';var a=Math.round,n=o(0),r=o(11),i=o(8),l=o(1),s=o(10),d=o(22),p=o(144),g=o(66),c=o(21),u=o(131),_=o(81),y=o(122),h=o(85),m=o(31),f=o(13),E=function(e){this.context=null,y.a.call(this,e),this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=f.a.create(),this.zDirection=e.getRenderMode()==p.a.VECTOR?1:0};n.a.inherits(E,y.a),E.IMAGE_REPLAYS={image:[g.a.POLYGON,g.a.CIRCLE,g.a.LINE_STRING,g.a.IMAGE,g.a.TEXT],hybrid:[g.a.POLYGON,g.a.LINE_STRING]},E.VECTOR_REPLAYS={image:[g.a.DEFAULT],hybrid:[g.a.IMAGE,g.a.TEXT,g.a.DEFAULT],vector:_.a.ORDER},E.prototype.prepareFrame=function(){var e=this.getLayer(),t=e.getRevision();if(this.renderedLayerRevision_!=t){this.renderedTiles.length=0;var o=e.getRenderMode();this.context||o==p.a.VECTOR||(this.context=i.a.createCanvasContext2D()),this.context&&o==p.a.VECTOR&&(this.context=null)}return this.renderedLayerRevision_=t,y.a.prototype.prepareFrame.apply(this,arguments)},E.prototype.createReplayGroup_=function(e,o){var a=this.getLayer(),n=o.pixelRatio,r=o.viewState.projection,p=a.getRevision(),g=a.getRenderOrder()||null,c=e.getReplayState(a);if(c.dirty||c.renderedRevision!=p||c.renderedRenderOrder!=g){for(var _=a.getSource(),y=_.getTileGrid(),m=_.getTileGridForProjection(r),E=m.getResolution(e.tileCoord[0]),T=m.getTileCoordExtent(e.wrappedTileCoord),S=0,t=e.tileKeys.length,x;S<t;++S){x=e.getTile(e.tileKeys[S]),c.dirty=!1;var C=x.tileCoord,R=x.getProjection(),I=y.getResolution(x.tileCoord[0]),L=y.getTileCoordExtent(C),v=l.a.getIntersection(T,L),O,P,A;if(R.getUnits()==d.a.TILE_PIXELS){var b=A=this.getTilePixelRatio_(_,x),F=f.a.compose(this.tmpTransform_,0,0,1/I*b,-1/I*b,0,-L[0],-L[3]);O=f.a.apply(F,[v[0],v[3]]).concat(f.a.apply(F,[v[2],v[1]]))}else A=E,O=v,s['default'].equivalent(r,R)||(P=!0,x.setProjection(r));c.dirty=!1;var D=new u.a(0,O,A,_.getOverlaps(),a.getRenderBuffer()),w=h.a.getSquaredTolerance(A,n),N=function(e){var t=e.getStyleFunction(),o;if(t?o=t.call(e,E):(t=a.getStyleFunction(),t&&(o=t(e,E))),o){Array.isArray(o)||(o=[o]);var n=this.renderFeature(e,w,o,D);this.dirty_=this.dirty_||n,c.dirty=c.dirty||n}},k=x.getFeatures();g&&g!==c.renderedRenderOrder&&k.sort(g);for(var G=0,i=k.length,M;G<i;++G)M=k[G],P&&M.getGeometry().transform(R,r),N.call(this,M);D.finish(),x.setReplayGroup(a,e.tileCoord.toString(),D)}c.renderedRevision=p,c.renderedRenderOrder=g}},E.prototype.drawTileImage=function(e,t,o){var a=e;this.createReplayGroup_(a,t),this.context&&(this.renderTileImage_(a,t,o),y.a.prototype.drawTileImage.apply(this,arguments))},E.prototype.forEachFeatureAtCoordinate=function(e,o,a,r,s){var p=o.viewState.resolution,g=o.viewState.rotation;a=a==void 0?0:a;var c=this.getLayer(),u={},_=this.renderedTiles,y=c.getSource(),h=y.getTileGridForProjection(o.viewState.projection),m=y.getTileGrid(),f,E,T,S,i,x,C,R,I,L,v,O;for(S=0,i=_.length;S<i;++S)if(R=_[S],I=R.tileCoord,L=h.getTileCoordExtent(I,this.tmpExtent),f=l.a.buffer(L,a*p,f),!!l.a.containsCoordinate(f,e))for(var P=0,t=R.tileKeys.length,A;P<t;++P){if(A=R.getTile(R.tileKeys[P]),A.getProjection().getUnits()===d.a.TILE_PIXELS){var b=A.tileCoord,F=m.getTileCoordExtent(b,this.tmpExtent);x=l.a.getTopLeft(F),v=this.getTilePixelRatio_(y,A);var D=m.getResolution(b[0]);O=D/v,T=[(e[0]-x[0])/O,(x[1]-e[1])/O];var w=h.getResolution(I[0])/D;p=v*w}else T=e;C=A.getReplayGroup(c,R.tileCoord.toString()),E=E||C.forEachFeatureAtCoordinate(T,p,g,a,{},function(e){var t=n.a.getUid(e).toString();if(!(t in u))return u[t]=!0,r.call(s,e,c)})}return E},E.prototype.getReplayTransform_=function(e,t){if(e.getProjection().getUnits()==d.a.TILE_PIXELS){var o=this.getLayer(),n=o.getSource(),i=n.getTileGrid(),r=e.tileCoord,s=i.getResolution(r[0])/this.getTilePixelRatio_(n,e),p=t.viewState,g=t.pixelRatio,c=p.resolution/g,u=i.getTileCoordExtent(r,this.tmpExtent),_=p.center,y=l.a.getTopLeft(u),h=t.size,m=a(g*h[0]/2),E=a(g*h[1]/2);return f.a.compose(this.tmpTransform_,m,E,s/c,s/c,p.rotation,(y[0]-_[0])/s,(_[1]-y[1])/s)}return this.getTransform(t,0)},E.prototype.getTilePixelRatio_=function(e,t){return l.a.getWidth(t.getExtent())/m.a.toSize(e.getTileGrid().getTileSize(t.tileCoord[0]))[0]},E.prototype.handleStyleImageChange_=function(){this.renderIfReadyAndVisible()},E.prototype.postCompose=function(e,o,n){for(var l=this.getLayer(),s=l.getSource(),d=l.getRenderMode(),g=E.VECTOR_REPLAYS[d],u=o.pixelRatio,_=o.viewState.rotation,h=o.size,m=a(u*h[0]/2),T=a(u*h[1]/2),S=this.renderedTiles,x=s.getTileGrid(),C=s.getTileGridForProjection(o.viewState.projection),R=[],I=[],L=S.length-1,i;0<=L;--L)if(i=S[L],i.getState()!=r.a.ABORT)for(var v=i.tileCoord,O=C.getTileCoordExtent(v)[0]-C.getTileCoordExtent(i.wrappedTileCoord)[0],P=0,t=i.tileKeys.length;P<t;++P){var A=i.getTile(i.tileKeys[P]),b=this.getTilePixelRatio_(s,A),F=A.getReplayGroup(l,v.toString());if(d==p.a.VECTOR||F.hasReplays(g)){var D=A.tileCoord[0],w=x.getResolution(D),N=this.getReplayTransform_(A,o);f.a.translate(N,O*b/w,0);var k=F.getClipCoords(N);e.save(),e.globalAlpha=n.opacity,c.a.rotateAtOffset(e,-_,m,T);for(var G=0,M=R.length,U;G<M;++G)U=R[G],D<I[G]&&(e.beginPath(),e.moveTo(k[0],k[1]),e.lineTo(k[2],k[3]),e.lineTo(k[4],k[5]),e.lineTo(k[6],k[7]),e.moveTo(U[6],U[7]),e.lineTo(U[4],U[5]),e.lineTo(U[2],U[3]),e.lineTo(U[0],U[1]),e.clip());F.replay(e,u,N,_,{},g),e.restore(),R.push(k),I.push(D)}}y.a.prototype.postCompose.apply(this,arguments)},E.prototype.renderFeature=function(e,t,o,a){if(!o)return!1;var n=!1;if(Array.isArray(o))for(var r=0,i=o.length;r<i;++r)n=h.a.renderFeature(a,e,o[r],t,this.handleStyleImageChange_,this)||n;else n=h.a.renderFeature(a,e,o,t,this.handleStyleImageChange_,this)||n;return n},E.prototype.renderTileImage_=function(e,t){var o=this.getLayer(),n=e.getReplayState(o),r=o.getRevision(),l=E.IMAGE_REPLAYS[o.getRenderMode()];if(l&&n.renderedTileRevision!==r){n.renderedTileRevision=r;var s=e.wrappedTileCoord,p=s[0],g=t.pixelRatio,c=o.getSource(),u=c.getTileGrid(),_=c.getTileGridForProjection(t.viewState.projection),y=_.getResolution(p),h=e.getContext(o),m=c.getTilePixelSize(p,g,t.viewState.projection);h.canvas.width=m[0],h.canvas.height=m[1];for(var T=_.getTileCoordExtent(s),S=0,i=e.tileKeys.length;S<i;++S){var x=e.getTile(e.tileKeys[S]),C=this.getTilePixelRatio_(c,x),R=x.tileCoord,I=g/y,L=f.a.reset(this.tmpTransform_);if(x.getProjection().getUnits()==d.a.TILE_PIXELS){var v=u.getTileCoordExtent(R,this.tmpExtent),O=u.getResolution(R[0]),P=g/C*O/y;f.a.scale(L,P,P);var A=(v[0]-T[0])/O*C,b=(T[3]-v[3])/O*C;f.a.translate(L,a(A),a(b))}else f.a.scale(L,I,-I),f.a.translate(L,-T[0],-T[3]);var F=x.getReplayGroup(o,e.tileCoord.toString());F.replay(h,g,L,0,{},l,!0)}}},t.a=E},function(e,t,o){'use strict';var a=o(0),n=o(71),i=o(129),r=o(7),l=o(1),s=o(266),d=o(10),p=o(24),g=o(126),c=o(32),u=function(e){if(this.tileJSON_=null,g.a.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:d['default'].get('EPSG:3857'),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:p.a.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX}),!e.url)e.tileJSON?this.handleTileJSONResponse(e.tileJSON):r.a.assert(!1,51);else if(e.jsonp)s.a.jsonp(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var t=new XMLHttpRequest;t.addEventListener('load',this.onXHRLoad_.bind(this)),t.addEventListener('error',this.onXHRError_.bind(this)),t.open('GET',e.url),t.send()}};a.a.inherits(u,g.a),u.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||200<=t.status&&300>t.status){var o;try{o=JSON.parse(t.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(o)}else this.handleTileJSONError()},u.prototype.onXHRError_=function(){this.handleTileJSONError()},u.prototype.getTileJSON=function(){return this.tileJSON_},u.prototype.handleTileJSONResponse=function(e){var t=d['default'].get('EPSG:4326'),o=this.getProjection(),a;if(void 0!==e.bounds){var r=d['default'].getTransformFromProjections(t,o);a=l.a.applyTransform(e.bounds,r)}var s=e.minzoom||0,g=e.maxzoom||22,u=c.a.createXYZ({extent:c.a.extentFromProjection(o),maxZoom:g,minZoom:s});if(this.tileGrid=u,this.tileUrlFunction=i.a.createFromTemplates(e.tiles,u),void 0!==e.attribution&&!this.getAttributions()){var _=void 0===a?t.getExtent():a,y={},h,m;for(h=s;h<=g;++h)m=h.toString(),y[m]=[u.getTileRangeForExtentAndZ(_,h)];this.setAttributions([new n.a({html:e.attribution,tileRanges:y})])}this.tileJSON_=e,this.setState(p.a.READY)},u.prototype.handleTileJSONError=function(){this.setState(p.a.ERROR)},t.a=u},function(e,t,o){'use strict';var a=o(0),n={};n.jsonp=function(e,t,o,n){function i(){delete window[l],r.parentNode.removeChild(r)}var r=document.createElement('script'),l='olc_'+a.a.getUid(t);r.async=!0,r.src=e+(-1==e.indexOf('?')?'?':'&')+(n||'callback')+'='+l;var s=setTimeout(function(){i(),o&&o()},1e4);window[l]=function(e){clearTimeout(s),i(),t(e)},document.getElementsByTagName('head')[0].appendChild(r)},t.a=n},function(e,t,o){'use strict';var a=Math.round,n=o(0),i=o(11),r=o(268),l=o(269),s=o(10),d=o(31),p=o(32),g=o(128),c=function(e){var t=e.projection||'EPSG:3857',o=e.extent||p.a.extentFromProjection(t),a=e.tileGrid||p.a.createXYZ({extent:o,maxZoom:e.maxZoom||22,minZoom:e.minZoom,tileSize:e.tileSize||512});g.a.call(this,{attributions:e.attributions,cacheSize:void 0===e.cacheSize?128:e.cacheSize,extent:o,logo:e.logo,opaque:!1,projection:t,state:e.state,tileGrid:a,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:r.a.defaultLoadFunction,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX}),this.format_=e.format?e.format:null,this.sourceTiles_={},this.overlaps_=void 0==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:l.a,this.tileGrids_={},this.tileGrid||(this.tileGrid=this.getTileGridForProjection(s['default'].get(e.projection||'EPSG:3857')))};n.a.inherits(c,g.a),c.prototype.getOverlaps=function(){return this.overlaps_},c.prototype.getTile=function(e,t,o,a,n){var l=this.getKeyZXY(e,t,o);if(this.tileCache.containsKey(l))return this.tileCache.get(l);var s=[e,t,o],d=this.getTileCoordForTileUrlFunction(s,n),p=d?this.tileUrlFunction(d,a,n):void 0,g=new r.a(s,void 0===p?i.a.EMPTY:i.a.IDLE,void 0===p?'':p,this.format_,this.tileLoadFunction,d,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(n),this.sourceTiles_,a,n,this.tileClass,this.handleTileChange.bind(this));return this.tileCache.set(l,g),g},c.prototype.getTileGridForProjection=function(e){var t=e.getCode(),o=this.tileGrids_[t];if(!o){var a=this.tileGrid;o=this.tileGrids_[t]=p.a.createForProjection(e,void 0,a?a.getTileSize(a.getMinZoom()):void 0)}return o},c.prototype.getTilePixelRatio=function(e){return e},c.prototype.getTilePixelSize=function(e,t,o){var n=d.a.toSize(this.getTileGridForProjection(o).getTileSize(e));return[a(n[0]*t),a(n[1]*t)]},t.a=c},function(e,t,o){'use strict';var a=o(0),n=o(73),r=o(11),i=o(3),l=o(8),s=o(4),d=o(1),p=o(5),g=o(134),c=function(e,t,o,a,i,l,g,c,u,_,y,h,m,f){if(n.a.call(this,e,t),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=_,this.tileKeys=[],this.src_=o,this.wrappedTileCoord=l,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],l){var E=u.getTileCoordExtent(l),T=u.getResolution(e[0]),S=c.getZForResolution(T);c.forEachTileCoord(E,S,function(e){var t=d.a.getIntersection(E,c.getTileCoordExtent(e));if(0.5<=d.a.getWidth(t)/T&&0.5<=d.a.getHeight(t)/T){var o=e.toString(),n=_[o];if(!n){var l=g(e,y,h);n=_[o]=new m(e,void 0==l?r.a.EMPTY:r.a.IDLE,void 0==l?'':l,a,i),this.sourceTileListenerKeys_.push(s.a.listen(n,p.a.CHANGE,f))}n.consumers++,this.tileKeys.push(o)}}.bind(this))}};a.a.inherits(c,n.a),c.prototype.disposeInternal=function(){for(var e=0,t=this.tileKeys.length;e<t;++e){var o=this.tileKeys[e],a=this.getTile(o);a.consumers--,0==a.consumers&&(delete this.sourceTiles_[o],a.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.state==r.a.LOADING&&(this.loadListenerKeys_.forEach(s.a.unlistenByKey),this.loadListenerKeys_.length=0),this.interimTile&&this.interimTile.dispose(),this.state=r.a.ABORT,this.changed(),this.sourceTileListenerKeys_.forEach(s.a.unlistenByKey),this.sourceTileListenerKeys_.length=0,n.a.prototype.disposeInternal.call(this)},c.prototype.getContext=function(e){var t=a.a.getUid(e).toString();return t in this.context_||(this.context_[t]=l.a.createCanvasContext2D()),this.context_[t]},c.prototype.getImage=function(e){return-1==this.getReplayState(e).renderedTileRevision?null:this.getContext(e).canvas},c.prototype.getReplayState=function(e){var t=a.a.getUid(e).toString();return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[t]},c.prototype.getKey=function(){return this.tileKeys.join('/')+'/'+this.src_},c.prototype.getTile=function(e){return this.sourceTiles_[e]},c.prototype.load=function(){var e=0;this.state==r.a.IDLE&&this.setState(r.a.LOADING),this.state==r.a.LOADING&&this.tileKeys.forEach(function(t){var o=this.getTile(t);if(o.state==r.a.IDLE&&(o.setLoader(this.loader_),o.load()),o.state==r.a.LOADING){var a=s.a.listen(o,p.a.CHANGE,function(){var t=o.getState();(t==r.a.LOADED||t==r.a.ERROR)&&(--e,s.a.unlistenByKey(a),i.a.remove(this.loadListenerKeys_,a),0==e&&this.finishLoading_())}.bind(this));this.loadListenerKeys_.push(a),++e}}.bind(this)),0==e&&setTimeout(this.finishLoading_.bind(this),0)},c.prototype.finishLoading_=function(){for(var e=!1,t=this.tileKeys.length,o=t-1,a;0<=o;--o)a=this.getTile(this.tileKeys[o]).getState(),a!=r.a.LOADED&&(a==r.a.ERROR&&(e=!0),--t);this.setState(0<t?r.a.LOADED:e?r.a.ERROR:r.a.EMPTY)},c.defaultLoadFunction=function(e,t){var o=g.a.loadFeaturesXhr(t,e.getFormat(),e.onLoad.bind(e),e.onError.bind(e));e.setLoader(o)},t.a=c},function(e,t,o){'use strict';var a=o(0),n=o(73),i=o(11),r=function(e,t,o,a,i){n.a.call(this,e,t),this.consumers=0,this.extent_=null,this.format_=a,this.features_=null,this.loader_,this.projection_,this.replayGroups_={},this.tileLoadFunction_=i,this.url_=o};a.a.inherits(r,n.a),r.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=i.a.ABORT,this.changed(),n.a.prototype.disposeInternal.call(this)},r.prototype.getExtent=function(){return this.extent_||r.DEFAULT_EXTENT},r.prototype.getFormat=function(){return this.format_},r.prototype.getFeatures=function(){return this.features_},r.prototype.getKey=function(){return this.url_},r.prototype.getProjection=function(){return this.projection_},r.prototype.getReplayGroup=function(e,t){return this.replayGroups_[a.a.getUid(e)+','+t]},r.prototype.load=function(){this.state==i.a.IDLE&&(this.setState(i.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},r.prototype.onLoad=function(e,t,o){this.setProjection(t),this.setFeatures(e),this.setExtent(o)},r.prototype.onError=function(){this.setState(i.a.ERROR)},r.prototype.setExtent=function(e){this.extent_=e},r.prototype.setFeatures=function(e){this.features_=e,this.setState(i.a.LOADED)},r.prototype.setProjection=function(e){this.projection_=e},r.prototype.setReplayGroup=function(e,t,o){this.replayGroups_[a.a.getUid(e)+','+t]=o},r.prototype.setLoader=function(e){this.loader_=e},r.DEFAULT_EXTENT=[0,0,4096,4096],t.a=r},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(0),n=o(49),i=o(7),r=o(25),l=o(4),s=o(5),d=o(271),p=o(272),g=o(273),c=o(132),u=function(e){var t=e||{};this.anchor_=t.anchor===void 0?[0.5,0.5]:t.anchor,this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin===void 0?g.a.TOP_LEFT:t.anchorOrigin,this.anchorXUnits_=t.anchorXUnits===void 0?d.a.FRACTION:t.anchorXUnits,this.anchorYUnits_=t.anchorYUnits===void 0?d.a.FRACTION:t.anchorYUnits,this.crossOrigin_=t.crossOrigin===void 0?null:t.crossOrigin;var o=t.img===void 0?null:t.img,l=t.imgSize===void 0?null:t.imgSize,s=t.src;i.a.assert(!(s!==void 0&&o),4),i.a.assert(!o||o&&l,5),(s===void 0||0===s.length)&&o&&(s=o.src||a.a.getUid(o).toString()),i.a.assert(s!==void 0&&0<s.length,6);var u=t.src===void 0?n.a.LOADED:n.a.IDLE;this.color_=t.color===void 0?null:r.a.asArray(t.color),this.iconImage_=p.a.get(o,s,l,this.crossOrigin_,u,this.color_),this.offset_=t.offset===void 0?[0,0]:t.offset,this.offsetOrigin_=t.offsetOrigin===void 0?g.a.TOP_LEFT:t.offsetOrigin,this.origin_=null,this.size_=t.size===void 0?null:t.size;var _=t.opacity===void 0?1:t.opacity,y=t.rotateWithView!==void 0&&t.rotateWithView,h=t.rotation===void 0?0:t.rotation,m=t.scale===void 0?1:t.scale,f=!(t.snapToPixel!==void 0)||t.snapToPixel;c.a.call(this,{opacity:_,rotation:h,scale:m,snapToPixel:f,rotateWithView:y})};a.a.inherits(u,c.a),u.prototype.clone=function(){var e=this.getImage(1),t;if(this.iconImage_.getImageState()===n.a.LOADED)if('IMG'===e.tagName.toUpperCase())t=e.cloneNode(!0);else{t=document.createElement('canvas');var o=t.getContext('2d');t.width=e.width,t.height=e.height,o.drawImage(e,0,0)}return new u({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,img:t?t:void 0,imgSize:t?this.iconImage_.getSize().slice():void 0,src:t?void 0:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null===this.size_?void 0:this.size_.slice(),opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},u.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,t=this.getSize();if(this.anchorXUnits_==d.a.FRACTION||this.anchorYUnits_==d.a.FRACTION){if(!t)return null;e=this.anchor_.slice(),this.anchorXUnits_==d.a.FRACTION&&(e[0]*=t[0]),this.anchorYUnits_==d.a.FRACTION&&(e[1]*=t[1])}if(this.anchorOrigin_!=g.a.TOP_LEFT){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_==g.a.TOP_RIGHT||this.anchorOrigin_==g.a.BOTTOM_RIGHT)&&(e[0]=-e[0]+t[0]),(this.anchorOrigin_==g.a.BOTTOM_LEFT||this.anchorOrigin_==g.a.BOTTOM_RIGHT)&&(e[1]=-e[1]+t[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},u.prototype.getColor=function(){return this.color_},u.prototype.getImage=function(e){return this.iconImage_.getImage(e)},u.prototype.getImageSize=function(){return this.iconImage_.getSize()},u.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},u.prototype.getImageState=function(){return this.iconImage_.getImageState()},u.prototype.getHitDetectionImage=function(e){return this.iconImage_.getHitDetectionImage(e)},u.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=g.a.TOP_LEFT){var t=this.getSize(),o=this.iconImage_.getSize();if(!t||!o)return null;e=e.slice(),(this.offsetOrigin_==g.a.TOP_RIGHT||this.offsetOrigin_==g.a.BOTTOM_RIGHT)&&(e[0]=o[0]-t[0]-e[0]),(this.offsetOrigin_==g.a.BOTTOM_LEFT||this.offsetOrigin_==g.a.BOTTOM_RIGHT)&&(e[1]=o[1]-t[1]-e[1])}return this.origin_=e,this.origin_},u.prototype.getSrc=function(){return this.iconImage_.getSrc()},u.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},u.prototype.listenImageChange=function(e,t){return l.a.listen(this.iconImage_,s.a.CHANGE,e,t)},u.prototype.load=function(){this.iconImage_.load()},u.prototype.unlistenImageChange=function(e,t){l.a.unlisten(this.iconImage_,s.a.CHANGE,e,t)},t['default']=u},function(e,t){'use strict';t.a={FRACTION:'fraction',PIXELS:'pixels'}},function(e,t,o){'use strict';var a=o(0),n=o(8),i=o(4),r=o(42),l=o(5),s=o(49),d=o(107),p=function(e,t,o,a,n,i){r.a.call(this),this.hitDetectionImage_=null,this.image_=e?e:new Image,null!==a&&(this.image_.crossOrigin=a),this.canvas_=i?document.createElement('CANVAS'):null,this.color_=i,this.imageListenerKeys_=null,this.imageState_=n,this.size_=o,this.src_=t,this.tainting_=!1,this.imageState_==s.a.LOADED&&this.determineTainting_()};a.a.inherits(p,r.a),p.get=function(e,t,o,a,n,i){var r=d.a.iconImageCache,l=r.get(t,a,i);return l||(l=new p(e,t,o,a,n,i),r.set(t,a,i,l)),l},p.prototype.determineTainting_=function(){var e=n.a.createCanvasContext2D(1,1);try{e.drawImage(this.image_,0,0),e.getImageData(0,0,1,1)}catch(t){this.tainting_=!0}},p.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(l.a.CHANGE)},p.prototype.handleImageError_=function(){this.imageState_=s.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},p.prototype.handleImageLoad_=function(){this.imageState_=s.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.determineTainting_(),this.replaceColor_(),this.dispatchChangeEvent_()},p.prototype.getImage=function(){return this.canvas_?this.canvas_:this.image_},p.prototype.getImageState=function(){return this.imageState_},p.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.tainting_){var e=this.size_[0],t=this.size_[1],o=n.a.createCanvasContext2D(e,t);o.fillRect(0,0,e,t),this.hitDetectionImage_=o.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},p.prototype.getSize=function(){return this.size_},p.prototype.getSrc=function(){return this.src_},p.prototype.load=function(){if(this.imageState_==s.a.IDLE){this.imageState_=s.a.LOADING,this.imageListenerKeys_=[i.a.listenOnce(this.image_,l.a.ERROR,this.handleImageError_,this),i.a.listenOnce(this.image_,l.a.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},p.prototype.replaceColor_=function(){if(!(this.tainting_||null===this.color_)){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var e=this.canvas_.getContext('2d');e.drawImage(this.image_,0,0);for(var t=e.getImageData(0,0,this.image_.width,this.image_.height),o=t.data,a=this.color_[0]/255,n=this.color_[1]/255,r=this.color_[2]/255,l=0,i=o.length;l<i;l+=4)o[l]*=a,o[l+1]*=n,o[l+2]*=r;e.putImageData(t,0,0)}},p.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(i.a.unlistenByKey),this.imageListenerKeys_=null},t.a=p},function(e,t){'use strict';t.a={BOTTOM_LEFT:'bottom-left',BOTTOM_RIGHT:'bottom-right',TOP_LEFT:'top-left',TOP_RIGHT:'top-right'}}]);
//# sourceMappingURL=main.a84e8a6f2f59a000873f.js.map